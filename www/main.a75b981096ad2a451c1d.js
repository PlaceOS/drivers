(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/POA":function(e,t,i){window,e.exports=function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,(function(t){return e[t]}).bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=34)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0;var r=function(){function e(){this._listeners=[],this._disposed=!1}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t){return e._listeners.push(t),{dispose:function(){if(!e._disposed)for(var i=0;i<e._listeners.length;i++)if(e._listeners[i]===t)return void e._listeners.splice(i,1)}}}),this._event},enumerable:!1,configurable:!0}),e.prototype.fire=function(e,t){for(var i=[],r=0;r<this._listeners.length;r++)i.push(this._listeners[r]);for(r=0;r<i.length;r++)i[r].call(void 0,e,t)},e.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},e}();t.EventEmitter=r,t.forwardEvent=function(e,t){return e((function(e){return t.fire(e)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IUnicodeService=t.IOptionsService=t.ILogService=t.IInstantiationService=t.IDirtyRowService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;var r=i(14);t.IBufferService=r.createDecorator("BufferService"),t.ICoreMouseService=r.createDecorator("CoreMouseService"),t.ICoreService=r.createDecorator("CoreService"),t.ICharsetService=r.createDecorator("CharsetService"),t.IDirtyRowService=r.createDecorator("DirtyRowService"),t.IInstantiationService=r.createDecorator("InstantiationService"),t.ILogService=r.createDecorator("LogService"),t.IOptionsService=r.createDecorator("OptionsService"),t.IUnicodeService=r.createDecorator("UnicodeService")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.Disposable=void 0;var r=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){this._isDisposed=!0;for(var e=0,t=this._disposables;e<t.length;e++)t[e].dispose();this._disposables.length=0},e.prototype.register=function(e){return this._disposables.push(e),e},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();function n(e){for(var t=0,i=e;t<i.length;t++)i[t].dispose();e.length=0}t.Disposable=r,t.disposeArray=n,t.getDisposeArrayDisposable=function(e){return{dispose:function(){return n(e)}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=256,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;var s=i(8),o=i(3),a=i(6),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=0,t.fg=0,t.bg=0,t.extended=new a.ExtendedAttrs,t.combinedData="",t}return n(t,e),t.fromCharData=function(e){var i=new t;return i.setFromCharData(e),i},t.prototype.isCombined=function(){return 2097152&this.content},t.prototype.getWidth=function(){return this.content>>22},t.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?s.stringFromCodePoint(2097151&this.content):""},t.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},t.prototype.setFromCharData=function(e){this.fg=e[o.CHAR_DATA_ATTR_INDEX],this.bg=0;var t=!1;if(e[o.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[o.CHAR_DATA_CHAR_INDEX].length){var i=e[o.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=i&&i<=56319){var r=e[o.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=r&&r<=57343?this.content=1024*(i-55296)+r-56320+65536|e[o.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[o.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[o.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[o.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[o.CHAR_DATA_WIDTH_INDEX]<<22)},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(a.AttributeData);t.CellData=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISoundService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;var r=i(14);t.ICharSizeService=r.createDecorator("CharSizeService"),t.ICoreBrowserService=r.createDecorator("CoreBrowserService"),t.IMouseService=r.createDecorator("MouseService"),t.IRenderService=r.createDecorator("RenderService"),t.ISelectionService=r.createDecorator("SelectionService"),t.ISoundService=r.createDecorator("SoundService")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;var r=function(){function e(){this.fg=0,this.bg=0,this.extended=new n}return e.toColorRGB=function(e){return[e>>>16&255,e>>>8&255,255&e]},e.fromColorRGB=function(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},e.prototype.clone=function(){var t=new e;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t},e.prototype.isInverse=function(){return 67108864&this.fg},e.prototype.isBold=function(){return 134217728&this.fg},e.prototype.isUnderline=function(){return 268435456&this.fg},e.prototype.isBlink=function(){return 536870912&this.fg},e.prototype.isInvisible=function(){return 1073741824&this.fg},e.prototype.isItalic=function(){return 67108864&this.bg},e.prototype.isDim=function(){return 134217728&this.bg},e.prototype.getFgColorMode=function(){return 50331648&this.fg},e.prototype.getBgColorMode=function(){return 50331648&this.bg},e.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},e.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},e.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},e.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},e.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},e.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},e.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},e.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},e.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},e.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},e.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},e.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},e.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},e.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()},e.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()},e.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()},e.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},e}();t.AttributeData=r;var n=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=-1),this.underlineStyle=e,this.underlineColor=t}return e.prototype.clone=function(){return new e(this.underlineStyle,this.underlineColor)},e.prototype.isEmpty=function(){return 0===this.underlineStyle},e}();t.ExtendedAttrs=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,i,r){e.addEventListener(t,i,r);var n=!1;return{dispose:function(){n||(n=!0,e.removeEventListener(t,i,r))}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=e.length);for(var r="",n=t;n<i;++n){var s=e[n];s>65535?(s-=65536,r+=String.fromCharCode(55296+(s>>10))+String.fromCharCode(s%1024+56320)):r+=String.fromCharCode(s)}return r};var r=function(){function e(){this._interim=0}return e.prototype.clear=function(){this._interim=0},e.prototype.decode=function(e,t){var i=e.length;if(!i)return 0;var r=0,n=0;this._interim&&(56320<=(a=e.charCodeAt(n++))&&a<=57343?t[r++]=1024*(this._interim-55296)+a-56320+65536:(t[r++]=this._interim,t[r++]=a),this._interim=0);for(var s=n;s<i;++s){var o=e.charCodeAt(s);if(55296<=o&&o<=56319){if(++s>=i)return this._interim=o,r;var a;56320<=(a=e.charCodeAt(s))&&a<=57343?t[r++]=1024*(o-55296)+a-56320+65536:(t[r++]=o,t[r++]=a)}else t[r++]=o}return r},e}();t.StringToUtf32=r;var n=function(){function e(){this.interim=new Uint8Array(3)}return e.prototype.clear=function(){this.interim.fill(0)},e.prototype.decode=function(e,t){var i=e.length;if(!i)return 0;var r,n,s,o,a=0,l=0,c=0;if(this.interim[0]){var h=!1,u=this.interim[0];u&=192==(224&u)?31:224==(240&u)?15:7;for(var d=0,f=void 0;(f=63&this.interim[++d])&&d<4;)u<<=6,u|=f;for(var p=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,_=p-d;c<_;){if(c>=i)return 0;if(128!=(192&(f=e[c++]))){c--,h=!0;break}this.interim[d++]=f,u<<=6,u|=63&f}h||(2===p?u<128?c--:t[a++]=u:3===p?u<2048||u>=55296&&u<=57343||(t[a++]=u):u<65536||u>1114111||(t[a++]=u)),this.interim.fill(0)}for(var m=i-4,g=c;g<i;){for(;!(!(g<m)||128&(r=e[g])||128&(n=e[g+1])||128&(s=e[g+2])||128&(o=e[g+3]));)t[a++]=r,t[a++]=n,t[a++]=s,t[a++]=o,g+=4;if((r=e[g++])<128)t[a++]=r;else if(192==(224&r)){if(g>=i)return this.interim[0]=r,a;if(128!=(192&(n=e[g++]))){g--;continue}if((l=(31&r)<<6|63&n)<128){g--;continue}t[a++]=l}else if(224==(240&r)){if(g>=i)return this.interim[0]=r,a;if(128!=(192&(n=e[g++]))){g--;continue}if(g>=i)return this.interim[0]=r,this.interim[1]=n,a;if(128!=(192&(s=e[g++]))){g--;continue}if((l=(15&r)<<12|(63&n)<<6|63&s)<2048||l>=55296&&l<=57343)continue;t[a++]=l}else if(240==(248&r)){if(g>=i)return this.interim[0]=r,a;if(128!=(192&(n=e[g++]))){g--;continue}if(g>=i)return this.interim[0]=r,this.interim[1]=n,a;if(128!=(192&(s=e[g++]))){g--;continue}if(g>=i)return this.interim[0]=r,this.interim[1]=n,this.interim[2]=s,a;if(128!=(192&(o=e[g++]))){g--;continue}if((l=(7&r)<<18|(63&n)<<12|(63&s)<<6|63&o)<65536||l>1114111)continue;t[a++]=l}}return a},e}();t.Utf8ToUtf32=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR_ATLAS_CELL_SPACING=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0,t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.CHAR_ATLAS_CELL_SPACING=1},function(e,t,i){"use strict";var r,n,s,o;function a(e){var t=e.toString(16);return t.length<2?"0"+t:t}function l(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=void 0,function(e){e.toCss=function(e,t,i,r){return void 0!==r?"#"+a(e)+a(t)+a(i)+a(r):"#"+a(e)+a(t)+a(i)},e.toRgba=function(e,t,i,r){return void 0===r&&(r=255),(e<<24|t<<16|i<<8|r)>>>0}}(r=t.channels||(t.channels={})),(n=t.color||(t.color={})).blend=function(e,t){var i=(255&t.rgba)/255;if(1===i)return{css:t.css,rgba:t.rgba};var n=t.rgba>>16&255,s=t.rgba>>8&255,o=e.rgba>>24&255,a=e.rgba>>16&255,l=e.rgba>>8&255,c=o+Math.round(((t.rgba>>24&255)-o)*i),h=a+Math.round((n-a)*i),u=l+Math.round((s-l)*i);return{css:r.toCss(c,h,u),rgba:r.toRgba(c,h,u)}},n.isOpaque=function(e){return 255==(255&e.rgba)},n.ensureContrastRatio=function(e,t,i){var r=o.ensureContrastRatio(e.rgba,t.rgba,i);if(r)return o.toColor(r>>24&255,r>>16&255,r>>8&255)},n.opaque=function(e){var t=(255|e.rgba)>>>0,i=o.toChannels(t);return{css:r.toCss(i[0],i[1],i[2]),rgba:t}},n.opacity=function(e,t){var i=Math.round(255*t),n=o.toChannels(e.rgba),s=n[0],a=n[1],l=n[2];return{css:r.toCss(s,a,l,i),rgba:r.toRgba(s,a,l,i)}},(t.css||(t.css={})).toColor=function(e){switch(e.length){case 7:return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0};case 9:return{css:e,rgba:parseInt(e.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(e){function t(e,t,i){var r=e/255,n=t/255,s=i/255;return.2126*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(s=t.rgb||(t.rgb={})),function(e){function t(e,t,i){for(var r=e>>24&255,n=e>>16&255,o=e>>8&255,a=t>>24&255,c=t>>16&255,h=t>>8&255,u=l(s.relativeLuminance2(a,h,c),s.relativeLuminance2(r,n,o));u<i&&(a>0||c>0||h>0);)a-=Math.max(0,Math.ceil(.1*a)),c-=Math.max(0,Math.ceil(.1*c)),h-=Math.max(0,Math.ceil(.1*h)),u=l(s.relativeLuminance2(a,h,c),s.relativeLuminance2(r,n,o));return(a<<24|c<<16|h<<8|255)>>>0}function i(e,t,i){for(var r=e>>24&255,n=e>>16&255,o=e>>8&255,a=t>>24&255,c=t>>16&255,h=t>>8&255,u=l(s.relativeLuminance2(a,h,c),s.relativeLuminance2(r,n,o));u<i&&(a<255||c<255||h<255);)a=Math.min(255,a+Math.ceil(.1*(255-a))),c=Math.min(255,c+Math.ceil(.1*(255-c))),h=Math.min(255,h+Math.ceil(.1*(255-h))),u=l(s.relativeLuminance2(a,h,c),s.relativeLuminance2(r,n,o));return(a<<24|c<<16|h<<8|255)>>>0}e.ensureContrastRatio=function(e,r,n){var o=s.relativeLuminance(e>>8),a=s.relativeLuminance(r>>8);if(l(o,a)<n)return a<o?t(e,r,n):i(e,r,n)},e.reduceLuminance=t,e.increaseLuminance=i,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,i){return{css:r.toCss(e,t,i),rgba:r.toRgba(e,t,i)}}}(o=t.rgba||(t.rgba={})),t.toPaddedHex=a,t.contrastRatio=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.isSafari=t.isFirefox=void 0;var r="undefined"==typeof navigator,n=r?"node":navigator.userAgent,s=r?"node":navigator.platform;function o(e,t){return e.indexOf(t)>=0}t.isFirefox=!!~n.indexOf("Firefox"),t.isSafari=/^((?!chrome|android).)*safari/i.test(n),t.isMac=o(["Macintosh","MacIntel","MacPPC","Mac68K"],s),t.isIpad="iPad"===s,t.isIphone="iPhone"===s,t.isWindows=o(["Windows","Win16","Win32","WinCE"],s),t.isLinux=s.indexOf("Linux")>=0},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.C1=t.C0=void 0,function(e){e.NUL="\0",e.SOH="\x01",e.STX="\x02",e.ETX="\x03",e.EOT="\x04",e.ENQ="\x05",e.ACK="\x06",e.BEL="\x07",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="\x0e",e.SI="\x0f",e.DLE="\x10",e.DC1="\x11",e.DC2="\x12",e.DC3="\x13",e.DC4="\x14",e.NAK="\x15",e.SYN="\x16",e.ETB="\x17",e.CAN="\x18",e.EM="\x19",e.SUB="\x1a",e.ESC="\x1b",e.FS="\x1c",e.GS="\x1d",e.RS="\x1e",e.US="\x1f",e.SP=" ",e.DEL="\x7f"}(t.C0||(t.C0={})),function(e){e.PAD="\x80",e.HOP="\x81",e.BPH="\x82",e.NBH="\x83",e.IND="\x84",e.NEL="\x85",e.SSA="\x86",e.ESA="\x87",e.HTS="\x88",e.HTJ="\x89",e.VTS="\x8a",e.PLD="\x8b",e.PLU="\x8c",e.RI="\x8d",e.SS2="\x8e",e.SS3="\x8f",e.DCS="\x90",e.PU1="\x91",e.PU2="\x92",e.STS="\x93",e.CCH="\x94",e.MW="\x95",e.SPA="\x96",e.EPA="\x97",e.SOS="\x98",e.SGCI="\x99",e.SCI="\x9a",e.CSI="\x9b",e.ST="\x9c",e.OSC="\x9d",e.PM="\x9e",e.APC="\x9f"}(t.C1||(t.C1={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderLayer=void 0;var r=i(3),n=i(9),s=i(25),o=i(6),a=i(28),l=i(10),c=i(17),h=function(){function e(e,t,i,r,n,s,o,a){this._container=e,this._alpha=r,this._colors=n,this._rendererId=s,this._bufferService=o,this._optionsService=a,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=i.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){var e;c.removeElementFromParent(this._canvas),null===(e=this._charAtlas)||void 0===e||e.dispose()},e.prototype._initCanvas=function(){this._ctx=a.throwIfFalsy(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},e.prototype.onOptionsChanged=function(){},e.prototype.onBlur=function(){},e.prototype.onFocus=function(){},e.prototype.onCursorMove=function(){},e.prototype.onGridChanged=function(e,t){},e.prototype.onSelectionChanged=function(e,t,i){void 0===i&&(i=!1)},e.prototype.setColors=function(e){this._refreshCharAtlas(e)},e.prototype._setTransparency=function(e){if(e!==this._alpha){var t=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,t),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},e.prototype._refreshCharAtlas=function(e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=s.acquireCharAtlas(this._optionsService.options,this._rendererId,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},e.prototype._fillCells=function(e,t,i,r){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,r*this._scaledCellHeight)},e.prototype._fillBottomLineAtCells=function(e,t,i){void 0===i&&(i=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,i*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillLeftLineAtCell=function(e,t,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio*i,this._scaledCellHeight)},e.prototype._strokeRectAtCell=function(e,t,i,r){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,i*this._scaledCellWidth-window.devicePixelRatio,r*this._scaledCellHeight-window.devicePixelRatio)},e.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype._clearCells=function(e,t,i,r){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,r*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,r*this._scaledCellHeight))},e.prototype._fillCharTrueColor=function(e,t,i){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline="middle",this._clipRow(i),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2)},e.prototype._drawChars=function(e,t,i){var s,o,a=this._getContrastColor(e);a||e.isFgRGB()||e.isBgRGB()?this._drawUncachedChars(e,t,i,a):(e.isInverse()?(s=e.isBgDefault()?n.INVERTED_DEFAULT_COLOR:e.getBgColor(),o=e.isFgDefault()?n.INVERTED_DEFAULT_COLOR:e.getFgColor()):(o=e.isBgDefault()?r.DEFAULT_COLOR:e.getBgColor(),s=e.isFgDefault()?r.DEFAULT_COLOR:e.getFgColor()),s+=this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&s<8?8:0,this._currentGlyphIdentifier.chars=e.getChars()||r.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||r.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=o,this._currentGlyphIdentifier.fg=s,this._currentGlyphIdentifier.bold=!!e.isBold(),this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic(),this._charAtlas&&this._charAtlas.draw(this._ctx,this._currentGlyphIdentifier,t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(e,t,i))},e.prototype._drawUncachedChars=function(e,t,i,r){if(this._ctx.save(),this._ctx.font=this._getFont(!!e.isBold(),!!e.isItalic()),this._ctx.textBaseline="middle",e.isInverse())if(r)this._ctx.fillStyle=r.css;else if(e.isBgDefault())this._ctx.fillStyle=l.color.opaque(this._colors.background).css;else if(e.isBgRGB())this._ctx.fillStyle="rgb("+o.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var s=e.getBgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&s<8&&(s+=8),this._ctx.fillStyle=this._colors.ansi[s].css}else if(r)this._ctx.fillStyle=r.css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle="rgb("+o.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var a=e.getFgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&a<8&&(a+=8),this._ctx.fillStyle=this._colors.ansi[a].css}this._clipRow(i),e.isDim()&&(this._ctx.globalAlpha=n.DIM_OPACITY),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2),this._ctx.restore()},e.prototype._clipRow=function(e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t){return(t?"italic":"")+" "+(e?this._optionsService.options.fontWeightBold:this._optionsService.options.fontWeight)+" "+this._optionsService.options.fontSize*window.devicePixelRatio+"px "+this._optionsService.options.fontFamily},e.prototype._getContrastColor=function(e){if(1!==this._optionsService.options.minimumContrastRatio){var t=this._colors.contrastCache.getColor(e.bg,e.fg);if(void 0!==t)return t||void 0;var i=e.getFgColor(),r=e.getFgColorMode(),n=e.getBgColor(),s=e.getBgColorMode(),o=!!e.isInverse(),a=!!e.isInverse();if(o){var c=i;i=n,n=c;var h=r;r=s,s=h}var u=this._resolveBackgroundRgba(s,n,o),d=this._resolveForegroundRgba(r,i,o,a),f=l.rgba.ensureContrastRatio(u,d,this._optionsService.options.minimumContrastRatio);if(f){var p={css:l.channels.toCss(f>>24&255,f>>16&255,f>>8&255),rgba:f};return this._colors.contrastCache.setColor(e.bg,e.fg,p),p}this._colors.contrastCache.setColor(e.bg,e.fg,null)}},e.prototype._resolveBackgroundRgba=function(e,t,i){switch(e){case 16777216:case 33554432:return this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return i?this._colors.foreground.rgba:this._colors.background.rgba}},e.prototype._resolveForegroundRgba=function(e,t,i,r){switch(e){case 16777216:case 33554432:return this._optionsService.options.drawBoldTextInBrightColors&&r&&t<8&&(t+=8),this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return i?this._colors.background.rgba:this._colors.foreground.rgba}},e}();t.BaseRenderLayer=h},function(e,t,i){"use strict";function r(e,t,i){t.di$target===t?t.di$dependencies.push({id:e,index:i}):(t.di$dependencies=[{id:e,index:i}],t.di$target=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0,t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e.di$dependencies||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);var i=function(e,t,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");r(i,e,n)};return i.toString=function(){return e},t.serviceRegistry.set(e,i),i}},function(e,t,i){"use strict";function r(e,t,i,r){if(void 0===i&&(i=0),void 0===r&&(r=e.length),i>=e.length)return e;r=r>=e.length?e.length:(e.length+r)%e.length;for(var n=i=(e.length+i)%e.length;n<r;++n)e[n]=t;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.concat=t.fillFallback=t.fill=void 0,t.fill=function(e,t,i,n){return e.fill?e.fill(t,i,n):r(e,t,i,n)},t.fillFallback=r,t.concat=function(e,t){var i=new e.constructor(e.length+t.length);return i.set(e),i.set(t,e.length),i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;var r=i(8),n=i(3),s=i(4),o=i(6);t.DEFAULT_ATTR_DATA=Object.freeze(new o.AttributeData);var a=function(){function e(e,t,i){void 0===i&&(i=!1),this.isWrapped=i,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);for(var r=t||s.CellData.fromCharData([0,n.NULL_CELL_CHAR,n.NULL_CELL_WIDTH,n.NULL_CELL_CODE]),o=0;o<e;++o)this.setCell(o,r);this.length=e}return e.prototype.get=function(e){var t=this._data[3*e+0],i=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:i?r.stringFromCodePoint(i):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):i]},e.prototype.set=function(e,t){this._data[3*e+1]=t[n.CHAR_DATA_ATTR_INDEX],t[n.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[n.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[n.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[n.CHAR_DATA_WIDTH_INDEX]<<22},e.prototype.getWidth=function(e){return this._data[3*e+0]>>22},e.prototype.hasWidth=function(e){return 12582912&this._data[3*e+0]},e.prototype.getFg=function(e){return this._data[3*e+1]},e.prototype.getBg=function(e){return this._data[3*e+2]},e.prototype.hasContent=function(e){return 4194303&this._data[3*e+0]},e.prototype.getCodePoint=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t},e.prototype.isCombined=function(e){return 2097152&this._data[3*e+0]},e.prototype.getString=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?r.stringFromCodePoint(2097151&t):""},e.prototype.loadCell=function(e,t){var i=3*e;return t.content=this._data[i+0],t.fg=this._data[i+1],t.bg=this._data[i+2],2097152&t.content&&(t.combinedData=this._combined[e]),268435456&t.bg&&(t.extended=this._extendedAttrs[e]),t},e.prototype.setCell=function(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),268435456&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg},e.prototype.setCellFromCodePoint=function(e,t,i,r,n,s){268435456&n&&(this._extendedAttrs[e]=s),this._data[3*e+0]=t|i<<22,this._data[3*e+1]=r,this._data[3*e+2]=n},e.prototype.addCodepointToCell=function(e,t){var i=this._data[3*e+0];2097152&i?this._combined[e]+=r.stringFromCodePoint(t):(2097151&i?(this._combined[e]=r.stringFromCodePoint(2097151&i)+r.stringFromCodePoint(t),i&=-2097152,i|=2097152):i=t|1<<22,this._data[3*e+0]=i)},e.prototype.insertCells=function(e,t,i,r){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==r?void 0:r.fg)||0,(null==r?void 0:r.bg)||0,(null==r?void 0:r.extended)||new o.ExtendedAttrs),t<this.length-e){for(var n=new s.CellData,a=this.length-e-t-1;a>=0;--a)this.setCell(e+t+a,this.loadCell(e+a,n));for(a=0;a<t;++a)this.setCell(e+a,i)}else for(a=e;a<this.length;++a)this.setCell(a,i);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==r?void 0:r.fg)||0,(null==r?void 0:r.bg)||0,(null==r?void 0:r.extended)||new o.ExtendedAttrs)},e.prototype.deleteCells=function(e,t,i,r){if(t<this.length-(e%=this.length)){for(var n=new s.CellData,a=0;a<this.length-e-t;++a)this.setCell(e+a,this.loadCell(e+t+a,n));for(a=this.length-t;a<this.length;++a)this.setCell(a,i)}else for(a=e;a<this.length;++a)this.setCell(a,i);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==r?void 0:r.fg)||0,(null==r?void 0:r.bg)||0,(null==r?void 0:r.extended)||new o.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==r?void 0:r.fg)||0,(null==r?void 0:r.bg)||0,(null==r?void 0:r.extended)||new o.ExtendedAttrs)},e.prototype.replaceCells=function(e,t,i,r){for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==r?void 0:r.fg)||0,(null==r?void 0:r.bg)||0,(null==r?void 0:r.extended)||new o.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==r?void 0:r.fg)||0,(null==r?void 0:r.bg)||0,(null==r?void 0:r.extended)||new o.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,i)},e.prototype.resize=function(e,t){if(e!==this.length){if(e>this.length){var i=new Uint32Array(3*e);this.length&&i.set(3*e<this._data.length?this._data.subarray(0,3*e):this._data),this._data=i;for(var r=this.length;r<e;++r)this.setCell(r,t)}else if(e){(i=new Uint32Array(3*e)).set(this._data.subarray(0,3*e)),this._data=i;var n=Object.keys(this._combined);for(r=0;r<n.length;r++){var s=parseInt(n[r],10);s>=e&&delete this._combined[s]}}else this._data=new Uint32Array(0),this._combined={};this.length=e}},e.prototype.fill=function(e){this._combined={},this._extendedAttrs={};for(var t=0;t<this.length;++t)this.setCell(t,e)},e.prototype.copyFrom=function(e){for(var t in this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];for(var t in this._extendedAttrs={},e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped},e.prototype.clone=function(){var t=new e(0);for(var i in t._data=new Uint32Array(this._data),t.length=this.length,this._combined)t._combined[i]=this._combined[i];for(var i in this._extendedAttrs)t._extendedAttrs[i]=this._extendedAttrs[i];return t.isWrapped=this.isWrapped,t},e.prototype.getTrimmedLength=function(){for(var e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0},e.prototype.copyCellsFrom=function(e,t,i,r,n){var s=e._data;if(n)for(var o=r-1;o>=0;o--)for(var a=0;a<3;a++)this._data[3*(i+o)+a]=s[3*(t+o)+a];else for(o=0;o<r;o++)for(a=0;a<3;a++)this._data[3*(i+o)+a]=s[3*(t+o)+a];var l=Object.keys(e._combined);for(a=0;a<l.length;a++){var c=parseInt(l[a],10);c>=t&&(this._combined[c-t+i]=e._combined[c])}},e.prototype.translateToString=function(e,t,i){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===i&&(i=this.length),e&&(i=Math.min(i,this.getTrimmedLength()));for(var s="";t<i;){var o=this._data[3*t+0],a=2097151&o;s+=2097152&o?this._combined[t]:a?r.stringFromCodePoint(a):n.WHITESPACE_CELL_CHAR,t+=o>>22||1}return s},e}();t.BufferLine=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeElementFromParent=void 0,t.removeElementFromParent=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var r=0,n=t;r<n.length;r++){var s=n[r];null===(e=null==s?void 0:s.parentElement)||void 0===e||e.removeChild(s)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;var s,o=i(12),a=i(20),l=i(39),c=i(2),h=i(15),u=i(8),d=i(16),f=i(0),p=i(3),_=i(4),m=i(6),g=i(22),v=i(24),y={"(":0,")":1,"*":2,"+":3,"-":1,".":2};function b(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}!function(e){e[e.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",e[e.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"}(s=t.WindowsOptionsReportType||(t.WindowsOptionsReportType={}));var w=function(){function e(e,t,i,r){this._bufferService=e,this._coreService=t,this._logService=i,this._optionsService=r,this._data=new Uint32Array(0)}return e.prototype.hook=function(e){this._data=new Uint32Array(0)},e.prototype.put=function(e,t,i){this._data=h.concat(this._data,e.subarray(t,i))},e.prototype.unhook=function(e){if(e){var t=u.utf32ToString(this._data);switch(this._data=new Uint32Array(0),t){case'"q':return this._coreService.triggerDataEvent(o.C0.ESC+'P1$r0"q'+o.C0.ESC+"\\");case'"p':return this._coreService.triggerDataEvent(o.C0.ESC+'P1$r61;1"p'+o.C0.ESC+"\\");case"r":return this._coreService.triggerDataEvent(o.C0.ESC+"P1$r"+(this._bufferService.buffer.scrollTop+1)+";"+(this._bufferService.buffer.scrollBottom+1)+"r"+o.C0.ESC+"\\");case"m":return this._coreService.triggerDataEvent(o.C0.ESC+"P1$r0m"+o.C0.ESC+"\\");case" q":var i={block:2,underline:4,bar:6}[this._optionsService.options.cursorStyle];return this._coreService.triggerDataEvent(o.C0.ESC+"P1$r"+(i-=this._optionsService.options.cursorBlink?1:0)+" q"+o.C0.ESC+"\\");default:this._logService.debug("Unknown DCS $q %s",t),this._coreService.triggerDataEvent(o.C0.ESC+"P0$r"+o.C0.ESC+"\\")}}else this._data=new Uint32Array(0)},e}(),C=function(e){function t(t,i,r,n,s,c,h,p,m){void 0===m&&(m=new l.EscapeSequenceParser);var v=e.call(this)||this;v._bufferService=t,v._charsetService=i,v._coreService=r,v._dirtyRowService=n,v._logService=s,v._optionsService=c,v._coreMouseService=h,v._unicodeService=p,v._parser=m,v._parseBuffer=new Uint32Array(4096),v._stringDecoder=new u.StringToUtf32,v._utf8Decoder=new u.Utf8ToUtf32,v._workCell=new _.CellData,v._windowTitle="",v._iconName="",v._windowTitleStack=[],v._iconNameStack=[],v._curAttrData=d.DEFAULT_ATTR_DATA.clone(),v._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone(),v._onRequestBell=new f.EventEmitter,v._onRequestRefreshRows=new f.EventEmitter,v._onRequestReset=new f.EventEmitter,v._onRequestScroll=new f.EventEmitter,v._onRequestSyncScrollBar=new f.EventEmitter,v._onRequestWindowsOptionsReport=new f.EventEmitter,v._onA11yChar=new f.EventEmitter,v._onA11yTab=new f.EventEmitter,v._onCursorMove=new f.EventEmitter,v._onLineFeed=new f.EventEmitter,v._onScroll=new f.EventEmitter,v._onTitleChange=new f.EventEmitter,v.register(v._parser),v._parser.setCsiHandlerFallback((function(e,t){v._logService.debug("Unknown CSI code: ",{identifier:v._parser.identToString(e),params:t.toArray()})})),v._parser.setEscHandlerFallback((function(e){v._logService.debug("Unknown ESC code: ",{identifier:v._parser.identToString(e)})})),v._parser.setExecuteHandlerFallback((function(e){v._logService.debug("Unknown EXECUTE code: ",{code:e})})),v._parser.setOscHandlerFallback((function(e,t,i){v._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:i})})),v._parser.setDcsHandlerFallback((function(e,t,i){"HOOK"===t&&(i=i.toArray()),v._logService.debug("Unknown DCS code: ",{identifier:v._parser.identToString(e),action:t,payload:i})})),v._parser.setPrintHandler((function(e,t,i){return v.print(e,t,i)})),v._parser.setCsiHandler({final:"@"},(function(e){return v.insertChars(e)})),v._parser.setCsiHandler({intermediates:" ",final:"@"},(function(e){return v.scrollLeft(e)})),v._parser.setCsiHandler({final:"A"},(function(e){return v.cursorUp(e)})),v._parser.setCsiHandler({intermediates:" ",final:"A"},(function(e){return v.scrollRight(e)})),v._parser.setCsiHandler({final:"B"},(function(e){return v.cursorDown(e)})),v._parser.setCsiHandler({final:"C"},(function(e){return v.cursorForward(e)})),v._parser.setCsiHandler({final:"D"},(function(e){return v.cursorBackward(e)})),v._parser.setCsiHandler({final:"E"},(function(e){return v.cursorNextLine(e)})),v._parser.setCsiHandler({final:"F"},(function(e){return v.cursorPrecedingLine(e)})),v._parser.setCsiHandler({final:"G"},(function(e){return v.cursorCharAbsolute(e)})),v._parser.setCsiHandler({final:"H"},(function(e){return v.cursorPosition(e)})),v._parser.setCsiHandler({final:"I"},(function(e){return v.cursorForwardTab(e)})),v._parser.setCsiHandler({final:"J"},(function(e){return v.eraseInDisplay(e)})),v._parser.setCsiHandler({prefix:"?",final:"J"},(function(e){return v.eraseInDisplay(e)})),v._parser.setCsiHandler({final:"K"},(function(e){return v.eraseInLine(e)})),v._parser.setCsiHandler({prefix:"?",final:"K"},(function(e){return v.eraseInLine(e)})),v._parser.setCsiHandler({final:"L"},(function(e){return v.insertLines(e)})),v._parser.setCsiHandler({final:"M"},(function(e){return v.deleteLines(e)})),v._parser.setCsiHandler({final:"P"},(function(e){return v.deleteChars(e)})),v._parser.setCsiHandler({final:"S"},(function(e){return v.scrollUp(e)})),v._parser.setCsiHandler({final:"T"},(function(e){return v.scrollDown(e)})),v._parser.setCsiHandler({final:"X"},(function(e){return v.eraseChars(e)})),v._parser.setCsiHandler({final:"Z"},(function(e){return v.cursorBackwardTab(e)})),v._parser.setCsiHandler({final:"`"},(function(e){return v.charPosAbsolute(e)})),v._parser.setCsiHandler({final:"a"},(function(e){return v.hPositionRelative(e)})),v._parser.setCsiHandler({final:"b"},(function(e){return v.repeatPrecedingCharacter(e)})),v._parser.setCsiHandler({final:"c"},(function(e){return v.sendDeviceAttributesPrimary(e)})),v._parser.setCsiHandler({prefix:">",final:"c"},(function(e){return v.sendDeviceAttributesSecondary(e)})),v._parser.setCsiHandler({final:"d"},(function(e){return v.linePosAbsolute(e)})),v._parser.setCsiHandler({final:"e"},(function(e){return v.vPositionRelative(e)})),v._parser.setCsiHandler({final:"f"},(function(e){return v.hVPosition(e)})),v._parser.setCsiHandler({final:"g"},(function(e){return v.tabClear(e)})),v._parser.setCsiHandler({final:"h"},(function(e){return v.setMode(e)})),v._parser.setCsiHandler({prefix:"?",final:"h"},(function(e){return v.setModePrivate(e)})),v._parser.setCsiHandler({final:"l"},(function(e){return v.resetMode(e)})),v._parser.setCsiHandler({prefix:"?",final:"l"},(function(e){return v.resetModePrivate(e)})),v._parser.setCsiHandler({final:"m"},(function(e){return v.charAttributes(e)})),v._parser.setCsiHandler({final:"n"},(function(e){return v.deviceStatus(e)})),v._parser.setCsiHandler({prefix:"?",final:"n"},(function(e){return v.deviceStatusPrivate(e)})),v._parser.setCsiHandler({intermediates:"!",final:"p"},(function(e){return v.softReset(e)})),v._parser.setCsiHandler({intermediates:" ",final:"q"},(function(e){return v.setCursorStyle(e)})),v._parser.setCsiHandler({final:"r"},(function(e){return v.setScrollRegion(e)})),v._parser.setCsiHandler({final:"s"},(function(e){return v.saveCursor(e)})),v._parser.setCsiHandler({final:"t"},(function(e){return v.windowOptions(e)})),v._parser.setCsiHandler({final:"u"},(function(e){return v.restoreCursor(e)})),v._parser.setCsiHandler({intermediates:"'",final:"}"},(function(e){return v.insertColumns(e)})),v._parser.setCsiHandler({intermediates:"'",final:"~"},(function(e){return v.deleteColumns(e)})),v._parser.setExecuteHandler(o.C0.BEL,(function(){return v.bell()})),v._parser.setExecuteHandler(o.C0.LF,(function(){return v.lineFeed()})),v._parser.setExecuteHandler(o.C0.VT,(function(){return v.lineFeed()})),v._parser.setExecuteHandler(o.C0.FF,(function(){return v.lineFeed()})),v._parser.setExecuteHandler(o.C0.CR,(function(){return v.carriageReturn()})),v._parser.setExecuteHandler(o.C0.BS,(function(){return v.backspace()})),v._parser.setExecuteHandler(o.C0.HT,(function(){return v.tab()})),v._parser.setExecuteHandler(o.C0.SO,(function(){return v.shiftOut()})),v._parser.setExecuteHandler(o.C0.SI,(function(){return v.shiftIn()})),v._parser.setExecuteHandler(o.C1.IND,(function(){return v.index()})),v._parser.setExecuteHandler(o.C1.NEL,(function(){return v.nextLine()})),v._parser.setExecuteHandler(o.C1.HTS,(function(){return v.tabSet()})),v._parser.setOscHandler(0,new g.OscHandler((function(e){v.setTitle(e),v.setIconName(e)}))),v._parser.setOscHandler(1,new g.OscHandler((function(e){return v.setIconName(e)}))),v._parser.setOscHandler(2,new g.OscHandler((function(e){return v.setTitle(e)}))),v._parser.setEscHandler({final:"7"},(function(){return v.saveCursor()})),v._parser.setEscHandler({final:"8"},(function(){return v.restoreCursor()})),v._parser.setEscHandler({final:"D"},(function(){return v.index()})),v._parser.setEscHandler({final:"E"},(function(){return v.nextLine()})),v._parser.setEscHandler({final:"H"},(function(){return v.tabSet()})),v._parser.setEscHandler({final:"M"},(function(){return v.reverseIndex()})),v._parser.setEscHandler({final:"="},(function(){return v.keypadApplicationMode()})),v._parser.setEscHandler({final:">"},(function(){return v.keypadNumericMode()})),v._parser.setEscHandler({final:"c"},(function(){return v.fullReset()})),v._parser.setEscHandler({final:"n"},(function(){return v.setgLevel(2)})),v._parser.setEscHandler({final:"o"},(function(){return v.setgLevel(3)})),v._parser.setEscHandler({final:"|"},(function(){return v.setgLevel(3)})),v._parser.setEscHandler({final:"}"},(function(){return v.setgLevel(2)})),v._parser.setEscHandler({final:"~"},(function(){return v.setgLevel(1)})),v._parser.setEscHandler({intermediates:"%",final:"@"},(function(){return v.selectDefaultCharset()})),v._parser.setEscHandler({intermediates:"%",final:"G"},(function(){return v.selectDefaultCharset()}));var y=function(e){b._parser.setEscHandler({intermediates:"(",final:e},(function(){return v.selectCharset("("+e)})),b._parser.setEscHandler({intermediates:")",final:e},(function(){return v.selectCharset(")"+e)})),b._parser.setEscHandler({intermediates:"*",final:e},(function(){return v.selectCharset("*"+e)})),b._parser.setEscHandler({intermediates:"+",final:e},(function(){return v.selectCharset("+"+e)})),b._parser.setEscHandler({intermediates:"-",final:e},(function(){return v.selectCharset("-"+e)})),b._parser.setEscHandler({intermediates:".",final:e},(function(){return v.selectCharset("."+e)})),b._parser.setEscHandler({intermediates:"/",final:e},(function(){return v.selectCharset("/"+e)}))},b=this;for(var C in a.CHARSETS)y(C);return v._parser.setEscHandler({intermediates:"#",final:"8"},(function(){return v.screenAlignmentPattern()})),v._parser.setErrorHandler((function(e){return v._logService.error("Parsing error: ",e),e})),v._parser.setDcsHandler({intermediates:"$",final:"q"},new w(v._bufferService,v._coreService,v._logService,v._optionsService)),v}return n(t,e),Object.defineProperty(t.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestScroll",{get:function(){return this._onRequestScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.parse=function(e){var t=this._bufferService.buffer,i=t.x,r=t.y;if(this._logService.debug("parsing data",e),this._parseBuffer.length<e.length&&this._parseBuffer.length<131072&&(this._parseBuffer=new Uint32Array(Math.min(e.length,131072))),this._dirtyRowService.clearRange(),e.length>131072)for(var n=0;n<e.length;n+=131072){var s=n+131072<e.length?n+131072:e.length,o="string"==typeof e?this._stringDecoder.decode(e.substring(n,s),this._parseBuffer):this._utf8Decoder.decode(e.subarray(n,s),this._parseBuffer);this._parser.parse(this._parseBuffer,o)}else o="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer),this._parser.parse(this._parseBuffer,o);(t=this._bufferService.buffer).x===i&&t.y===r||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},t.prototype.print=function(e,t,i){var r,n,s=this._bufferService.buffer,o=this._charsetService.charset,a=this._optionsService.options.screenReaderMode,l=this._bufferService.cols,c=this._coreService.decPrivateModes.wraparound,h=this._coreService.modes.insertMode,d=this._curAttrData,f=s.lines.get(s.ybase+s.y);this._dirtyRowService.markDirty(s.y),s.x&&i-t>0&&2===f.getWidth(s.x-1)&&f.setCellFromCodePoint(s.x-1,0,1,d.fg,d.bg,d.extended);for(var _=t;_<i;++_){if(n=this._unicodeService.wcwidth(r=e[_]),r<127&&o){var m=o[String.fromCharCode(r)];m&&(r=m.charCodeAt(0))}if(a&&this._onA11yChar.fire(u.stringFromCodePoint(r)),n||!s.x){if(s.x+n-1>=l)if(c){for(;s.x<l;)f.setCellFromCodePoint(s.x++,0,1,d.fg,d.bg,d.extended);s.x=0,s.y++,s.y===s.scrollBottom+1?(s.y--,this._onRequestScroll.fire(this._eraseAttrData(),!0)):(s.y>=this._bufferService.rows&&(s.y=this._bufferService.rows-1),s.lines.get(s.ybase+s.y).isWrapped=!0),f=s.lines.get(s.ybase+s.y)}else if(s.x=l-1,2===n)continue;if(h&&(f.insertCells(s.x,n,s.getNullCell(d),d),2===f.getWidth(l-1)&&f.setCellFromCodePoint(l-1,p.NULL_CELL_CODE,p.NULL_CELL_WIDTH,d.fg,d.bg,d.extended)),f.setCellFromCodePoint(s.x++,r,n,d.fg,d.bg,d.extended),n>0)for(;--n;)f.setCellFromCodePoint(s.x++,0,0,d.fg,d.bg,d.extended)}else f.getWidth(s.x-1)?f.addCodepointToCell(s.x-1,r):f.addCodepointToCell(s.x-2,r)}i-t>0&&(f.loadCell(s.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),s.x<l&&i-t>0&&0===f.getWidth(s.x)&&!f.hasContent(s.x)&&f.setCellFromCodePoint(s.x,0,1,d.fg,d.bg,d.extended),this._dirtyRowService.markDirty(s.y)},t.prototype.addCsiHandler=function(e,t){var i=this;return this._parser.addCsiHandler(e,"t"!==e.final||e.prefix||e.intermediates?t:function(e){return!b(e.params[0],i._optionsService.options.windowOptions)||t(e)})},t.prototype.addDcsHandler=function(e,t){return this._parser.addDcsHandler(e,new v.DcsHandler(t))},t.prototype.addEscHandler=function(e,t){return this._parser.addEscHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._parser.addOscHandler(e,new g.OscHandler(t))},t.prototype.bell=function(){this._onRequestBell.fire()},t.prototype.lineFeed=function(){var e=this._bufferService.buffer;this._dirtyRowService.markDirty(e.y),this._optionsService.options.convertEol&&(e.x=0),e.y++,e.y===e.scrollBottom+1?(e.y--,this._onRequestScroll.fire(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),e.x>=this._bufferService.cols&&e.x--,this._dirtyRowService.markDirty(e.y),this._onLineFeed.fire()},t.prototype.carriageReturn=function(){this._bufferService.buffer.x=0},t.prototype.backspace=function(){var e,t=this._bufferService.buffer;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),void(t.x>0&&t.x--);if(this._restrictCursor(this._bufferService.cols),t.x>0)t.x--;else if(0===t.x&&t.y>t.scrollTop&&t.y<=t.scrollBottom&&(null===(e=t.lines.get(t.ybase+t.y))||void 0===e?void 0:e.isWrapped)){t.lines.get(t.ybase+t.y).isWrapped=!1,t.y--,t.x=this._bufferService.cols-1;var i=t.lines.get(t.ybase+t.y);i.hasWidth(t.x)&&!i.hasContent(t.x)&&t.x--}this._restrictCursor()},t.prototype.tab=function(){if(!(this._bufferService.buffer.x>=this._bufferService.cols)){var e=this._bufferService.buffer.x;this._bufferService.buffer.x=this._bufferService.buffer.nextStop(),this._optionsService.options.screenReaderMode&&this._onA11yTab.fire(this._bufferService.buffer.x-e)}},t.prototype.shiftOut=function(){this._charsetService.setgLevel(1)},t.prototype.shiftIn=function(){this._charsetService.setgLevel(0)},t.prototype._restrictCursor=function(e){void 0===e&&(e=this._bufferService.cols-1),this._bufferService.buffer.x=Math.min(e,Math.max(0,this._bufferService.buffer.x)),this._bufferService.buffer.y=this._coreService.decPrivateModes.origin?Math.min(this._bufferService.buffer.scrollBottom,Math.max(this._bufferService.buffer.scrollTop,this._bufferService.buffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._bufferService.buffer.y)),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype._setCursor=function(e,t){this._dirtyRowService.markDirty(this._bufferService.buffer.y),this._coreService.decPrivateModes.origin?(this._bufferService.buffer.x=e,this._bufferService.buffer.y=this._bufferService.buffer.scrollTop+t):(this._bufferService.buffer.x=e,this._bufferService.buffer.y=t),this._restrictCursor(),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype._moveCursor=function(e,t){this._restrictCursor(),this._setCursor(this._bufferService.buffer.x+e,this._bufferService.buffer.y+t)},t.prototype.cursorUp=function(e){var t=this._bufferService.buffer.y-this._bufferService.buffer.scrollTop;this._moveCursor(0,t>=0?-Math.min(t,e.params[0]||1):-(e.params[0]||1))},t.prototype.cursorDown=function(e){var t=this._bufferService.buffer.scrollBottom-this._bufferService.buffer.y;this._moveCursor(0,t>=0?Math.min(t,e.params[0]||1):e.params[0]||1)},t.prototype.cursorForward=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.cursorBackward=function(e){this._moveCursor(-(e.params[0]||1),0)},t.prototype.cursorNextLine=function(e){this.cursorDown(e),this._bufferService.buffer.x=0},t.prototype.cursorPrecedingLine=function(e){this.cursorUp(e),this._bufferService.buffer.x=0},t.prototype.cursorCharAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.cursorPosition=function(e){this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1)},t.prototype.charPosAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.hPositionRelative=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.linePosAbsolute=function(e){this._setCursor(this._bufferService.buffer.x,(e.params[0]||1)-1)},t.prototype.vPositionRelative=function(e){this._moveCursor(0,e.params[0]||1)},t.prototype.hVPosition=function(e){this.cursorPosition(e)},t.prototype.tabClear=function(e){var t=e.params[0];0===t?delete this._bufferService.buffer.tabs[this._bufferService.buffer.x]:3===t&&(this._bufferService.buffer.tabs={})},t.prototype.cursorForwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1;t--;)this._bufferService.buffer.x=this._bufferService.buffer.nextStop()},t.prototype.cursorBackwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.x=i.prevStop()},t.prototype._eraseInBufferLine=function(e,t,i,r){void 0===r&&(r=!1);var n=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);n.replaceCells(t,i,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r&&(n.isWrapped=!1)},t.prototype._resetBufferLine=function(e){var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);t.fill(this._bufferService.buffer.getNullCell(this._eraseAttrData())),t.isWrapped=!1},t.prototype.eraseInDisplay=function(e){var t;switch(this._restrictCursor(),e.params[0]){case 0:for(this._dirtyRowService.markDirty(t=this._bufferService.buffer.y),this._eraseInBufferLine(t++,this._bufferService.buffer.x,this._bufferService.cols,0===this._bufferService.buffer.x);t<this._bufferService.rows;t++)this._resetBufferLine(t);this._dirtyRowService.markDirty(t);break;case 1:for(this._dirtyRowService.markDirty(t=this._bufferService.buffer.y),this._eraseInBufferLine(t,0,this._bufferService.buffer.x+1,!0),this._bufferService.buffer.x+1>=this._bufferService.cols&&(this._bufferService.buffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 2:for(this._dirtyRowService.markDirty((t=this._bufferService.rows)-1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 3:var i=this._bufferService.buffer.lines.length-this._bufferService.rows;i>0&&(this._bufferService.buffer.lines.trimStart(i),this._bufferService.buffer.ybase=Math.max(this._bufferService.buffer.ybase-i,0),this._bufferService.buffer.ydisp=Math.max(this._bufferService.buffer.ydisp-i,0),this._onScroll.fire(0))}},t.prototype.eraseInLine=function(e){switch(this._restrictCursor(),e.params[0]){case 0:this._eraseInBufferLine(this._bufferService.buffer.y,this._bufferService.buffer.x,this._bufferService.cols);break;case 1:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.buffer.x+1);break;case 2:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.cols)}this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype.insertLines=function(e){this._restrictCursor();var t=e.params[0]||1,i=this._bufferService.buffer;if(!(i.y>i.scrollBottom||i.y<i.scrollTop)){for(var r=i.ybase+i.y,n=this._bufferService.rows-1+i.ybase-(this._bufferService.rows-1-i.scrollBottom)+1;t--;)i.lines.splice(n-1,1),i.lines.splice(r,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.y,i.scrollBottom),i.x=0}},t.prototype.deleteLines=function(e){this._restrictCursor();var t=e.params[0]||1,i=this._bufferService.buffer;if(!(i.y>i.scrollBottom||i.y<i.scrollTop)){var r,n=i.ybase+i.y;for(r=this._bufferService.rows-1+i.ybase-(r=this._bufferService.rows-1-i.scrollBottom);t--;)i.lines.splice(n,1),i.lines.splice(r,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.y,i.scrollBottom),i.x=0}},t.prototype.insertChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.insertCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.deleteChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.deleteCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.scrollUp=function(e){for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.lines.splice(i.ybase+i.scrollTop,1),i.lines.splice(i.ybase+i.scrollBottom,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.scrollTop,i.scrollBottom)},t.prototype.scrollDown=function(e){for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.lines.splice(i.ybase+i.scrollBottom,1),i.lines.splice(i.ybase+i.scrollTop,0,i.getBlankLine(d.DEFAULT_ATTR_DATA));this._dirtyRowService.markRangeDirty(i.scrollTop,i.scrollBottom)},t.prototype.scrollLeft=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,r=t.scrollTop;r<=t.scrollBottom;++r){var n=t.lines.get(t.ybase+r);n.deleteCells(0,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),n.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.scrollRight=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,r=t.scrollTop;r<=t.scrollBottom;++r){var n=t.lines.get(t.ybase+r);n.insertCells(0,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),n.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.insertColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,r=t.scrollTop;r<=t.scrollBottom;++r){var n=this._bufferService.buffer.lines.get(t.ybase+r);n.insertCells(t.x,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),n.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.deleteColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,r=t.scrollTop;r<=t.scrollBottom;++r){var n=t.lines.get(t.ybase+r);n.deleteCells(t.x,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),n.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.eraseChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.replaceCells(this._bufferService.buffer.x,this._bufferService.buffer.x+(e.params[0]||1),this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.repeatPrecedingCharacter=function(e){if(this._parser.precedingCodepoint){for(var t=e.params[0]||1,i=new Uint32Array(t),r=0;r<t;++r)i[r]=this._parser.precedingCodepoint;this.print(i,0,i.length)}},t.prototype.sendDeviceAttributesPrimary=function(e){e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(o.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(o.C0.ESC+"[?6c"))},t.prototype.sendDeviceAttributesSecondary=function(e){e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(o.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(o.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(o.C0.ESC+"[>83;40003;0c"))},t.prototype._is=function(e){return 0===(this._optionsService.options.termName+"").indexOf(e)},t.prototype.setMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0}},t.prototype.setModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),this._charsetService.setgCharset(1,a.DEFAULT_CHARSET),this._charsetService.setgCharset(2,a.DEFAULT_CHARSET),this._charsetService.setgCharset(3,a.DEFAULT_CHARSET);break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0;break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}},t.prototype.resetMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1}},t.prototype.resetModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}},t.prototype._updateAttrColor=function(e,t,i,r,n){return 2===t?(e|=50331648,e&=-16777216,e|=m.AttributeData.fromColorRGB([i,r,n])):5===t&&(e&=-50331904,e|=33554432|255&i),e},t.prototype._extractColor=function(e,t,i){var r=[0,0,-1,0,0,0],n=0,s=0;do{if(r[s+n]=e.params[t+s],e.hasSubParams(t+s)){var o=e.getSubParams(t+s),a=0;do{5===r[1]&&(n=1),r[s+a+1+n]=o[a]}while(++a<o.length&&a+s+1+n<r.length);break}if(5===r[1]&&s+n>=2||2===r[1]&&s+n>=5)break;r[1]&&(n=1)}while(++s+t<e.length&&s+n<r.length);for(a=2;a<r.length;++a)-1===r[a]&&(r[a]=0);switch(r[0]){case 38:i.fg=this._updateAttrColor(i.fg,r[1],r[3],r[4],r[5]);break;case 48:i.bg=this._updateAttrColor(i.bg,r[1],r[3],r[4],r[5]);break;case 58:i.extended=i.extended.clone(),i.extended.underlineColor=this._updateAttrColor(i.extended.underlineColor,r[1],r[3],r[4],r[5])}return s},t.prototype._processUnderline=function(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,0===e&&(t.fg&=-268435457),t.updateExtended()},t.prototype.charAttributes=function(e){if(1===e.length&&0===e.params[0])return this._curAttrData.fg=d.DEFAULT_ATTR_DATA.fg,void(this._curAttrData.bg=d.DEFAULT_ATTR_DATA.bg);for(var t,i=e.length,r=this._curAttrData,n=0;n<i;n++)(t=e.params[n])>=30&&t<=37?(r.fg&=-50331904,r.fg|=16777216|t-30):t>=40&&t<=47?(r.bg&=-50331904,r.bg|=16777216|t-40):t>=90&&t<=97?(r.fg&=-50331904,r.fg|=16777224|t-90):t>=100&&t<=107?(r.bg&=-50331904,r.bg|=16777224|t-100):0===t?(r.fg=d.DEFAULT_ATTR_DATA.fg,r.bg=d.DEFAULT_ATTR_DATA.bg):1===t?r.fg|=134217728:3===t?r.bg|=67108864:4===t?(r.fg|=268435456,this._processUnderline(e.hasSubParams(n)?e.getSubParams(n)[0]:1,r)):5===t?r.fg|=536870912:7===t?r.fg|=67108864:8===t?r.fg|=1073741824:2===t?r.bg|=134217728:21===t?this._processUnderline(2,r):22===t?(r.fg&=-134217729,r.bg&=-134217729):23===t?r.bg&=-67108865:24===t?r.fg&=-268435457:25===t?r.fg&=-536870913:27===t?r.fg&=-67108865:28===t?r.fg&=-1073741825:39===t?(r.fg&=-67108864,r.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):49===t?(r.bg&=-67108864,r.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):38===t||48===t||58===t?n+=this._extractColor(e,n,r):59===t?(r.extended=r.extended.clone(),r.extended.underlineColor=-1,r.updateExtended()):100===t?(r.fg&=-67108864,r.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,r.bg&=-67108864,r.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",t)},t.prototype.deviceStatus=function(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(o.C0.ESC+"[0n");break;case 6:this._coreService.triggerDataEvent(o.C0.ESC+"["+(this._bufferService.buffer.y+1)+";"+(this._bufferService.buffer.x+1)+"R")}},t.prototype.deviceStatusPrivate=function(e){switch(e.params[0]){case 6:this._coreService.triggerDataEvent(o.C0.ESC+"[?"+(this._bufferService.buffer.y+1)+";"+(this._bufferService.buffer.x+1)+"R")}},t.prototype.softReset=function(e){this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._bufferService.buffer.scrollTop=0,this._bufferService.buffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._bufferService.buffer.savedX=0,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase,this._bufferService.buffer.savedCurAttrData.fg=this._curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._curAttrData.bg,this._bufferService.buffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1},t.prototype.setCursorStyle=function(e){var t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}this._optionsService.options.cursorBlink=t%2==1},t.prototype.setScrollRegion=function(e){var t,i=e.params[0]||1;(e.length<2||(t=e.params[1])>this._bufferService.rows||0===t)&&(t=this._bufferService.rows),t>i&&(this._bufferService.buffer.scrollTop=i-1,this._bufferService.buffer.scrollBottom=t-1,this._setCursor(0,0))},t.prototype.windowOptions=function(e){if(b(e.params[0],this._optionsService.options.windowOptions)){var t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(s.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(s.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(o.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}}},t.prototype.saveCursor=function(e){this._bufferService.buffer.savedX=this._bufferService.buffer.x,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase+this._bufferService.buffer.y,this._bufferService.buffer.savedCurAttrData.fg=this._curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._curAttrData.bg,this._bufferService.buffer.savedCharset=this._charsetService.charset},t.prototype.restoreCursor=function(e){this._bufferService.buffer.x=this._bufferService.buffer.savedX||0,this._bufferService.buffer.y=Math.max(this._bufferService.buffer.savedY-this._bufferService.buffer.ybase,0),this._curAttrData.fg=this._bufferService.buffer.savedCurAttrData.fg,this._curAttrData.bg=this._bufferService.buffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._bufferService.buffer.savedCharset&&(this._charsetService.charset=this._bufferService.buffer.savedCharset),this._restrictCursor()},t.prototype.setTitle=function(e){this._windowTitle=e,this._onTitleChange.fire(e)},t.prototype.setIconName=function(e){this._iconName=e},t.prototype.nextLine=function(){this._bufferService.buffer.x=0,this.index()},t.prototype.keypadApplicationMode=function(){this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire()},t.prototype.keypadNumericMode=function(){this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire()},t.prototype.selectDefaultCharset=function(){this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,a.DEFAULT_CHARSET)},t.prototype.selectCharset=function(e){2===e.length?"/"!==e[0]&&this._charsetService.setgCharset(y[e[0]],a.CHARSETS[e[1]]||a.DEFAULT_CHARSET):this.selectDefaultCharset()},t.prototype.index=function(){this._restrictCursor();var e=this._bufferService.buffer;this._bufferService.buffer.y++,e.y===e.scrollBottom+1?(e.y--,this._onRequestScroll.fire(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),this._restrictCursor()},t.prototype.tabSet=function(){this._bufferService.buffer.tabs[this._bufferService.buffer.x]=!0},t.prototype.reverseIndex=function(){this._restrictCursor();var e=this._bufferService.buffer;e.y===e.scrollTop?(e.lines.shiftElements(e.ybase+e.y,e.scrollBottom-e.scrollTop,1),e.lines.set(e.ybase+e.y,e.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(e.scrollTop,e.scrollBottom)):(e.y--,this._restrictCursor())},t.prototype.fullReset=function(){this._parser.reset(),this._onRequestReset.fire()},t.prototype.reset=function(){this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone()},t.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},t.prototype.setgLevel=function(e){this._charsetService.setgLevel(e)},t.prototype.screenAlignmentPattern=function(){var e=new _.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg;var t=this._bufferService.buffer;this._setCursor(0,0);for(var i=0;i<this._bufferService.rows;++i){var r=t.lines.get(t.ybase+t.y+i);r&&(r.fill(e),r.isWrapped=!1)}this._dirtyRowService.markAllDirty(),this._setCursor(0,0)},t}(c.Disposable);t.InputHandler=C},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},t.CHARSETS.A={"#":"\xa3"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},t.CHARSETS.C=t.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},t.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},t.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},t.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},t.CHARSETS.E=t.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},t.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},t.CHARSETS.H=t.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;var r=function(){function e(e,t){if(void 0===e&&(e=32),void 0===t&&(t=32),this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return e.fromArray=function(t){var i=new e;if(!t.length)return i;for(var r=t[0]instanceof Array?1:0;r<t.length;++r){var n=t[r];if(n instanceof Array)for(var s=0;s<n.length;++s)i.addSubParam(n[s]);else i.addParam(n)}return i},e.prototype.clone=function(){var t=new e(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t},e.prototype.toArray=function(){for(var e=[],t=0;t<this.length;++t){e.push(this.params[t]);var i=this._subParamsIdx[t]>>8,r=255&this._subParamsIdx[t];r-i>0&&e.push(Array.prototype.slice.call(this._subParams,i,r))}return e},e.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},e.prototype.addParam=function(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>2147483647?2147483647:e}},e.prototype.addSubParam=function(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>2147483647?2147483647:e,this._subParamsIdx[this.length-1]++}},e.prototype.hasSubParams=function(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0},e.prototype.getSubParams=function(e){var t=this._subParamsIdx[e]>>8,i=255&this._subParamsIdx[e];return i-t>0?this._subParams.subarray(t,i):null},e.prototype.getSubParamsAll=function(){for(var e={},t=0;t<this.length;++t){var i=this._subParamsIdx[t]>>8,r=255&this._subParamsIdx[t];r-i>0&&(e[t]=this._subParams.slice(i,r))}return e},e.prototype.addDigit=function(e){var t;if(!(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var i=this._digitIsSub?this._subParams:this.params,r=i[t-1];i[t-1]=~r?Math.min(10*r+e,2147483647):e}},e}();t.Params=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;var r=i(23),n=i(8),s=function(){function e(){this._state=0,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){}}return e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var i=this._handlers[e];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.reset=function(){2===this._state&&this.end(!1),this._id=-1,this._state=0},e.prototype._start=function(){var e=this._handlers[this._id];if(e)for(var t=e.length-1;t>=0;t--)e[t].start();else this._handlerFb(this._id,"START")},e.prototype._put=function(e,t,i){var r=this._handlers[this._id];if(r)for(var s=r.length-1;s>=0;s--)r[s].put(e,t,i);else this._handlerFb(this._id,"PUT",n.utf32ToString(e,t,i))},e.prototype._end=function(e){var t=this._handlers[this._id];if(t){for(var i=t.length-1;i>=0&&!1===t[i].end(e);i--);for(i--;i>=0;i--)t[i].end(!1)}else this._handlerFb(this._id,"END",e)},e.prototype.start=function(){this.reset(),this._id=-1,this._state=1},e.prototype.put=function(e,t,i){if(3!==this._state){if(1===this._state)for(;t<i;){var r=e[t++];if(59===r){this._state=2,this._start();break}if(r<48||57<r)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+r-48}2===this._state&&i-t>0&&this._put(e,t,i)}},e.prototype.end=function(e){0!==this._state&&(3!==this._state&&(1===this._state&&this._start(),this._end(e)),this._id=-1,this._state=0)},e}();t.OscParser=s;var o=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.start=function(){this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,i){this._hitLimit||(this._data+=n.utf32ToString(e,t,i),this._data.length>r.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.end=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data)),this._data="",this._hitLimit=!1,t},e}();t.OscHandler=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;var r=i(8),n=i(21),s=i(23),o=[],a=function(){function e(){this._handlers=Object.create(null),this._active=o,this._ident=0,this._handlerFb=function(){}}return e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var i=this._handlers[e];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.reset=function(){this._active.length&&this.unhook(!1),this._active=o,this._ident=0},e.prototype.hook=function(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||o,this._active.length)for(var i=this._active.length-1;i>=0;i--)this._active[i].hook(t);else this._handlerFb(this._ident,"HOOK",t)},e.prototype.put=function(e,t,i){if(this._active.length)for(var n=this._active.length-1;n>=0;n--)this._active[n].put(e,t,i);else this._handlerFb(this._ident,"PUT",r.utf32ToString(e,t,i))},e.prototype.unhook=function(e){if(this._active.length){for(var t=this._active.length-1;t>=0&&!1===this._active[t].unhook(e);t--);for(t--;t>=0;t--)this._active[t].unhook(!1)}else this._handlerFb(this._ident,"UNHOOK",e);this._active=o,this._ident=0},e}();t.DcsParser=a;var l=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.hook=function(e){this._params=e.clone(),this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,i){this._hitLimit||(this._data+=r.utf32ToString(e,t,i),this._data.length>s.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.unhook=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data,this._params||new n.Params)),this._params=void 0,this._data="",this._hitLimit=!1,t},e}();t.DcsHandler=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeTerminalFromCache=t.acquireCharAtlas=void 0;var r=i(26),n=i(43),s=[];t.acquireCharAtlas=function(e,t,i,o,a){for(var l=r.generateConfig(o,a,e,i),c=0;c<s.length;c++){var h=(u=s[c]).ownedBy.indexOf(t);if(h>=0){if(r.configEquals(u.config,l))return u.atlas;1===u.ownedBy.length?(u.atlas.dispose(),s.splice(c,1)):u.ownedBy.splice(h,1);break}}for(c=0;c<s.length;c++){var u=s[c];if(r.configEquals(u.config,l))return u.ownedBy.push(t),u.atlas}var d={atlas:new n.DynamicCharAtlas(document,l),config:l,ownedBy:[t]};return s.push(d),d.atlas},t.removeTerminalFromCache=function(e){for(var t=0;t<s.length;t++){var i=s[t].ownedBy.indexOf(e);if(-1!==i){1===s[t].ownedBy.length?(s[t].atlas.dispose(),s.splice(t,1)):s[t].ownedBy.splice(i,1);break}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.is256Color=t.configEquals=t.generateConfig=void 0;var r=i(3);t.generateConfig=function(e,t,i,r){var n={foreground:r.foreground,background:r.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:r.ansi.slice(0,16)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:i.fontFamily,fontSize:i.fontSize,fontWeight:i.fontWeight,fontWeightBold:i.fontWeightBold,allowTransparency:i.allowTransparency,colors:n}},t.configEquals=function(e,t){for(var i=0;i<e.colors.ansi.length;i++)if(e.colors.ansi[i].rgba!==t.colors.ansi[i].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},t.is256Color=function(e){return e<r.DEFAULT_COLOR}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorManager=t.DEFAULT_ANSI_COLORS=void 0;var r=i(10),n=i(45),s=r.css.toColor("#ffffff"),o=r.css.toColor("#000000"),a=r.css.toColor("#ffffff"),l=r.css.toColor("#000000"),c={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=function(){for(var e=[r.css.toColor("#2e3436"),r.css.toColor("#cc0000"),r.css.toColor("#4e9a06"),r.css.toColor("#c4a000"),r.css.toColor("#3465a4"),r.css.toColor("#75507b"),r.css.toColor("#06989a"),r.css.toColor("#d3d7cf"),r.css.toColor("#555753"),r.css.toColor("#ef2929"),r.css.toColor("#8ae234"),r.css.toColor("#fce94f"),r.css.toColor("#729fcf"),r.css.toColor("#ad7fa8"),r.css.toColor("#34e2e2"),r.css.toColor("#eeeeec")],t=[0,95,135,175,215,255],i=0;i<216;i++){var n=t[i/36%6|0],s=t[i/6%6|0],o=t[i%6];e.push({css:r.channels.toCss(n,s,o),rgba:r.channels.toRgba(n,s,o)})}for(i=0;i<24;i++){var a=8+10*i;e.push({css:r.channels.toCss(a,a,a),rgba:r.channels.toRgba(a,a,a)})}return e}();var h=function(){function e(e,i){this.allowTransparency=i;var h=e.createElement("canvas");h.width=1,h.height=1;var u=h.getContext("2d");if(!u)throw new Error("Could not get rendering context");this._ctx=u,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new n.ColorContrastCache,this.colors={foreground:s,background:o,cursor:a,cursorAccent:l,selectionTransparent:c,selectionOpaque:r.color.blend(o,c),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache}}return e.prototype.onOptionsChange=function(e){"minimumContrastRatio"===e&&this._contrastCache.clear()},e.prototype.setTheme=function(e){void 0===e&&(e={}),this.colors.foreground=this._parseColor(e.foreground,s),this.colors.background=this._parseColor(e.background,o),this.colors.cursor=this._parseColor(e.cursor,a,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,l,!0),this.colors.selectionTransparent=this._parseColor(e.selection,c,!0),this.colors.selectionOpaque=r.color.blend(this.colors.background,this.colors.selectionTransparent),r.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=r.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(e.black,t.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,t.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,t.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,t.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,t.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,t.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,t.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,t.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear()},e.prototype._parseColor=function(e,t,i){if(void 0===i&&(i=this.allowTransparency),void 0===e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+e+" is invalid using fallback "+t.css),t;this._ctx.fillRect(0,0,1,1);var n=this._ctx.getImageData(0,0,1,1).data;if(255!==n[3]){if(!i)return console.warn("Color: "+e+" is using transparency, but allowTransparency is false. Using fallback "+t.css+"."),t;var s=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map((function(e){return Number(e)})),o=s[0],a=s[1],l=s[2],c=Math.round(255*s[3]);return{rgba:r.channels.toRgba(o,a,l,c),css:e}}return{css:this._ctx.fillStyle,rgba:r.channels.toRgba(n[0],n[1],n[2],n[3])}},e}();t.ColorManager=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e}},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerRegistry=t.JoinedCellData=void 0;var s=i(6),o=i(3),a=i(4),l=function(e){function t(t,i,r){var n=e.call(this)||this;return n.content=0,n.combinedData="",n.fg=t.fg,n.bg=t.bg,n.combinedData=i,n._width=r,n}return n(t,e),t.prototype.isCombined=function(){return 2097152},t.prototype.getWidth=function(){return this._width},t.prototype.getChars=function(){return this.combinedData},t.prototype.getCode=function(){return 2097151},t.prototype.setFromCharData=function(e){throw new Error("not implemented")},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(s.AttributeData);t.JoinedCellData=l;var c=function(){function e(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new a.CellData}return e.prototype.registerCharacterJoiner=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},e.prototype.deregisterCharacterJoiner=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},e.prototype.getJoinedCharacters=function(e){if(0===this._characterJoiners.length)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];for(var i=[],r=t.translateToString(!0),n=0,s=0,a=0,l=t.getFg(0),c=t.getBg(0),h=0;h<t.getTrimmedLength();h++)if(t.loadCell(h,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==l||this._workCell.bg!==c){if(h-n>1)for(var u=this._getJoinedRanges(r,a,s,t,n),d=0;d<u.length;d++)i.push(u[d]);n=h,a=s,l=this._workCell.fg,c=this._workCell.bg}s+=this._workCell.getChars().length||o.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-n>1)for(u=this._getJoinedRanges(r,a,s,t,n),d=0;d<u.length;d++)i.push(u[d]);return i},e.prototype._getJoinedRanges=function(t,i,r,n,s){for(var o=t.substring(i,r),a=this._characterJoiners[0].handler(o),l=1;l<this._characterJoiners.length;l++)for(var c=this._characterJoiners[l].handler(o),h=0;h<c.length;h++)e._mergeRanges(a,c[h]);return this._stringRangesToCellRanges(a,n,s),a},e.prototype._stringRangesToCellRanges=function(e,t,i){var r=0,n=!1,s=0,a=e[r];if(a){for(var l=i;l<this._bufferService.cols;l++){var c=t.getWidth(l),h=t.getString(l).length||o.WHITESPACE_CELL_CHAR.length;if(0!==c){if(!n&&a[0]<=s&&(a[0]=l,n=!0),a[1]<=s){if(a[1]=l,!(a=e[++r]))break;a[0]<=s?(a[0]=l,n=!0):n=!1}s+=h}}a&&(a[1]=this._bufferService.cols)}},e._mergeRanges=function(e,t){for(var i=!1,r=0;r<e.length;r++){var n=e[r];if(i){if(t[1]<=n[0])return e[r-1][1]=t[1],e;if(t[1]<=n[1])return e[r-1][1]=Math.max(t[1],n[1]),e.splice(r,1),e;e.splice(r,1),r--}else{if(t[1]<=n[0])return e.splice(r,0,t),e;if(t[1]<=n[1])return n[0]=Math.min(t[0],n[0]),e;t[0]<n[1]&&(n[0]=Math.min(t[0],n[0]),i=!0)}}return i?e[e.length-1][1]=t[1]:e.push(t),e},e}();t.CharacterJoinerRegistry=c},function(e,t,i){"use strict";function r(e,t){var i=t.getBoundingClientRect();return[e.clientX-i.left,e.clientY-i.top]}Object.defineProperty(t,"__esModule",{value:!0}),t.getRawByteCoords=t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=r,t.getCoords=function(e,t,i,n,s,o,a,l){if(s){var c=r(e,t);if(c)return c[0]=Math.ceil((c[0]+(l?o/2:0))/o),c[1]=Math.ceil(c[1]/a),c[0]=Math.min(Math.max(c[0],1),i+(l?1:0)),c[1]=Math.min(Math.max(c[1],1),n),c}},t.getRawByteCoords=function(e){if(e)return{x:e[0]+32,y:e[1]+32}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0;var r=function(){function e(e){this._renderCallback=e}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.refresh=function(e,t,i){var r=this;this._rowCount=i,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return r._innerRefresh()})))},e.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(e,t)}},e}();t.RenderDebouncer=r},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentDevicePixelRatio=window.devicePixelRatio,t}return n(t,e),t.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener&&(t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr())},this._updateDpr()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearListener()},t.prototype._updateDpr=function(){var e;this._outerListener&&(null===(e=this._resolutionMediaMatchList)||void 0===e||e.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},t.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},t}(i(2).Disposable);t.ScreenDprMonitor=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t,i){if(void 0===i&&(i=5),"object"!=typeof t)return t;var r=Array.isArray(t)?[]:{};for(var n in t)r[n]=i<=1?t[n]:t[n]?e(t[n],i-1):t[n];return r}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var r=i(4),n=i(35),s=i(18),o=i(0),a=i(83),l=function(){function e(e){this._core=new n.Terminal(e),this._addonManager=new a.AddonManager}return e.prototype._checkProposedApi=function(){if(!this._core.optionsService.options.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new d(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unicode",{get:function(){return this._checkProposedApi(),new f(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this._checkProposedApi(),new h(this._core.buffers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),e.prototype.blur=function(){this._core.blur()},e.prototype.focus=function(){this._core.focus()},e.prototype.resize=function(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)},e.prototype.open=function(e){this._core.open(e)},e.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},e.prototype.registerLinkMatcher=function(e,t,i){return this._checkProposedApi(),this._core.registerLinkMatcher(e,t,i)},e.prototype.deregisterLinkMatcher=function(e){this._checkProposedApi(),this._core.deregisterLinkMatcher(e)},e.prototype.registerLinkProvider=function(e){return this._checkProposedApi(),this._core.registerLinkProvider(e)},e.prototype.registerCharacterJoiner=function(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)},e.prototype.registerMarker=function(e){return this._checkProposedApi(),this._verifyIntegers(e),this._core.addMarker(e)},e.prototype.addMarker=function(e){return this.registerMarker(e)},e.prototype.hasSelection=function(){return this._core.hasSelection()},e.prototype.select=function(e,t,i){this._verifyIntegers(e,t,i),this._core.select(e,t,i)},e.prototype.getSelection=function(){return this._core.getSelection()},e.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},e.prototype.clearSelection=function(){this._core.clearSelection()},e.prototype.selectAll=function(){this._core.selectAll()},e.prototype.selectLines=function(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)},e.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},e.prototype.scrollLines=function(e){this._verifyIntegers(e),this._core.scrollLines(e)},e.prototype.scrollPages=function(e){this._verifyIntegers(e),this._core.scrollPages(e)},e.prototype.scrollToTop=function(){this._core.scrollToTop()},e.prototype.scrollToBottom=function(){this._core.scrollToBottom()},e.prototype.scrollToLine=function(e){this._verifyIntegers(e),this._core.scrollToLine(e)},e.prototype.clear=function(){this._core.clear()},e.prototype.write=function(e,t){this._core.write(e,t)},e.prototype.writeUtf8=function(e,t){this._core.write(e,t)},e.prototype.writeln=function(e,t){this._core.write(e),this._core.write("\r\n",t)},e.prototype.paste=function(e){this._core.paste(e)},e.prototype.getOption=function(e){return this._core.optionsService.getOption(e)},e.prototype.setOption=function(e,t){this._core.optionsService.setOption(e,t)},e.prototype.refresh=function(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)},e.prototype.reset=function(){this._core.reset()},e.prototype.loadAddon=function(e){return this._addonManager.loadAddon(this,e)},Object.defineProperty(e,"strings",{get:function(){return s},enumerable:!1,configurable:!0}),e.prototype._verifyIntegers=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0,r=e;i<r.length;i++){var n=r[i];if(n===1/0||isNaN(n)||n%1!=0)throw new Error("This API only accepts integers")}},e}();t.Terminal=l;var c=function(){function e(e,t){this._buffer=e,this.type=t}return e.prototype.init=function(e){return this._buffer=e,this},Object.defineProperty(e.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),e.prototype.getLine=function(e){var t=this._buffer.lines.get(e);if(t)return new u(t)},e.prototype.getNullCell=function(){return new r.CellData},e}(),h=function(){function e(e){var t=this;this._buffers=e,this._onBufferChange=new o.EventEmitter,this._normal=new c(this._buffers.normal,"normal"),this._alternate=new c(this._buffers.alt,"alternate"),this._buffers.onBufferActivate((function(){return t._onBufferChange.fire(t.active)}))}return Object.defineProperty(e.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){if(this._buffers.active===this._buffers.normal)return this.normal;if(this._buffers.active===this._buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal.init(this._buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alternate",{get:function(){return this._alternate.init(this._buffers.alt)},enumerable:!1,configurable:!0}),e}(),u=function(){function e(e){this._line=e}return Object.defineProperty(e.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),e.prototype.getCell=function(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new r.CellData)},e.prototype.translateToString=function(e,t,i){return this._line.translateToString(e,t,i)},e}(),d=function(){function e(e){this._core=e}return e.prototype.registerCsiHandler=function(e,t){return this._core.addCsiHandler(e,(function(e){return t(e.toArray())}))},e.prototype.addCsiHandler=function(e,t){return this.registerCsiHandler(e,t)},e.prototype.registerDcsHandler=function(e,t){return this._core.addDcsHandler(e,(function(e,i){return t(e,i.toArray())}))},e.prototype.addDcsHandler=function(e,t){return this.registerDcsHandler(e,t)},e.prototype.registerEscHandler=function(e,t){return this._core.addEscHandler(e,t)},e.prototype.addEscHandler=function(e,t){return this.registerEscHandler(e,t)},e.prototype.registerOscHandler=function(e,t){return this._core.addOscHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this.registerOscHandler(e,t)},e}(),f=function(){function e(e){this._core=e}return e.prototype.register=function(e){this._core.unicodeService.register(e)},Object.defineProperty(e.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(e){this._core.unicodeService.activeVersion=e},enumerable:!1,configurable:!0}),e}()},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var s=i(36),o=i(37),a=i(38),l=i(12),c=i(19),h=i(40),u=i(50),d=i(51),f=i(11),p=i(7),_=i(18),m=i(54),g=i(55),v=i(56),y=i(57),b=i(59),w=i(0),C=i(16),S=i(27),k=i(60),x=i(5),E=i(61),A=i(62),O=i(63),T=i(64),R=i(65),L="undefined"!=typeof window?window.document:null,P=function(e){function t(t){void 0===t&&(t={});var i=e.call(this,t)||this;return i.browser=f,i._keyDownHandled=!1,i._onCursorMove=new w.EventEmitter,i._onKey=new w.EventEmitter,i._onRender=new w.EventEmitter,i._onSelectionChange=new w.EventEmitter,i._onTitleChange=new w.EventEmitter,i._onFocus=new w.EventEmitter,i._onBlur=new w.EventEmitter,i._onA11yCharEmitter=new w.EventEmitter,i._onA11yTabEmitter=new w.EventEmitter,i._setup(),i.linkifier=i._instantiationService.createInstance(u.Linkifier),i.linkifier2=i.register(i._instantiationService.createInstance(O.Linkifier2)),i.register(i._inputHandler.onRequestBell((function(){return i.bell()}))),i.register(i._inputHandler.onRequestRefreshRows((function(e,t){return i.refresh(e,t)}))),i.register(i._inputHandler.onRequestReset((function(){return i.reset()}))),i.register(i._inputHandler.onRequestScroll((function(e,t){return i.scroll(e,t||void 0)}))),i.register(i._inputHandler.onRequestWindowsOptionsReport((function(e){return i._reportWindowsOptions(e)}))),i.register(w.forwardEvent(i._inputHandler.onCursorMove,i._onCursorMove)),i.register(w.forwardEvent(i._inputHandler.onTitleChange,i._onTitleChange)),i.register(w.forwardEvent(i._inputHandler.onA11yChar,i._onA11yCharEmitter)),i.register(w.forwardEvent(i._inputHandler.onA11yTab,i._onA11yTabEmitter)),i.register(i._bufferService.onResize((function(e){return i._afterResize(e.cols,e.rows)}))),i}return n(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this.optionsService.options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t,i,r;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._renderService)||void 0===t||t.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},null===(r=null===(i=this.element)||void 0===i?void 0:i.parentNode)||void 0===r||r.removeChild(this.element))},t.prototype._setup=function(){e.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),t.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},t.prototype._updateOptions=function(t){var i,r,n,s;switch(e.prototype._updateOptions.call(this,t),t){case"fontFamily":case"fontSize":null===(i=this._renderService)||void 0===i||i.clear(),null===(r=this._charSizeService)||void 0===r||r.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":null===(n=this.viewport)||void 0===n||n.syncScrollArea();break;case"screenReaderMode":this.optionsService.options.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new v.AccessibilityManager(this,this._renderService)):(null===(s=this._accessibilityManager)||void 0===s||s.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.options.theme)}},t.prototype._onTextAreaFocus=function(e){this._coreService.decPrivateModes.sendFocus&&this._coreService.triggerDataEvent(l.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},t.prototype.blur=function(){var e;return null===(e=this.textarea)||void 0===e?void 0:e.blur()},t.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this._coreService.decPrivateModes.sendFocus&&this._coreService.triggerDataEvent(l.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},t.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing){var e=Math.ceil(this._charSizeService.height*this.optionsService.options.lineHeight),t=this._bufferService.buffer.y*e;this.textarea.style.left=this._bufferService.buffer.x*this._charSizeService.width+"px",this.textarea.style.top=t+"px",this.textarea.style.width=this._charSizeService.width+"px",this.textarea.style.height=e+"px",this.textarea.style.lineHeight=e+"px",this.textarea.style.zIndex="-5"}},t.prototype._initGlobal=function(){var e=this;this._bindKeys(),this.register(p.addDisposableDomListener(this.element,"copy",(function(t){e.hasSelection()&&a.copyHandler(t,e._selectionService)})));var t=function(t){return a.handlePasteEvent(t,e.textarea,e._coreService)};this.register(p.addDisposableDomListener(this.textarea,"paste",t)),this.register(p.addDisposableDomListener(this.element,"paste",t)),this.register(f.isFirefox?p.addDisposableDomListener(this.element,"mousedown",(function(t){2===t.button&&a.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)})):p.addDisposableDomListener(this.element,"contextmenu",(function(t){a.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))),f.isLinux&&this.register(p.addDisposableDomListener(this.element,"auxclick",(function(t){1===t.button&&a.moveTextAreaUnderMouseCursor(t,e.textarea,e.screenElement)})))},t.prototype._bindKeys=function(){var e=this;this.register(p.addDisposableDomListener(this.textarea,"keyup",(function(t){return e._keyUp(t)}),!0)),this.register(p.addDisposableDomListener(this.textarea,"keydown",(function(t){return e._keyDown(t)}),!0)),this.register(p.addDisposableDomListener(this.textarea,"keypress",(function(t){return e._keyPress(t)}),!0)),this.register(p.addDisposableDomListener(this.textarea,"compositionstart",(function(){return e._compositionHelper.compositionstart()}))),this.register(p.addDisposableDomListener(this.textarea,"compositionupdate",(function(t){return e._compositionHelper.compositionupdate(t)}))),this.register(p.addDisposableDomListener(this.textarea,"compositionend",(function(){return e._compositionHelper.compositionend()}))),this.register(this.onRender((function(){return e._compositionHelper.updateCompositionElements()}))),this.register(this.onRender((function(t){return e._queueLinkification(t.start,t.end)})))},t.prototype.open=function(e){var t=this;if(!e)throw new Error("Terminal requires a parent element.");L.body.contains(e)||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),e.appendChild(this.element);var i=L.createDocumentFragment();this._viewportElement=L.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),i.appendChild(this._viewportElement),this._viewportScrollArea=L.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=L.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=L.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),i.appendChild(this.screenElement),this.textarea=L.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",_.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register(p.addDisposableDomListener(this.textarea,"focus",(function(e){return t._onTextAreaFocus(e)}))),this.register(p.addDisposableDomListener(this.textarea,"blur",(function(){return t._onTextAreaBlur()}))),this._helperContainer.appendChild(this.textarea);var r=this._instantiationService.createInstance(T.CoreBrowserService,this.textarea);this._instantiationService.setService(x.ICoreBrowserService,r),this._charSizeService=this._instantiationService.createInstance(E.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(x.ICharSizeService,this._charSizeService),this._compositionView=L.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(s.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(i),this._theme=this.options.theme||this._theme,this._colorManager=new S.ColorManager(L,this.options.allowTransparency),this.register(this.optionsService.onOptionChange((function(e){return t._colorManager.onOptionsChange(e)}))),this._colorManager.setTheme(this._theme);var n=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,n,this.rows,this.screenElement)),this._instantiationService.setService(x.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange((function(e){return t._onRender.fire(e)}))),this.onResize((function(e){return t._renderService.resize(e.cols,e.rows)})),this._soundService=this._instantiationService.createInstance(m.SoundService),this._instantiationService.setService(x.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(A.MouseService),this._instantiationService.setService(x.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(o.Viewport,(function(e,i){return t.scrollLines(e,i)}),this._viewportElement,this._viewportScrollArea),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar((function(){return t.viewport.syncScrollArea()}))),this.register(this.viewport),this.register(this.onCursorMove((function(){t._renderService.onCursorMove(),t._syncTextArea()}))),this.register(this.onResize((function(){return t._renderService.onResize(t.cols,t.rows)}))),this.register(this.onBlur((function(){return t._renderService.onBlur()}))),this.register(this.onFocus((function(){return t._renderService.onFocus()}))),this.register(this._renderService.onDimensionsChange((function(){return t.viewport.syncScrollArea()}))),this._selectionService=this.register(this._instantiationService.createInstance(d.SelectionService,this.element,this.screenElement)),this._instantiationService.setService(x.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((function(e){return t.scrollLines(e.amount,e.suppressScrollEvent)}))),this.register(this._selectionService.onSelectionChange((function(){return t._onSelectionChange.fire()}))),this.register(this._selectionService.onRequestRedraw((function(e){return t._renderService.onSelectionChanged(e.start,e.end,e.columnSelectMode)}))),this.register(this._selectionService.onLinuxMouseSelection((function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()}))),this.register(this.onScroll((function(){t.viewport.syncScrollArea(),t._selectionService.refresh()}))),this.register(p.addDisposableDomListener(this._viewportElement,"scroll",(function(){return t._selectionService.refresh()}))),this._mouseZoneManager=this._instantiationService.createInstance(g.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll((function(){return t._mouseZoneManager.clearAll()}))),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.element,this._mouseService,this._renderService),this.register(p.addDisposableDomListener(this.element,"mousedown",(function(e){return t._selectionService.onMouseDown(e)}))),this._coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new v.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},t.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(h.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(y.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},t.prototype._setTheme=function(e){var t,i,r;this._theme=e,null===(t=this._colorManager)||void 0===t||t.setTheme(e),null===(i=this._renderService)||void 0===i||i.setColors(this._colorManager.colors),null===(r=this.viewport)||void 0===r||r.onThemeChange(this._colorManager.colors)},t.prototype.bindMouse=function(){var e=this,t=this,i=this.element;function r(e){var i,r,n=t._mouseService.getRawByteCoords(e,t.screenElement,t.cols,t.rows);if(!n)return!1;switch(e.overrideType||e.type){case"mousemove":r=32,void 0===e.buttons?(i=3,void 0!==e.button&&(i=e.button<3?e.button:3)):i=1&e.buttons?0:4&e.buttons?1:2&e.buttons?2:3;break;case"mouseup":r=0,i=e.button<3?e.button:3;break;case"mousedown":r=1,i=e.button<3?e.button:3;break;case"wheel":0!==e.deltaY&&(r=e.deltaY<0?0:1),i=4;break;default:return!1}return!(void 0===r||void 0===i||i>4)&&t._coreMouseService.triggerMouseEvent({col:n.x-33,row:n.y-33,button:i,action:r,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey})}var n={mouseup:null,wheel:null,mousedrag:null,mousemove:null},s=function(t){return r(t),t.buttons||(e._document.removeEventListener("mouseup",n.mouseup),n.mousedrag&&e._document.removeEventListener("mousemove",n.mousedrag)),e.cancel(t)},o=function(t){return r(t),t.preventDefault(),e.cancel(t)},a=function(e){e.buttons&&r(e)},c=function(e){e.buttons||r(e)};this.register(this._coreMouseService.onProtocolChange((function(t){t?("debug"===e.optionsService.options.logLevel&&e._logService.debug("Binding to mouse events:",e._coreMouseService.explainEvents(t)),e.element.classList.add("enable-mouse-events"),e._selectionService.disable()):(e._logService.debug("Unbinding from mouse events."),e.element.classList.remove("enable-mouse-events"),e._selectionService.enable()),8&t?n.mousemove||(i.addEventListener("mousemove",c),n.mousemove=c):(i.removeEventListener("mousemove",n.mousemove),n.mousemove=null),16&t?n.wheel||(i.addEventListener("wheel",o,{passive:!1}),n.wheel=o):(i.removeEventListener("wheel",n.wheel),n.wheel=null),2&t?n.mouseup||(n.mouseup=s):(e._document.removeEventListener("mouseup",n.mouseup),n.mouseup=null),4&t?n.mousedrag||(n.mousedrag=a):(e._document.removeEventListener("mousemove",n.mousedrag),n.mousedrag=null)}))),this._coreMouseService.activeProtocol=this._coreMouseService.activeProtocol,this.register(p.addDisposableDomListener(i,"mousedown",(function(t){if(t.preventDefault(),e.focus(),e._coreMouseService.areMouseEventsActive&&!e._selectionService.shouldForceSelection(t))return r(t),n.mouseup&&e._document.addEventListener("mouseup",n.mouseup),n.mousedrag&&e._document.addEventListener("mousemove",n.mousedrag),e.cancel(t)}))),this.register(p.addDisposableDomListener(i,"wheel",(function(t){if(n.wheel);else if(!e.buffer.hasScrollback){var i=e.viewport.getLinesScrolled(t);if(0===i)return;for(var r=l.C0.ESC+(e._coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(t.deltaY<0?"A":"B"),s="",o=0;o<Math.abs(i);o++)s+=r;e._coreService.triggerDataEvent(s,!0)}}),{passive:!0})),this.register(p.addDisposableDomListener(i,"wheel",(function(t){if(!n.wheel)return e.viewport.onWheel(t)?void 0:e.cancel(t)}),{passive:!1})),this.register(p.addDisposableDomListener(i,"touchstart",(function(t){if(!e._coreMouseService.areMouseEventsActive)return e.viewport.onTouchStart(t),e.cancel(t)}),{passive:!0})),this.register(p.addDisposableDomListener(i,"touchmove",(function(t){if(!e._coreMouseService.areMouseEventsActive)return e.viewport.onTouchMove(t)?void 0:e.cancel(t)}),{passive:!1}))},t.prototype.refresh=function(e,t){var i;null===(i=this._renderService)||void 0===i||i.refreshRows(e,t)},t.prototype._queueLinkification=function(e,t){var i;null===(i=this.linkifier)||void 0===i||i.linkifyRows(e,t)},t.prototype.updateCursorStyle=function(e){this._selectionService&&this._selectionService.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},t.prototype._showCursor=function(){this._coreService.isCursorInitialized||(this._coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scrollLines=function(t,i){e.prototype.scrollLines.call(this,t,i),this.refresh(0,this.rows-1)},t.prototype.paste=function(e){a.paste(e,this.textarea,this._coreService)},t.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},t.prototype.registerLinkMatcher=function(e,t,i){var r=this.linkifier.registerLinkMatcher(e,t,i);return this.refresh(0,this.rows-1),r},t.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},t.prototype.registerLinkProvider=function(e){return this.linkifier2.registerLinkProvider(e)},t.prototype.registerCharacterJoiner=function(e){var t=this._renderService.registerCharacterJoiner(e);return this.refresh(0,this.rows-1),t},t.prototype.deregisterCharacterJoiner=function(e){this._renderService.deregisterCharacterJoiner(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(t.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),t.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},t.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},t.prototype.select=function(e,t,i){this._selectionService.setSelection(e,t,i)},t.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},t.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},t.prototype.clearSelection=function(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()},t.prototype.selectAll=function(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()},t.prototype.selectLines=function(e,t){var i;null===(i=this._selectionService)||void 0===i||i.selectLines(e,t)},t.prototype._keyDown=function(e){if(this._keyDownHandled=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var t=b.evaluateKeyboardEvent(e,this._coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===t.type||2===t.type){var i=this.rows-1;return this.scrollLines(2===t.type?-i:i),this.cancel(e,!0)}return 1===t.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(t.cancel&&this.cancel(e,!0),!t.key||(t.key!==l.C0.ETX&&t.key!==l.C0.CR||(this.textarea.value=""),this._onKey.fire({key:t.key,domEvent:e}),this._showCursor(),this._coreService.triggerDataEvent(t.key,!0),this.optionsService.options.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(e,!0)))},t.prototype._isThirdLevelShift=function(e,t){var i=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey;return"keypress"===t.type?i:i&&(!t.keyCode||t.keyCode>47)},t.prototype._keyUp=function(e){this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e))},t.prototype._keyPress=function(e){var t;if(this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null==e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this._coreService.triggerDataEvent(t,!0),0))},t.prototype.bell=function(){this._soundBell()&&this._soundService.playBellSound()},t.prototype.resize=function(t,i){t!==this.cols||i!==this.rows?e.prototype.resize.call(this,t,i):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},t.prototype._afterResize=function(e,t){var i,r;null===(i=this._charSizeService)||void 0===i||i.measure(),null===(r=this.viewport)||void 0===r||r.syncScrollArea(!0)},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(C.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire(this.buffer.ydisp)}},t.prototype.reset=function(){var t,i;this.options.rows=this.rows,this.options.cols=this.cols;var r=this._customKeyEventHandler;this._setup(),e.prototype.reset.call(this),null===(t=this._selectionService)||void 0===t||t.reset(),this._customKeyEventHandler=r,this.refresh(0,this.rows-1),null===(i=this.viewport)||void 0===i||i.syncScrollArea()},t.prototype._reportWindowsOptions=function(e){if(this._renderService)switch(e){case c.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var t=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),i=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this._coreService.triggerDataEvent(l.C0.ESC+"[4;"+i+";"+t+"t");break;case c.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var r=this._renderService.dimensions.scaledCellWidth.toFixed(0),n=this._renderService.dimensions.scaledCellHeight.toFixed(0);this._coreService.triggerDataEvent(l.C0.ESC+"[6;"+n+";"+r+"t")}},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype._visualBell=function(){return!1},t.prototype._soundBell=function(){return"sound"===this.options.bellStyle},t}(R.CoreTerminal);t.Terminal=P},function(e,t,i){"use strict";var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;var s=i(5),o=i(1),a=function(){function e(e,t,i,r,n,s){this._textarea=e,this._compositionView=t,this._bufferService=i,this._optionsService=r,this._charSizeService=n,this._coreService=s,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0}}return Object.defineProperty(e.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout((function(){t._compositionPosition.end=t._textarea.value.length}),0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){var i={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((function(){var e;t._isSendingComposition&&(t._isSendingComposition=!1,e=t._isComposing?t._textarea.value.substring(i.start,i.end):t._textarea.value.substring(i.start),t._coreService.triggerDataEvent(e,!0))}),0)}else{this._isSendingComposition=!1;var r=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(r,!0)}},e.prototype._handleAnyTextareaChanges=function(){var e=this,t=this._textarea.value;setTimeout((function(){if(!e._isComposing){var i=e._textarea.value.replace(t,"");i.length>0&&e._coreService.triggerDataEvent(i,!0)}}),0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var i=Math.ceil(this._charSizeService.height*this._optionsService.options.lineHeight),r=this._bufferService.buffer.y*i,n=this._bufferService.buffer.x*this._charSizeService.width;this._compositionView.style.left=n+"px",this._compositionView.style.top=r+"px",this._compositionView.style.height=i+"px",this._compositionView.style.lineHeight=i+"px",this._compositionView.style.fontFamily=this._optionsService.options.fontFamily,this._compositionView.style.fontSize=this._optionsService.options.fontSize+"px";var s=this._compositionView.getBoundingClientRect();this._textarea.style.left=n+"px",this._textarea.style.top=r+"px",this._textarea.style.width=s.width+"px",this._textarea.style.height=s.height+"px",this._textarea.style.lineHeight=s.height+"px"}e||setTimeout((function(){return t.updateCompositionElements(!0)}),0)}},r([n(2,o.IBufferService),n(3,o.IOptionsService),n(4,s.ICharSizeService),n(5,o.ICoreService)],e)}();t.CompositionHelper=a},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;var a=i(2),l=i(7),c=i(5),h=i(1),u=function(e){function t(t,i,r,n,s,o,a){var c=e.call(this)||this;return c._scrollLines=t,c._viewportElement=i,c._scrollArea=r,c._bufferService=n,c._optionsService=s,c._charSizeService=o,c._renderService=a,c.scrollBarWidth=0,c._currentRowHeight=0,c._lastRecordedBufferLength=0,c._lastRecordedViewportHeight=0,c._lastRecordedBufferHeight=0,c._lastTouchY=0,c._lastScrollTop=0,c._wheelPartialScroll=0,c._refreshAnimationFrame=null,c._ignoreNextScrollEvent=!1,c.scrollBarWidth=c._viewportElement.offsetWidth-c._scrollArea.offsetWidth||15,c.register(l.addDisposableDomListener(c._viewportElement,"scroll",c._onScroll.bind(c))),setTimeout((function(){return c.syncScrollArea()}),0),c}return n(t,e),t.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(e){var t=this;if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame((function(){return t._innerRefresh()})))},t.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(e){if(void 0===e&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._bufferService.buffer.ydisp*this._currentRowHeight&&this._lastScrollTop===this._viewportElement.scrollTop&&this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio===this._currentRowHeight||this._refresh(e)},t.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent)if(this._ignoreNextScrollEvent)this._ignoreNextScrollEvent=!1;else{var t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(t,!0)}},t.prototype._bubbleScroll=function(e,t){return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},t.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return 0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},t.prototype._getPixelsScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},t.prototype.getLinesScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(this._wheelPartialScroll+=t/=this._currentRowHeight+0,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},t.prototype._applyScrollModifier=function(e,t){var i=this._optionsService.options.fastScrollModifier;return"alt"===i&&t.altKey||"ctrl"===i&&t.ctrlKey||"shift"===i&&t.shiftKey?e*this._optionsService.options.fastScrollSensitivity*this._optionsService.options.scrollSensitivity:e*this._optionsService.options.scrollSensitivity},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},s([o(3,h.IBufferService),o(4,h.IOptionsService),o(5,c.ICharSizeService),o(6,c.IRenderService)],t)}(a.Disposable);t.Viewport=u},function(e,t,i){"use strict";function r(e){return e.replace(/\r?\n/g,"\r")}function n(e,t){return t?"\x1b[200~"+e+"\x1b[201~":e}function s(e,t,i){e=n(e=r(e),i.decPrivateModes.bracketedPasteMode),i.triggerDataEvent(e,!0),t.value=""}function o(e,t,i){var r=i.getBoundingClientRect(),n=e.clientX-r.left-10,s=e.clientY-r.top-10;t.style.width="20px",t.style.height="20px",t.style.left=n+"px",t.style.top=s+"px",t.style.zIndex="1000",t.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=r,t.bracketTextForPaste=n,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,i){e.stopPropagation(),e.clipboardData&&s(e.clipboardData.getData("text/plain"),t,i)},t.paste=s,t.moveTextAreaUnderMouseCursor=o,t.rightClickHandler=function(e,t,i,r,n){o(e,t,i),n&&!r.isClickInSelection(e)&&r.selectWordAtCursor(e),t.value=r.selectionText,t.select()}},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;var s=i(2),o=i(15),a=i(21),l=i(22),c=i(24),h=function(){function e(e){this.table=new Uint8Array(e)}return e.prototype.setDefault=function(e,t){o.fill(this.table,e<<4|t)},e.prototype.add=function(e,t,i,r){this.table[t<<8|e]=i<<4|r},e.prototype.addMany=function(e,t,i,r){for(var n=0;n<e.length;n++)this.table[t<<8|e[n]]=i<<4|r},e}();t.TransitionTable=h,t.VT500_TRANSITION_TABLE=function(){var e=new h(4095),t=Array.apply(null,Array(256)).map((function(e,t){return t})),i=function(e,i){return t.slice(e,i)},r=i(32,127),n=i(0,24);n.push(25),n.push.apply(n,i(28,32));var s,o=i(0,14);for(s in e.setDefault(1,0),e.addMany(r,0,2,0),o)e.addMany([24,26,153,154],s,3,0),e.addMany(i(128,144),s,3,0),e.addMany(i(144,152),s,3,0),e.add(156,s,0,0),e.add(27,s,11,1),e.add(157,s,4,8),e.addMany([152,158,159],s,0,7),e.add(155,s,11,3),e.add(144,s,11,9);return e.addMany(n,0,3,0),e.addMany(n,1,3,1),e.add(127,1,0,1),e.addMany(n,8,0,8),e.addMany(n,3,3,3),e.add(127,3,0,3),e.addMany(n,4,3,4),e.add(127,4,0,4),e.addMany(n,6,3,6),e.addMany(n,5,3,5),e.add(127,5,0,5),e.addMany(n,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(r,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(i(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(r,7,0,7),e.addMany(n,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(i(64,127),3,7,0),e.addMany(i(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(i(48,60),4,8,4),e.addMany(i(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(i(32,64),6,0,6),e.add(127,6,0,6),e.addMany(i(64,127),6,0,0),e.addMany(i(32,48),3,9,5),e.addMany(i(32,48),5,9,5),e.addMany(i(48,64),5,0,6),e.addMany(i(64,127),5,7,0),e.addMany(i(32,48),4,9,5),e.addMany(i(32,48),1,9,2),e.addMany(i(32,48),2,9,2),e.addMany(i(48,127),2,10,0),e.addMany(i(48,80),1,10,0),e.addMany(i(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(i(96,127),1,10,0),e.add(80,1,11,9),e.addMany(n,9,0,9),e.add(127,9,0,9),e.addMany(i(28,32),9,0,9),e.addMany(i(32,48),9,9,12),e.addMany(i(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(n,11,0,11),e.addMany(i(32,128),11,0,11),e.addMany(i(28,32),11,0,11),e.addMany(n,10,0,10),e.add(127,10,0,10),e.addMany(i(28,32),10,0,10),e.addMany(i(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(i(32,48),10,9,12),e.addMany(n,12,0,12),e.add(127,12,0,12),e.addMany(i(28,32),12,0,12),e.addMany(i(32,48),12,9,12),e.addMany(i(48,64),12,0,11),e.addMany(i(64,127),12,12,13),e.addMany(i(64,127),10,12,13),e.addMany(i(64,127),9,12,13),e.addMany(n,13,13,13),e.addMany(r,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(160,0,2,0),e.add(160,8,5,8),e.add(160,6,0,6),e.add(160,11,0,11),e.add(160,13,13,13),e}();var u=function(e){function i(i){void 0===i&&(i=t.VT500_TRANSITION_TABLE);var r=e.call(this)||this;return r._transitions=i,r.initialState=0,r.currentState=r.initialState,r._params=new a.Params,r._params.addParam(0),r._collect=0,r.precedingCodepoint=0,r._printHandlerFb=function(e,t,i){},r._executeHandlerFb=function(e){},r._csiHandlerFb=function(e,t){},r._escHandlerFb=function(e){},r._errorHandlerFb=function(e){return e},r._printHandler=r._printHandlerFb,r._executeHandlers=Object.create(null),r._csiHandlers=Object.create(null),r._escHandlers=Object.create(null),r._oscParser=new l.OscParser,r._dcsParser=new c.DcsParser,r._errorHandler=r._errorHandlerFb,r.setEscHandler({final:"\\"},(function(){})),r}return n(i,e),i.prototype._identifier=function(e,t){void 0===t&&(t=[64,126]);var i=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if((i=e.prefix.charCodeAt(0))&&60>i||i>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var r=0;r<e.intermediates.length;++r){var n=e.intermediates.charCodeAt(r);if(32>n||n>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");i<<=8,i|=n}}if(1!==e.final.length)throw new Error("final must be a single byte");var s=e.final.charCodeAt(0);if(t[0]>s||s>t[1])throw new Error("final must be in range "+t[0]+" .. "+t[1]);return(i<<=8)|s},i.prototype.identToString=function(e){for(var t=[];e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")},i.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},i.prototype.setPrintHandler=function(e){this._printHandler=e},i.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},i.prototype.addEscHandler=function(e,t){var i=this._identifier(e,[48,126]);void 0===this._escHandlers[i]&&(this._escHandlers[i]=[]);var r=this._escHandlers[i];return r.push(t),{dispose:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}},i.prototype.setEscHandler=function(e,t){this._escHandlers[this._identifier(e,[48,126])]=[t]},i.prototype.clearEscHandler=function(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]},i.prototype.setEscHandlerFallback=function(e){this._escHandlerFb=e},i.prototype.setExecuteHandler=function(e,t){this._executeHandlers[e.charCodeAt(0)]=t},i.prototype.clearExecuteHandler=function(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]},i.prototype.setExecuteHandlerFallback=function(e){this._executeHandlerFb=e},i.prototype.addCsiHandler=function(e,t){var i=this._identifier(e);void 0===this._csiHandlers[i]&&(this._csiHandlers[i]=[]);var r=this._csiHandlers[i];return r.push(t),{dispose:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}},i.prototype.setCsiHandler=function(e,t){this._csiHandlers[this._identifier(e)]=[t]},i.prototype.clearCsiHandler=function(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]},i.prototype.setCsiHandlerFallback=function(e){this._csiHandlerFb=e},i.prototype.addDcsHandler=function(e,t){return this._dcsParser.addHandler(this._identifier(e),t)},i.prototype.setDcsHandler=function(e,t){this._dcsParser.setHandler(this._identifier(e),t)},i.prototype.clearDcsHandler=function(e){this._dcsParser.clearHandler(this._identifier(e))},i.prototype.setDcsHandlerFallback=function(e){this._dcsParser.setHandlerFallback(e)},i.prototype.addOscHandler=function(e,t){return this._oscParser.addHandler(e,t)},i.prototype.setOscHandler=function(e,t){this._oscParser.setHandler(e,t)},i.prototype.clearOscHandler=function(e){this._oscParser.clearHandler(e)},i.prototype.setOscHandlerFallback=function(e){this._oscParser.setHandlerFallback(e)},i.prototype.setErrorHandler=function(e){this._errorHandler=e},i.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},i.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0},i.prototype.parse=function(e,t){for(var i=0,r=0,n=this.currentState,s=this._oscParser,o=this._dcsParser,a=this._collect,l=this._params,c=this._transitions.table,h=0;h<t;++h){switch((r=c[n<<8|((i=e[h])<160?i:160)])>>4){case 2:for(var u=h+1;;++u){if(u>=t||(i=e[u])<32||i>126&&i<160){this._printHandler(e,h,u),h=u-1;break}if(++u>=t||(i=e[u])<32||i>126&&i<160){this._printHandler(e,h,u),h=u-1;break}if(++u>=t||(i=e[u])<32||i>126&&i<160){this._printHandler(e,h,u),h=u-1;break}if(++u>=t||(i=e[u])<32||i>126&&i<160){this._printHandler(e,h,u),h=u-1;break}}break;case 3:this._executeHandlers[i]?this._executeHandlers[i]():this._executeHandlerFb(i),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:h,code:i,currentState:n,collect:a,params:l,abort:!1}).abort)return;break;case 7:for(var d=this._csiHandlers[a<<8|i],f=d?d.length-1:-1;f>=0&&!1===d[f](l);f--);f<0&&this._csiHandlerFb(a<<8|i,l),this.precedingCodepoint=0;break;case 8:do{switch(i){case 59:l.addParam(0);break;case 58:l.addSubParam(-1);break;default:l.addDigit(i-48)}}while(++h<t&&(i=e[h])>47&&i<60);h--;break;case 9:a<<=8,a|=i;break;case 10:for(var p=this._escHandlers[a<<8|i],_=p?p.length-1:-1;_>=0&&!1===p[_]();_--);_<0&&this._escHandlerFb(a<<8|i),this.precedingCodepoint=0;break;case 11:l.reset(),l.addParam(0),a=0;break;case 12:o.hook(a<<8|i,l);break;case 13:for(var m=h+1;;++m)if(m>=t||24===(i=e[m])||26===i||27===i||i>127&&i<160){o.put(e,h,m),h=m-1;break}break;case 14:o.unhook(24!==i&&26!==i),27===i&&(r|=1),l.reset(),l.addParam(0),a=0,this.precedingCodepoint=0;break;case 4:s.start();break;case 5:for(var g=h+1;;g++)if(g>=t||(i=e[g])<32||i>127&&i<=159){s.put(e,h,g),h=g-1;break}break;case 6:s.end(24!==i&&26!==i),27===i&&(r|=1),l.reset(),l.addParam(0),a=0,this.precedingCodepoint=0}n=15&r}this._collect=a,this.currentState=n},i}(s.Disposable);t.EscapeSequenceParser=u},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var a=i(41),l=i(47),c=i(48),h=i(49),u=i(29),d=i(2),f=i(5),p=i(1),_=i(25),m=i(0),g=1,v=function(e){function t(t,i,r,n,s,o,d,f,p){var _=e.call(this)||this;_._colors=t,_._screenElement=i,_._bufferService=s,_._charSizeService=o,_._optionsService=d,_._id=g++,_._onRequestRedraw=new m.EventEmitter;var v=_._optionsService.options.allowTransparency;return _._characterJoinerRegistry=new u.CharacterJoinerRegistry(_._bufferService),_._renderLayers=[new a.TextRenderLayer(_._screenElement,0,_._colors,_._characterJoinerRegistry,v,_._id,_._bufferService,d),new l.SelectionRenderLayer(_._screenElement,1,_._colors,_._id,_._bufferService,d),new h.LinkRenderLayer(_._screenElement,2,_._colors,_._id,r,n,_._bufferService,d),new c.CursorRenderLayer(_._screenElement,3,_._colors,_._id,_._onRequestRedraw,_._bufferService,d,f,p)],_.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},_._devicePixelRatio=window.devicePixelRatio,_._updateDimensions(),_.onOptionsChanged(),_}return n(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){for(var t=0,i=this._renderLayers;t<i.length;t++)i[t].dispose();e.prototype.dispose.call(this),_.removeTerminalFromCache(this._id)},t.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},t.prototype.setColors=function(e){this._colors=e;for(var t=0,i=this._renderLayers;t<i.length;t++){var r=i[t];r.setColors(this._colors),r.reset()}},t.prototype.onResize=function(e,t){this._updateDimensions();for(var i=0,r=this._renderLayers;i<r.length;i++)r[i].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},t.prototype.onBlur=function(){this._runOperation((function(e){return e.onBlur()}))},t.prototype.onFocus=function(){this._runOperation((function(e){return e.onFocus()}))},t.prototype.onSelectionChanged=function(e,t,i){void 0===i&&(i=!1),this._runOperation((function(r){return r.onSelectionChanged(e,t,i)}))},t.prototype.onCursorMove=function(){this._runOperation((function(e){return e.onCursorMove()}))},t.prototype.onOptionsChanged=function(){this._runOperation((function(e){return e.onOptionsChanged()}))},t.prototype.clear=function(){this._runOperation((function(e){return e.reset()}))},t.prototype._runOperation=function(e){for(var t=0,i=this._renderLayers;t<i.length;t++)e(i[t])},t.prototype.renderRows=function(e,t){for(var i=0,r=this._renderLayers;i<r.length;i++)r[i].onGridChanged(e,t)},t.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},t.prototype.registerCharacterJoiner=function(e){return this._characterJoinerRegistry.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._characterJoinerRegistry.deregisterCharacterJoiner(e)},s([o(4,p.IBufferService),o(5,f.ICharSizeService),o(6,p.IOptionsService),o(7,p.ICoreService),o(8,f.ICoreBrowserService)],t)}(d.Disposable);t.Renderer=v},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.TextRenderLayer=void 0;var s=i(42),o=i(13),a=i(6),l=i(3),c=i(29),h=i(4),u=function(e){function t(t,i,r,n,o,a,l,c){var u=e.call(this,t,"text",i,o,r,a,l,c)||this;return u._characterWidth=0,u._characterFont="",u._characterOverlapCache={},u._workCell=new h.CellData,u._state=new s.GridCache,u._characterJoinerRegistry=n,u}return n(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t);var i=this._getFont(!1,!1);this._characterWidth===t.scaledCharWidth&&this._characterFont===i||(this._characterWidth=t.scaledCharWidth,this._characterFont=i,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},t.prototype.reset=function(){this._state.clear(),this._clearAll()},t.prototype._forEachCell=function(e,t,i,r){for(var n=e;n<=t;n++)for(var s=n+this._bufferService.buffer.ydisp,o=this._bufferService.buffer.lines.get(s),a=i?i.getJoinedCharacters(s):[],h=0;h<this._bufferService.cols;h++){o.loadCell(h,this._workCell);var u=this._workCell,d=!1,f=h;if(0!==u.getWidth()){if(a.length>0&&h===a[0][0]){d=!0;var p=a.shift();u=new c.JoinedCellData(this._workCell,o.translateToString(!0,p[0],p[1]),p[1]-p[0]),f=p[1]-1}!d&&this._isOverlapping(u)&&f<o.length-1&&o.getCodePoint(f+1)===l.NULL_CELL_CODE&&(u.content&=-12582913,u.content|=2<<22),r(u,h,n),h=f}}},t.prototype._drawBackground=function(e,t){var i=this,r=this._ctx,n=this._bufferService.cols,s=0,o=0,l=null;r.save(),this._forEachCell(e,t,null,(function(e,t,c){var h=null;e.isInverse()?h=e.isFgDefault()?i._colors.foreground.css:e.isFgRGB()?"rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")":i._colors.ansi[e.getFgColor()].css:e.isBgRGB()?h="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")":e.isBgPalette()&&(h=i._colors.ansi[e.getBgColor()].css),null===l&&(s=t,o=c),c!==o?(r.fillStyle=l||"",i._fillCells(s,o,n-s,1),s=t,o=c):l!==h&&(r.fillStyle=l||"",i._fillCells(s,o,t-s,1),s=t,o=c),l=h})),null!==l&&(r.fillStyle=l,this._fillCells(s,o,n-s,1)),r.restore()},t.prototype._drawForeground=function(e,t){var i=this;this._forEachCell(e,t,this._characterJoinerRegistry,(function(e,t,r){if(!e.isInvisible()&&(i._drawChars(e,t,r),e.isUnderline())){if(i._ctx.save(),e.isInverse())if(e.isBgDefault())i._ctx.fillStyle=i._colors.background.css;else if(e.isBgRGB())i._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var n=e.getBgColor();i._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&n<8&&(n+=8),i._ctx.fillStyle=i._colors.ansi[n].css}else if(e.isFgDefault())i._ctx.fillStyle=i._colors.foreground.css;else if(e.isFgRGB())i._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var s=e.getFgColor();i._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&s<8&&(s+=8),i._ctx.fillStyle=i._colors.ansi[s].css}i._fillBottomLineAtCells(t,r,e.getWidth()),i._ctx.restore()}}))},t.prototype.onGridChanged=function(e,t){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,e,this._bufferService.cols,t-e+1),this._drawBackground(e,t),this._drawForeground(e,t))},t.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.options.allowTransparency)},t.prototype._isOverlapping=function(e){if(1!==e.getWidth())return!1;if(e.getCode()<256)return!1;var t=e.getChars();if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var i=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=i,i},t}(o.BaseRenderLayer);t.TextRenderLayer=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridCache=void 0;var r=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var i=0;i<e;i++){this.cache.length<=i&&this.cache.push([]);for(var r=this.cache[i].length;r<t;r++)this.cache[i].push(void 0);this.cache[i].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=void 0},e}();t.GridCache=r},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.NoneCharAtlas=t.DynamicCharAtlas=t.getGlyphCacheKey=void 0;var s=i(9),o=i(44),a=i(27),l=i(46),c=i(11),h=i(28),u=i(10),d={css:"rgba(0, 0, 0, 0)",rgba:0};function f(e){return e.code<<21|e.bg<<12|e.fg<<3|(e.bold?0:4)+(e.dim?0:2)+(e.italic?0:1)}t.getGlyphCacheKey=f;var p=function(e){function t(t,i){var r=e.call(this)||this;r._config=i,r._drawToCacheCount=0,r._glyphsWaitingOnBitmap=[],r._bitmapCommitTimeout=null,r._bitmap=null,r._cacheCanvas=t.createElement("canvas"),r._cacheCanvas.width=1024,r._cacheCanvas.height=1024,r._cacheCtx=h.throwIfFalsy(r._cacheCanvas.getContext("2d",{alpha:!0}));var n=t.createElement("canvas");n.width=r._config.scaledCharWidth,n.height=r._config.scaledCharHeight,r._tmpCtx=h.throwIfFalsy(n.getContext("2d",{alpha:r._config.allowTransparency})),r._width=Math.floor(1024/r._config.scaledCharWidth),r._height=Math.floor(1024/r._config.scaledCharHeight);var s=r._width*r._height;return r._cacheMap=new l.LRUMap(s),r._cacheMap.prealloc(s),r}return n(t,e),t.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},t.prototype.beginFrame=function(){this._drawToCacheCount=0},t.prototype.draw=function(e,t,i,r){if(32===t.code)return!0;if(!this._canCache(t))return!1;var n=f(t),s=this._cacheMap.get(n);if(null!=s)return this._drawFromCache(e,s,i,r),!0;if(this._drawToCacheCount<100){var o;o=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var a=this._drawToCache(t,o);return this._cacheMap.set(n,a),this._drawFromCache(e,a,i,r),!0}return!1},t.prototype._canCache=function(e){return e.code<256},t.prototype._toCoordinateX=function(e){return e%this._width*this._config.scaledCharWidth},t.prototype._toCoordinateY=function(e){return Math.floor(e/this._width)*this._config.scaledCharHeight},t.prototype._drawFromCache=function(e,t,i,r){if(!t.isEmpty){var n=this._toCoordinateX(t.index),s=this._toCoordinateY(t.index);e.drawImage(t.inBitmap?this._bitmap:this._cacheCanvas,n,s,this._config.scaledCharWidth,this._config.scaledCharHeight,i,r,this._config.scaledCharWidth,this._config.scaledCharHeight)}},t.prototype._getColorFromAnsiIndex=function(e){return e<this._config.colors.ansi.length?this._config.colors.ansi[e]:a.DEFAULT_ANSI_COLORS[e]},t.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?d:e.bg===s.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:e.bg<256?this._getColorFromAnsiIndex(e.bg):this._config.colors.background},t.prototype._getForegroundColor=function(e){return e.fg===s.INVERTED_DEFAULT_COLOR?u.color.opaque(this._config.colors.background):e.fg<256?this._getColorFromAnsiIndex(e.fg):this._config.colors.foreground},t.prototype._drawToCache=function(e,t){this._drawToCacheCount++,this._tmpCtx.save();var i=this._getBackgroundColor(e);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=i.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over",this._tmpCtx.font=(e.italic?"italic":"")+" "+(e.bold?this._config.fontWeightBold:this._config.fontWeight)+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline="middle",this._tmpCtx.fillStyle=this._getForegroundColor(e).css,e.dim&&(this._tmpCtx.globalAlpha=s.DIM_OPACITY),this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight/2),this._tmpCtx.restore();var r=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),n=!1;this._config.allowTransparency||(n=function(e,t){for(var i=!0,r=t.rgba>>>24,n=t.rgba>>>16&255,s=t.rgba>>>8&255,o=0;o<e.data.length;o+=4)e.data[o]===r&&e.data[o+1]===n&&e.data[o+2]===s?e.data[o+3]=0:i=!1;return i}(r,i));var o=this._toCoordinateX(t),a=this._toCoordinateY(t);this._cacheCtx.putImageData(r,o,a);var l={index:t,isEmpty:n,inBitmap:!1};return this._addGlyphToBitmap(l),l},t.prototype._addGlyphToBitmap=function(e){var t=this;!("createImageBitmap"in window)||c.isFirefox||c.isSafari||(this._glyphsWaitingOnBitmap.push(e),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout((function(){return t._generateBitmap()}),100)))},t.prototype._generateBitmap=function(){var e=this,t=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then((function(i){e._bitmap=i;for(var r=0;r<t.length;r++)t[r].inBitmap=!0})),this._bitmapCommitTimeout=null},t}(o.BaseCharAtlas);t.DynamicCharAtlas=p;var _=function(e){function t(t,i){return e.call(this)||this}return n(t,e),t.prototype.draw=function(e,t,i,r){return!1},t}(o.BaseCharAtlas);t.NoneCharAtlas=_},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCharAtlas=void 0;var r=function(){function e(){this._didWarmUp=!1}return e.prototype.dispose=function(){},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){},e.prototype.beginFrame=function(){},e}();t.BaseCharAtlas=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;var r=function(){function e(){this._color={},this._rgba={}}return e.prototype.clear=function(){this._color={},this._rgba={}},e.prototype.setCss=function(e,t,i){this._rgba[e]||(this._rgba[e]={}),this._rgba[e][t]=i},e.prototype.getCss=function(e,t){return this._rgba[e]?this._rgba[e][t]:void 0},e.prototype.setColor=function(e,t,i){this._color[e]||(this._color[e]={}),this._color[e][t]=i},e.prototype.getColor=function(e,t){return this._color[e]?this._color[e][t]:void 0},e}();t.ColorContrastCache=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUMap=void 0;var r=function(){function e(e){this.capacity=e,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return e.prototype._unlinkNode=function(e){var t=e.prev,i=e.next;e===this._head&&(this._head=i),e===this._tail&&(this._tail=t),null!==t&&(t.next=i),null!==i&&(i.prev=t)},e.prototype._appendNode=function(e){var t=this._tail;null!==t&&(t.next=e),e.prev=t,e.next=null,this._tail=e,null===this._head&&(this._head=e)},e.prototype.prealloc=function(e){for(var t=this._nodePool,i=0;i<e;i++)t.push({prev:null,next:null,key:null,value:null})},e.prototype.get=function(e){var t=this._map[e];return void 0!==t?(this._unlinkNode(t),this._appendNode(t),t.value):null},e.prototype.peekValue=function(e){var t=this._map[e];return void 0!==t?t.value:null},e.prototype.peek=function(){var e=this._head;return null===e?null:e.value},e.prototype.set=function(e,t){var i=this._map[e];if(void 0!==i)this._unlinkNode(i=this._map[e]),i.value=t;else if(this.size>=this.capacity)this._unlinkNode(i=this._head),delete this._map[i.key],i.key=e,i.value=t,this._map[e]=i;else{var r=this._nodePool;r.length>0?((i=r.pop()).key=e,i.value=t):i={prev:null,next:null,key:e,value:t},this._map[e]=i,this.size++}this._appendNode(i)},e}();t.LRUMap=r},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRenderLayer=void 0;var s=function(e){function t(t,i,r,n,s,o){var a=e.call(this,t,"selection",i,!0,r,n,s,o)||this;return a._clearState(),a}return n(t,e),t.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._clearState()},t.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},t.prototype.onSelectionChanged=function(e,t,i){if(this._didStateChange(e,t,i,this._bufferService.buffer.ydisp))if(this._clearAll(),e&&t){var r=e[1]-this._bufferService.buffer.ydisp,n=t[1]-this._bufferService.buffer.ydisp,s=Math.max(r,0),o=Math.min(n,this._bufferService.rows-1);if(s>=this._bufferService.rows||o<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,i){var a=e[0];this._fillCells(a,s,t[0]-a,o-s+1)}else{this._fillCells(a=r===s?e[0]:0,s,(s===n?t[0]:this._bufferService.cols)-a,1);var l=Math.max(o-s-1,0);this._fillCells(0,s+1,this._bufferService.cols,l),s!==o&&this._fillCells(0,o,n===o?t[0]:this._bufferService.cols,1)}this._state.start=[e[0],e[1]],this._state.end=[t[0],t[1]],this._state.columnSelectMode=i,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},t.prototype._didStateChange=function(e,t,i,r){return!this._areCoordinatesEqual(e,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||i!==this._state.columnSelectMode||r!==this._state.ydisp},t.prototype._areCoordinatesEqual=function(e,t){return!(!e||!t)&&e[0]===t[0]&&e[1]===t[1]},t}(i(13).BaseRenderLayer);t.SelectionRenderLayer=s},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CursorRenderLayer=void 0;var s=i(13),o=i(4),a=function(e){function t(t,i,r,n,s,a,l,c,h){var u=e.call(this,t,"cursor",i,!0,r,n,a,l)||this;return u._onRequestRedraw=s,u._coreService=c,u._coreBrowserService=h,u._cell=new o.CellData,u._state={x:0,y:0,isFocused:!1,style:"",width:0},u._cursorRenderers={bar:u._renderBarCursor.bind(u),block:u._renderBlockCursor.bind(u),underline:u._renderUnderlineCursor.bind(u)},u}return n(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},t.prototype.reset=function(){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0,this.onOptionsChanged())},t.prototype.onBlur=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onFocus=function(){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume():this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onOptionsChanged=function(){var e,t=this;this._optionsService.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new l(this._coreBrowserService.isFocused,(function(){t._render(!0)}))):(null===(e=this._cursorBlinkStateManager)||void 0===e||e.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onCursorMove=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype.onGridChanged=function(e,t){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype._render=function(e){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var t=this._bufferService.buffer.ybase+this._bufferService.buffer.y,i=t-this._bufferService.buffer.ydisp;if(i<0||i>=this._bufferService.rows)this._clearCursor();else{var r=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(t).loadCell(r,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var n=this._optionsService.options.cursorStyle;return n&&"block"!==n?this._cursorRenderers[n](r,i,this._cell):this._renderBlurCursor(r,i,this._cell),this._ctx.restore(),this._state.x=r,this._state.y=i,this._state.isFocused=!1,this._state.style=n,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===r&&this._state.y===i&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.options.cursorStyle||"block"](r,i,this._cell),this._ctx.restore(),this._state.x=r,this._state.y=i,this._state.isFocused=!1,this._state.style=this._optionsService.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},t.prototype._renderBarCursor=function(e,t,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(e,t,this._optionsService.options.cursorWidth),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(e,t,i.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(i,e,t),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(e,t),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,i){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(e,t,i.getWidth(),1),this._ctx.restore()},t}(s.BaseRenderLayer);t.CursorRenderLayer=a;var l=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0}))))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=window.setTimeout((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=void 0,e>0)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0})),t._blinkInterval=window.setInterval((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=void 0,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0}))}),600)}),e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.LinkRenderLayer=void 0;var s=i(13),o=i(9),a=i(26),l=function(e){function t(t,i,r,n,s,o,a,l){var c=e.call(this,t,"link",i,!0,r,n,a,l)||this;return s.onShowLinkUnderline((function(e){return c._onShowLinkUnderline(e)})),s.onHideLinkUnderline((function(e){return c._onHideLinkUnderline(e)})),o.onShowLinkUnderline((function(e){return c._onShowLinkUnderline(e)})),o.onHideLinkUnderline((function(e){return c._onHideLinkUnderline(e)})),c}return n(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onShowLinkUnderline=function(e){if(this._ctx.fillStyle=e.fg===o.INVERTED_DEFAULT_COLOR?this._colors.background.css:e.fg&&a.is256Color(e.fg)?this._colors.ansi[e.fg].css:this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onHideLinkUnderline=function(e){this._clearCurrentLink()},t}(s.BaseRenderLayer);t.LinkRenderLayer=l},function(e,t,i){"use strict";var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZone=t.Linkifier=void 0;var s=i(0),o=i(1),a=function(){function e(e,t,i){this._bufferService=e,this._logService=t,this._unicodeService=i,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new s.EventEmitter,this._onHideLinkUnderline=new s.EventEmitter,this._onLinkTooltip=new s.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(e.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),e.prototype.attachToDom=function(e,t){this._element=e,this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,i){var r=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=t,this._rowsToLinkify.end=i):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,t),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,i)),this._mouseZoneManager.clearAll(t,i),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout((function(){return r._linkifyRows()}),e._timeBeforeLatency))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var e=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var t=e.ydisp+this._rowsToLinkify.start;if(!(t>=e.lines.length)){for(var i=e.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,r=Math.ceil(2e3/this._bufferService.cols),n=this._bufferService.buffer.iterator(!1,t,i,r,r);n.hasNext();)for(var s=n.next(),o=0;o<this._linkMatchers.length;o++)this._doLinkifyRow(s.range.first,s.content,this._linkMatchers[o]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},e.prototype.registerLinkMatcher=function(e,t,i){if(void 0===i&&(i={}),!t)throw new Error("handler must be defined");var r={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:i.matchIndex,validationCallback:i.validationCallback,hoverTooltipCallback:i.tooltipCallback,hoverLeaveCallback:i.leaveCallback,willLinkActivate:i.willLinkActivate,priority:i.priority||0};return this._addLinkMatcherToList(r),r.id},e.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;t>=0;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},e.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},e.prototype._doLinkifyRow=function(e,t,i){for(var r,n=this,s=new RegExp(i.regex.source,(i.regex.flags||"")+"g"),o=-1,a=function(){var a=r["number"!=typeof i.matchIndex?0:i.matchIndex];if(!a)return l._logService.debug("match found without corresponding matchIndex",r,i),"break";if(o=t.indexOf(a,o+1),s.lastIndex=o+a.length,o<0)return"break";var c=l._bufferService.buffer.stringIndexToBufferIndex(e,o);if(c[0]<0)return"break";var h=l._bufferService.buffer.lines.get(c[0]);if(!h)return"break";var u=h.getFg(c[1]),d=u?u>>9&511:void 0;i.validationCallback?i.validationCallback(a,(function(e){n._rowsTimeoutId||e&&n._addLink(c[1],c[0]-n._bufferService.buffer.ydisp,a,i,d)})):l._addLink(c[1],c[0]-l._bufferService.buffer.ydisp,a,i,d)},l=this;null!==(r=s.exec(t))&&"break"!==a(););},e.prototype._addLink=function(e,t,i,r,n){var s=this;if(this._mouseZoneManager&&this._element){var o=this._unicodeService.getStringCellWidth(i),a=e%this._bufferService.cols,c=t+Math.floor(e/this._bufferService.cols),h=(a+o)%this._bufferService.cols,u=c+Math.floor((a+o)/this._bufferService.cols);0===h&&(h=this._bufferService.cols,u--),this._mouseZoneManager.add(new l(a+1,c+1,h+1,u+1,(function(e){if(r.handler)return r.handler(e,i);var t=window.open();t?(t.opener=null,t.location.href=i):console.warn("Opening link blocked as opener could not be cleared")}),(function(){s._onShowLinkUnderline.fire(s._createLinkHoverEvent(a,c,h,u,n)),s._element.classList.add("xterm-cursor-pointer")}),(function(e){s._onLinkTooltip.fire(s._createLinkHoverEvent(a,c,h,u,n)),r.hoverTooltipCallback&&r.hoverTooltipCallback(e,i,{start:{x:a,y:c},end:{x:h,y:u}})}),(function(){s._onHideLinkUnderline.fire(s._createLinkHoverEvent(a,c,h,u,n)),s._element.classList.remove("xterm-cursor-pointer"),r.hoverLeaveCallback&&r.hoverLeaveCallback()}),(function(e){return!r.willLinkActivate||r.willLinkActivate(e,i)})))}},e.prototype._createLinkHoverEvent=function(e,t,i,r,n){return{x1:e,y1:t,x2:i,y2:r,cols:this._bufferService.cols,fg:n}},e._timeBeforeLatency=200,e=r([n(0,o.IBufferService),n(1,o.ILogService),n(2,o.IUnicodeService)],e)}();t.Linkifier=a;var l=function(e,t,i,r,n,s,o,a,l){this.x1=e,this.y1=t,this.x2=i,this.y2=r,this.clickCallback=n,this.hoverCallback=s,this.tooltipCallback=o,this.leaveCallback=a,this.willLinkActivate=l};t.MouseZone=l},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;var a=i(11),l=i(52),c=i(4),h=i(0),u=i(5),d=i(1),f=i(30),p=i(53),_=i(2),m=String.fromCharCode(160),g=new RegExp(m,"g"),v=function(e){function t(t,i,r,n,s,o,a){var u=e.call(this)||this;return u._element=t,u._screenElement=i,u._bufferService=r,u._coreService=n,u._mouseService=s,u._optionsService=o,u._renderService=a,u._dragScrollAmount=0,u._enabled=!0,u._workCell=new c.CellData,u._mouseDownTimeStamp=0,u._onLinuxMouseSelection=u.register(new h.EventEmitter),u._onRedrawRequest=u.register(new h.EventEmitter),u._onSelectionChange=u.register(new h.EventEmitter),u._onRequestScrollLines=u.register(new h.EventEmitter),u._mouseMoveListener=function(e){return u._onMouseMove(e)},u._mouseUpListener=function(e){return u._onMouseUp(e)},u._coreService.onUserInput((function(){u.hasSelection&&u.clearSelection()})),u._trimListener=u._bufferService.buffer.lines.onTrim((function(e){return u._onTrim(e)})),u.register(u._bufferService.buffers.onBufferActivate((function(e){return u._onBufferActivate(e)}))),u.enable(),u._model=new l.SelectionModel(u._bufferService),u._activeSelectionMode=0,u}return n(t,e),Object.defineProperty(t.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._removeMouseDownListeners()},t.prototype.reset=function(){this.clearSelection()},t.prototype.disable=function(){this.clearSelection(),this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var i=this._bufferService.buffer,r=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";for(var n=e[1];n<=t[1];n++){var s=i.translateBufferLineToString(n,!0,e[0],t[0]);r.push(s)}}else{for(r.push(i.translateBufferLineToString(e[1],!0,e[0],e[1]===t[1]?t[0]:void 0)),n=e[1]+1;n<=t[1]-1;n++){var o=i.lines.get(n);s=i.translateBufferLineToString(n,!0),o&&o.isWrapped?r[r.length-1]+=s:r.push(s)}e[1]!==t[1]&&(o=i.lines.get(t[1]),s=i.translateBufferLineToString(t[1],!0,0,t[0]),o&&o.isWrapped?r[r.length-1]+=s:r.push(s))}return r.map((function(e){return e.replace(g," ")})).join(a.isWindows?"\r\n":"\n")},enumerable:!1,configurable:!0}),t.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},t.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame((function(){return t._refresh()}))),a.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},t.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},t.prototype.isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),i=this._model.finalSelectionStart,r=this._model.finalSelectionEnd;return!!(i&&r&&t)&&this._areCoordsInSelection(t,i,r)},t.prototype._areCoordsInSelection=function(e,t,i){return e[1]>t[1]&&e[1]<i[1]||t[1]===i[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<i[0]||t[1]<i[1]&&e[1]===i[1]&&e[0]<i[0]||t[1]<i[1]&&e[1]===t[1]&&e[0]>=t[0]},t.prototype.selectWordAtCursor=function(e){var t=this._getMouseBufferCoords(e);t&&(this._selectWordAt(t,!1),this._model.selectionEnd=void 0,this.refresh(!0))},t.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},t.prototype.selectLines=function(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()},t.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},t.prototype._getMouseBufferCoords=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t},t.prototype._getMouseEventScrollAmount=function(e){var t=f.getCoordsRelativeToElement(e,this._screenElement)[1],i=this._renderService.dimensions.canvasHeight;return t>=0&&t<=i?0:(t>i&&(t-=i),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},t.prototype.shouldForceSelection=function(e){return a.isMac?e.altKey&&this._optionsService.options.macOptionClickForcesSelection:e.shiftKey},t.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},t.prototype._addMouseDownListeners=function(){var e=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval((function(){return e._dragScroll()}),50)},t.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},t.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},t.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=void 0;var t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},t.prototype._onDoubleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=1,this._selectWordAt(t,!0))},t.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))},t.prototype.shouldColumnSelect=function(e){return e.altKey&&!(a.isMac&&this._optionsService.options.macOptionClickForcesSelection)},t.prototype._onMouseMove=function(e){if(e.stopImmediatePropagation(),this._model.selectionStart){var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var i=this._bufferService.buffer;if(this._model.selectionEnd[1]<i.lines.length){var r=i.lines.get(this._model.selectionEnd[1]);r&&0===r.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},t.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}},t.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500&&e.altKey){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var i=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(i&&void 0!==i[0]&&void 0!==i[1]){var r=p.moveToCellSequence(i[0]-1,i[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(r,!0)}}}else this.hasSelection&&this._onSelectionChange.fire()},t.prototype._onBufferActivate=function(e){var t=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim((function(e){return t._onTrim(e)}))},t.prototype._convertViewportColToCharacterIndex=function(e,t){for(var i=t[0],r=0;t[0]>=r;r++){var n=e.loadCell(r,this._workCell).getChars().length;0===this._workCell.getWidth()?i--:n>1&&t[0]!==r&&(i+=n-1)}return i},t.prototype.setSelection=function(e,t,i){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=i,this.refresh()},t.prototype._getWordAt=function(e,t,i,r){if(void 0===i&&(i=!0),void 0===r&&(r=!0),!(e[0]>=this._bufferService.cols)){var n=this._bufferService.buffer,s=n.lines.get(e[1]);if(s){var o=n.translateBufferLineToString(e[1],!1),a=this._convertViewportColToCharacterIndex(s,e),l=a,c=e[0]-a,h=0,u=0,d=0,f=0;if(" "===o.charAt(a)){for(;a>0&&" "===o.charAt(a-1);)a--;for(;l<o.length&&" "===o.charAt(l+1);)l++}else{var p=e[0],_=e[0];0===s.getWidth(p)&&(h++,p--),2===s.getWidth(_)&&(u++,_++);var m=s.getString(_).length;for(m>1&&(f+=m-1,l+=m-1);p>0&&a>0&&!this._isCharWordSeparator(s.loadCell(p-1,this._workCell));){s.loadCell(p-1,this._workCell);var g=this._workCell.getChars().length;0===this._workCell.getWidth()?(h++,p--):g>1&&(d+=g-1,a-=g-1),a--,p--}for(;_<s.length&&l+1<o.length&&!this._isCharWordSeparator(s.loadCell(_+1,this._workCell));){s.loadCell(_+1,this._workCell);var v=this._workCell.getChars().length;2===this._workCell.getWidth()?(u++,_++):v>1&&(f+=v-1,l+=v-1),l++,_++}}l++;var y=a+c-h+d,b=Math.min(this._bufferService.cols,l-a+h+u-d-f);if(t||""!==o.slice(a,l).trim()){if(i&&0===y&&32!==s.getCodePoint(0)){var w=n.lines.get(e[1]-1);if(w&&s.isWrapped&&32!==w.getCodePoint(this._bufferService.cols-1)){var C=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(C){var S=this._bufferService.cols-C.start;y-=S,b+=S}}}if(r&&y+b===this._bufferService.cols&&32!==s.getCodePoint(this._bufferService.cols-1)){var k=n.lines.get(e[1]+1);if(k&&k.isWrapped&&32!==k.getCodePoint(0)){var x=this._getWordAt([0,e[1]+1],!1,!1,!0);x&&(b+=x.length)}}return{start:y,length:b}}}}},t.prototype._selectWordAt=function(e,t){var i=this._getWordAt(e,t);if(i){for(;i.start<0;)i.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[i.start,e[1]],this._model.selectionStartLength=i.length}},t.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);if(t){for(var i=e[1];t.start<0;)t.start+=this._bufferService.cols,i--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,i++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,i]}},t.prototype._isCharWordSeparator=function(e){return 0!==e.getWidth()&&this._optionsService.options.wordSeparator.indexOf(e.getChars())>=0},t.prototype._selectLineAt=function(e){var t=this._bufferService.buffer.getWrappedRangeForLine(e);this._model.selectionStart=[0,t.first],this._model.selectionEnd=[this._bufferService.cols,t.last],this._model.selectionStartLength=0},s([o(2,d.IBufferService),o(3,d.ICoreService),o(4,u.IMouseService),o(5,d.IOptionsService),o(6,u.IRenderService)],t)}(_.Disposable);t.SelectionService=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0;var r=function(){function e(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}return e.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();t.SelectionModel=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;var r=i(12);function n(e,t,i,r){var n=e-s(i,e),a=t-s(i,t);return c(Math.abs(n-a)-function(e,t,i){for(var r=0,n=e-s(i,e),a=t-s(i,t),l=0;l<Math.abs(n-a);l++){var c="A"===o(e,t)?-1:1,h=i.buffer.lines.get(n+c*l);h&&h.isWrapped&&r++}return r}(e,t,i),l(o(e,t),r))}function s(e,t){for(var i=0,r=e.buffer.lines.get(t),n=r&&r.isWrapped;n&&t>=0&&t<e.rows;)i++,n=(r=e.buffer.lines.get(--t))&&r.isWrapped;return i}function o(e,t){return e>t?"A":"B"}function a(e,t,i,r,n,s){for(var o=e,a=t,l="";o!==i||a!==r;)o+=n?1:-1,n&&o>s.cols-1?(l+=s.buffer.translateBufferLineToString(a,!1,e,o),o=0,e=0,a++):!n&&o<0&&(l+=s.buffer.translateBufferLineToString(a,!1,0,e+1),e=o=s.cols-1,a--);return l+s.buffer.translateBufferLineToString(a,!1,e,o)}function l(e,t){return r.C0.ESC+(t?"O":"[")+e}function c(e,t){e=Math.floor(e);for(var i="",r=0;r<e;r++)i+=t;return i}t.moveToCellSequence=function(e,t,i,r){var o,h=i.buffer.x,u=i.buffer.y;if(!i.buffer.hasScrollback)return function(e,t,i,r,o,h){return 0===n(t,r,o,h).length?"":c(a(e,t,e,t-s(o,t),!1,o).length,l("D",h))}(h,u,0,t,i,r)+n(u,t,i,r)+function(e,t,i,r,o,h){var u;u=n(t,r,o,h).length>0?r-s(o,r):t;var d=r,f=function(e,t,i,r,o,a){var l;return l=n(i,r,o,a).length>0?r-s(o,r):t,e<i&&l<=r||e>=i&&l<r?"C":"D"}(e,t,i,r,o,h);return c(a(e,u,i,d,"C"===f,o).length,l(f,h))}(h,u,e,t,i,r);if(u===t)return o=h>e?"D":"C",c(Math.abs(h-e),l(o,r));o=u>t?"D":"C";var d=Math.abs(u-t);return c(function(e,t){return t.cols-e}(u>t?e:h,i)+(d-1)*i.cols+1+((u>t?h:e)-1),l(o,r))}},function(e,t,i){"use strict";var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SoundService=void 0;var s=i(1),o=function(){function e(e){this._optionsService=e}return Object.defineProperty(e,"audioContext",{get:function(){if(!e._audioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;e._audioContext=new t}return e._audioContext},enumerable:!1,configurable:!0}),e.prototype.playBellSound=function(){var t=e.audioContext;if(t){var i=t.createBufferSource();t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.options.bellSound)),(function(e){i.buffer=e,i.connect(t.destination),i.start(0)}))}},e.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),i=t.length,r=new Uint8Array(i),n=0;n<i;n++)r[n]=t.charCodeAt(n);return r.buffer},e.prototype._removeMimeType=function(e){return e.split(",")[1]},e=r([n(0,s.IOptionsService)],e)}();t.SoundService=o},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZoneManager=void 0;var a=i(2),l=i(7),c=i(5),h=i(1),u=function(e){function t(t,i,r,n,s,o){var a=e.call(this)||this;return a._element=t,a._screenElement=i,a._bufferService=r,a._mouseService=n,a._selectionService=s,a._optionsService=o,a._zones=[],a._areZonesActive=!1,a._lastHoverCoords=[void 0,void 0],a._initialSelectionLength=0,a.register(l.addDisposableDomListener(a._element,"mousedown",(function(e){return a._onMouseDown(e)}))),a._mouseMoveListener=function(e){return a._onMouseMove(e)},a._mouseLeaveListener=function(e){return a._onMouseLeave(e)},a._clickListener=function(e){return a._onClick(e)},a}return n(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(e,t){if(0!==this._zones.length){e&&t||(e=0,t=this._bufferService.rows-1);for(var i=0;i<this._zones.length;i++){var r=this._zones[i];(r.y1>e&&r.y1<=t+1||r.y2>e&&r.y2<=t+1||r.y1<e&&r.y2>t+1)&&(this._currentZone&&this._currentZone===r&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(i--,1))}0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var t=this,i=this._findZoneEventAt(e);i!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),i&&(this._currentZone=i,i.hoverCallback&&i.hoverCallback(e),this._tooltipTimeout=window.setTimeout((function(){return t._onTooltip(e)}),this._optionsService.options.linkTooltipHoverDuration)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);t&&t.tooltipCallback&&t.tooltipCallback(e)},t.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var t=this._findZoneEventAt(e);(null==t?void 0:t.willLinkActivate(e))&&(e.preventDefault(),e.stopImmediatePropagation())}},t.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},t.prototype._onClick=function(e){var t=this._findZoneEventAt(e),i=this._getSelectionLength();t&&i===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},t.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var i=t[0],r=t[1],n=0;n<this._zones.length;n++){var s=this._zones[n];if(s.y1===s.y2){if(r===s.y1&&i>=s.x1&&i<s.x2)return s}else if(r===s.y1&&i>=s.x1||r===s.y2&&i<s.x2||r>s.y1&&r<s.y2)return s}},s([o(2,h.IBufferService),o(3,c.IMouseService),o(4,c.ISelectionService),o(5,h.IOptionsService)],t)}(a.Disposable);t.MouseZoneManager=u},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;var s=i(18),o=i(11),a=i(31),l=i(7),c=i(2),h=i(32),u=i(17),d=function(e){function t(t,i){var r=e.call(this)||this;r._terminal=t,r._renderService=i,r._liveRegionLineCount=0,r._charsToConsume=[],r._charsToAnnounce="",r._accessibilityTreeRoot=document.createElement("div"),r._accessibilityTreeRoot.classList.add("xterm-accessibility"),r._rowContainer=document.createElement("div"),r._rowContainer.classList.add("xterm-accessibility-tree"),r._rowContainer.setAttribute("role","document"),r._rowElements=[];for(var n=0;n<r._terminal.rows;n++)r._rowElements[n]=r._createAccessibilityTreeNode(),r._rowContainer.appendChild(r._rowElements[n]);if(r._topBoundaryFocusListener=function(e){return r._onBoundaryFocus(e,0)},r._bottomBoundaryFocusListener=function(e){return r._onBoundaryFocus(e,1)},r._rowElements[0].addEventListener("focus",r._topBoundaryFocusListener),r._rowElements[r._rowElements.length-1].addEventListener("focus",r._bottomBoundaryFocusListener),r._refreshRowsDimensions(),r._accessibilityTreeRoot.appendChild(r._rowContainer),r._renderRowsDebouncer=new a.RenderDebouncer(r._renderRows.bind(r)),r._refreshRows(),r._liveRegion=document.createElement("div"),r._liveRegion.classList.add("live-region"),r._liveRegion.setAttribute("aria-live","assertive"),r._accessibilityTreeRoot.appendChild(r._liveRegion),!r._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return r._terminal.element.insertAdjacentElement("afterbegin",r._accessibilityTreeRoot),r.register(r._renderRowsDebouncer),r.register(r._terminal.onResize((function(e){return r._onResize(e.rows)}))),r.register(r._terminal.onRender((function(e){return r._refreshRows(e.start,e.end)}))),r.register(r._terminal.onScroll((function(){return r._refreshRows()}))),r.register(r._terminal.onA11yChar((function(e){return r._onChar(e)}))),r.register(r._terminal.onLineFeed((function(){return r._onChar("\n")}))),r.register(r._terminal.onA11yTab((function(e){return r._onTab(e)}))),r.register(r._terminal.onKey((function(e){return r._onKey(e.key)}))),r.register(r._terminal.onBlur((function(){return r._clearLiveRegion()}))),r.register(r._renderService.onDimensionsChange((function(){return r._refreshRowsDimensions()}))),r._screenDprMonitor=new h.ScreenDprMonitor,r.register(r._screenDprMonitor),r._screenDprMonitor.setListener((function(){return r._refreshRowsDimensions()})),r.register(l.addDisposableDomListener(window,"resize",(function(){return r._refreshRowsDimensions()}))),r}return n(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),u.removeElementFromParent(this._accessibilityTreeRoot),this._rowElements.length=0},t.prototype._onBoundaryFocus=function(e,t){var i=e.target,r=this._rowElements[0===t?1:this._rowElements.length-2];if(i.getAttribute("aria-posinset")!==(0===t?"1":""+this._terminal.buffer.lines.length)&&e.relatedTarget===r){var n,s;if(0===t?(n=i,s=this._rowElements.pop(),this._rowContainer.removeChild(s)):(n=this._rowElements.shift(),s=i,this._rowContainer.removeChild(n)),n.removeEventListener("focus",this._topBoundaryFocusListener),s.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){var o=this._createAccessibilityTreeNode();this._rowElements.unshift(o),this._rowContainer.insertAdjacentElement("afterbegin",o)}else o=this._createAccessibilityTreeNode(),this._rowElements.push(o),this._rowContainer.appendChild(o);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},t.prototype._onResize=function(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},t.prototype._createAccessibilityTreeNode=function(){var e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e},t.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(" ")},t.prototype._onChar=function(e){var t=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=s.tooMuchOutput)),o.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)}),0))},t.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,o.isMac&&u.removeElementFromParent(this._liveRegion)},t.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},t.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t,this._terminal.rows)},t.prototype._renderRows=function(e,t){for(var i=this._terminal.buffer,r=i.lines.length.toString(),n=e;n<=t;n++){var s=i.translateBufferLineToString(i.ydisp+n,!0),o=(i.ydisp+n+1).toString(),a=this._rowElements[n];a&&(0===s.length?a.innerHTML="&nbsp;":a.textContent=s,a.setAttribute("aria-posinset",o),a.setAttribute("aria-setsize",r))}this._announceCharacters()},t.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}},t.prototype._refreshRowDimensions=function(e){e.style.height=this._renderService.dimensions.actualCellHeight+"px"},t.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},t}(c.Disposable);t.AccessibilityManager=d},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;var a=i(58),l=i(9),c=i(2),h=i(5),u=i(1),d=i(0),f=i(10),p=i(17),_=1,m=function(e){function t(t,i,r,n,s,o,l,c,h){var u=e.call(this)||this;return u._colors=t,u._element=i,u._screenElement=r,u._viewportElement=n,u._linkifier=s,u._linkifier2=o,u._charSizeService=l,u._optionsService=c,u._bufferService=h,u._terminalClass=_++,u._rowElements=[],u._rowContainer=document.createElement("div"),u._rowContainer.classList.add("xterm-rows"),u._rowContainer.style.lineHeight="normal",u._rowContainer.setAttribute("aria-hidden","true"),u._refreshRowElements(u._bufferService.cols,u._bufferService.rows),u._selectionContainer=document.createElement("div"),u._selectionContainer.classList.add("xterm-selection"),u._selectionContainer.setAttribute("aria-hidden","true"),u.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},u._updateDimensions(),u._injectCss(),u._rowFactory=new a.DomRendererRowFactory(document,u._optionsService,u._colors),u._element.classList.add("xterm-dom-renderer-owner-"+u._terminalClass),u._screenElement.appendChild(u._rowContainer),u._screenElement.appendChild(u._selectionContainer),u._linkifier.onShowLinkUnderline((function(e){return u._onLinkHover(e)})),u._linkifier.onHideLinkUnderline((function(e){return u._onLinkLeave(e)})),u._linkifier2.onShowLinkUnderline((function(e){return u._onLinkHover(e)})),u._linkifier2.onHideLinkUnderline((function(e){return u._onLinkLeave(e)})),u}return n(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return(new d.EventEmitter).event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._element.classList.remove("xterm-dom-renderer-owner-"+this._terminalClass),p.removeElementFromParent(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),e.prototype.dispose.call(this)},t.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var e=0,t=this._rowElements;e<t.length;e++){var i=t[e];i.style.width=this.dimensions.canvasWidth+"px",i.style.height=this.dimensions.actualCellHeight+"px",i.style.lineHeight=this.dimensions.actualCellHeight+"px",i.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.innerHTML=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}",this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.setColors=function(e){this._colors=e,this._injectCss()},t.prototype._injectCss=function(){var e=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var t=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.options.fontFamily+"; font-size: "+this._optionsService.options.fontSize+"px;}";t+=this._terminalSelector+" span:not(."+a.BOLD_CLASS+") { font-weight: "+this._optionsService.options.fontWeight+";}"+this._terminalSelector+" span."+a.BOLD_CLASS+" { font-weight: "+this._optionsService.options.fontWeightBold+";}"+this._terminalSelector+" span."+a.ITALIC_CLASS+" { font-style: italic;}",t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",t+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",t+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_BLINK_CLASS+":not(."+a.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_BLINK_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.options.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",t+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach((function(i,r){t+=e._terminalSelector+" .xterm-fg-"+r+" { color: "+i.css+"; }"+e._terminalSelector+" .xterm-bg-"+r+" { background-color: "+i.css+"; }"})),t+=this._terminalSelector+" .xterm-fg-"+l.INVERTED_DEFAULT_COLOR+" { color: "+f.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" .xterm-bg-"+l.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.innerHTML=t},t.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},t.prototype._refreshRowElements=function(e,t){for(var i=this._rowElements.length;i<=t;i++){var r=document.createElement("div");this._rowContainer.appendChild(r),this._rowElements.push(r)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())},t.prototype.onResize=function(e,t){this._refreshRowElements(e,t),this._updateDimensions()},t.prototype.onCharSizeChanged=function(){this._updateDimensions()},t.prototype.onBlur=function(){this._rowContainer.classList.remove("xterm-focus")},t.prototype.onFocus=function(){this._rowContainer.classList.add("xterm-focus")},t.prototype.onSelectionChanged=function(e,t,i){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(e&&t){var r=e[1]-this._bufferService.buffer.ydisp,n=t[1]-this._bufferService.buffer.ydisp,s=Math.max(r,0),o=Math.min(n,this._bufferService.rows-1);if(!(s>=this._bufferService.rows||o<0)){var a=document.createDocumentFragment();i?a.appendChild(this._createSelectionElement(s,e[0],t[0],o-s+1)):(a.appendChild(this._createSelectionElement(s,r===s?e[0]:0,s===n?t[0]:this._bufferService.cols)),a.appendChild(this._createSelectionElement(s+1,0,this._bufferService.cols,o-s-1)),s!==o&&a.appendChild(this._createSelectionElement(o,0,n===o?t[0]:this._bufferService.cols))),this._selectionContainer.appendChild(a)}}},t.prototype._createSelectionElement=function(e,t,i,r){void 0===r&&(r=1);var n=document.createElement("div");return n.style.height=r*this.dimensions.actualCellHeight+"px",n.style.top=e*this.dimensions.actualCellHeight+"px",n.style.left=t*this.dimensions.actualCellWidth+"px",n.style.width=this.dimensions.actualCellWidth*(i-t)+"px",n},t.prototype.onCursorMove=function(){},t.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},t.prototype.clear=function(){for(var e=0,t=this._rowElements;e<t.length;e++)t[e].innerHTML=""},t.prototype.renderRows=function(e,t){for(var i=this._bufferService.buffer.ybase+this._bufferService.buffer.y,r=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),n=this._optionsService.options.cursorBlink,s=e;s<=t;s++){var o=this._rowElements[s];o.innerHTML="";var a=s+this._bufferService.buffer.ydisp,l=this._bufferService.buffer.lines.get(a);o.appendChild(this._rowFactory.createRow(l,a===i,this._optionsService.options.cursorStyle,r,n,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(t.prototype,"_terminalSelector",{get:function(){return".xterm-dom-renderer-owner-"+this._terminalClass},enumerable:!1,configurable:!0}),t.prototype.registerCharacterJoiner=function(e){return-1},t.prototype.deregisterCharacterJoiner=function(e){return!1},t.prototype._onLinkHover=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)},t.prototype._onLinkLeave=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)},t.prototype._setCellUnderline=function(e,t,i,r,n,s){for(;e!==t||i!==r;){var o=this._rowElements[i];if(!o)return;var a=o.children[e];a&&(a.style.textDecoration=s?"underline":"none"),++e>=n&&(e=0,i++)}},s([o(6,h.ICharSizeService),o(7,u.IOptionsService),o(8,u.IBufferService)],t)}(c.Disposable);t.DomRenderer=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=t.CURSOR_STYLE_UNDERLINE_CLASS=t.CURSOR_STYLE_BAR_CLASS=t.CURSOR_STYLE_BLOCK_CLASS=t.CURSOR_BLINK_CLASS=t.CURSOR_CLASS=t.UNDERLINE_CLASS=t.ITALIC_CLASS=t.DIM_CLASS=t.BOLD_CLASS=void 0;var r=i(9),n=i(3),s=i(4),o=i(10);t.BOLD_CLASS="xterm-bold",t.DIM_CLASS="xterm-dim",t.ITALIC_CLASS="xterm-italic",t.UNDERLINE_CLASS="xterm-underline",t.CURSOR_CLASS="xterm-cursor",t.CURSOR_BLINK_CLASS="xterm-cursor-blink",t.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",t.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",t.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var a=function(){function e(e,t,i){this._document=e,this._optionsService=t,this._colors=i,this._workCell=new s.CellData}return e.prototype.setColors=function(e){this._colors=e},e.prototype.createRow=function(e,i,s,a,c,h,u){for(var d=this._document.createDocumentFragment(),f=0,p=Math.min(e.length,u)-1;p>=0;p--)if(e.loadCell(p,this._workCell).getCode()!==n.NULL_CELL_CODE||i&&p===a){f=p+1;break}for(p=0;p<f;p++){e.loadCell(p,this._workCell);var _=this._workCell.getWidth();if(0!==_){var m=this._document.createElement("span");if(_>1&&(m.style.width=h*_+"px"),i&&p===a)switch(m.classList.add(t.CURSOR_CLASS),c&&m.classList.add(t.CURSOR_BLINK_CLASS),s){case"bar":m.classList.add(t.CURSOR_STYLE_BAR_CLASS);break;case"underline":m.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);break;default:m.classList.add(t.CURSOR_STYLE_BLOCK_CLASS)}this._workCell.isBold()&&m.classList.add(t.BOLD_CLASS),this._workCell.isItalic()&&m.classList.add(t.ITALIC_CLASS),this._workCell.isDim()&&m.classList.add(t.DIM_CLASS),this._workCell.isUnderline()&&m.classList.add(t.UNDERLINE_CLASS),m.textContent=this._workCell.isInvisible()?n.WHITESPACE_CELL_CHAR:this._workCell.getChars()||n.WHITESPACE_CELL_CHAR;var g=this._workCell.getFgColor(),v=this._workCell.getFgColorMode(),y=this._workCell.getBgColor(),b=this._workCell.getBgColorMode(),w=!!this._workCell.isInverse();if(w){var C=g;g=y,y=C;var S=v;v=b,b=S}switch(v){case 16777216:case 33554432:this._workCell.isBold()&&g<8&&this._optionsService.options.drawBoldTextInBrightColors&&(g+=8),this._applyMinimumContrast(m,this._colors.background,this._colors.ansi[g])||m.classList.add("xterm-fg-"+g);break;case 50331648:var k=o.rgba.toColor(g>>16&255,g>>8&255,255&g);this._applyMinimumContrast(m,this._colors.background,k)||this._addStyle(m,"color:#"+l(g.toString(16),"0",6));break;case 0:default:this._applyMinimumContrast(m,this._colors.background,this._colors.foreground)||w&&m.classList.add("xterm-fg-"+r.INVERTED_DEFAULT_COLOR)}switch(b){case 16777216:case 33554432:m.classList.add("xterm-bg-"+y);break;case 50331648:this._addStyle(m,"background-color:#"+l(y.toString(16),"0",6));break;case 0:default:w&&m.classList.add("xterm-bg-"+r.INVERTED_DEFAULT_COLOR)}d.appendChild(m)}}return d},e.prototype._applyMinimumContrast=function(e,t,i){if(1===this._optionsService.options.minimumContrastRatio)return!1;var r=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return void 0===r&&(r=o.color.ensureContrastRatio(t,i,this._optionsService.options.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,null!=r?r:null)),!!r&&(this._addStyle(e,"color:"+r.css),!0)},e.prototype._addStyle=function(e,t){e.setAttribute("style",""+(e.getAttribute("style")||"")+t+";")},e}();function l(e,t,i){for(;e.length<i;)e=t+e;return e}t.DomRendererRowFactory=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;var r=i(12),n={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,i,s){var o={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?o.key=t?r.C0.ESC+"OA":r.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?o.key=t?r.C0.ESC+"OD":r.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?o.key=t?r.C0.ESC+"OC":r.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(o.key=t?r.C0.ESC+"OB":r.C0.ESC+"[B");break;case 8:if(e.shiftKey){o.key=r.C0.BS;break}if(e.altKey){o.key=r.C0.ESC+r.C0.DEL;break}o.key=r.C0.DEL;break;case 9:if(e.shiftKey){o.key=r.C0.ESC+"[Z";break}o.key=r.C0.HT,o.cancel=!0;break;case 13:o.key=e.altKey?r.C0.ESC+r.C0.CR:r.C0.CR,o.cancel=!0;break;case 27:o.key=r.C0.ESC,e.altKey&&(o.key=r.C0.ESC+r.C0.ESC),o.cancel=!0;break;case 37:if(e.metaKey)break;a?(o.key=r.C0.ESC+"[1;"+(a+1)+"D",o.key===r.C0.ESC+"[1;3D"&&(o.key=r.C0.ESC+(i?"b":"[1;5D"))):o.key=t?r.C0.ESC+"OD":r.C0.ESC+"[D";break;case 39:if(e.metaKey)break;a?(o.key=r.C0.ESC+"[1;"+(a+1)+"C",o.key===r.C0.ESC+"[1;3C"&&(o.key=r.C0.ESC+(i?"f":"[1;5C"))):o.key=t?r.C0.ESC+"OC":r.C0.ESC+"[C";break;case 38:if(e.metaKey)break;a?(o.key=r.C0.ESC+"[1;"+(a+1)+"A",i||o.key!==r.C0.ESC+"[1;3A"||(o.key=r.C0.ESC+"[1;5A")):o.key=t?r.C0.ESC+"OA":r.C0.ESC+"[A";break;case 40:if(e.metaKey)break;a?(o.key=r.C0.ESC+"[1;"+(a+1)+"B",i||o.key!==r.C0.ESC+"[1;3B"||(o.key=r.C0.ESC+"[1;5B")):o.key=t?r.C0.ESC+"OB":r.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(o.key=r.C0.ESC+"[2~");break;case 46:o.key=a?r.C0.ESC+"[3;"+(a+1)+"~":r.C0.ESC+"[3~";break;case 36:o.key=a?r.C0.ESC+"[1;"+(a+1)+"H":t?r.C0.ESC+"OH":r.C0.ESC+"[H";break;case 35:o.key=a?r.C0.ESC+"[1;"+(a+1)+"F":t?r.C0.ESC+"OF":r.C0.ESC+"[F";break;case 33:e.shiftKey?o.type=2:o.key=r.C0.ESC+"[5~";break;case 34:e.shiftKey?o.type=3:o.key=r.C0.ESC+"[6~";break;case 112:o.key=a?r.C0.ESC+"[1;"+(a+1)+"P":r.C0.ESC+"OP";break;case 113:o.key=a?r.C0.ESC+"[1;"+(a+1)+"Q":r.C0.ESC+"OQ";break;case 114:o.key=a?r.C0.ESC+"[1;"+(a+1)+"R":r.C0.ESC+"OR";break;case 115:o.key=a?r.C0.ESC+"[1;"+(a+1)+"S":r.C0.ESC+"OS";break;case 116:o.key=a?r.C0.ESC+"[15;"+(a+1)+"~":r.C0.ESC+"[15~";break;case 117:o.key=a?r.C0.ESC+"[17;"+(a+1)+"~":r.C0.ESC+"[17~";break;case 118:o.key=a?r.C0.ESC+"[18;"+(a+1)+"~":r.C0.ESC+"[18~";break;case 119:o.key=a?r.C0.ESC+"[19;"+(a+1)+"~":r.C0.ESC+"[19~";break;case 120:o.key=a?r.C0.ESC+"[20;"+(a+1)+"~":r.C0.ESC+"[20~";break;case 121:o.key=a?r.C0.ESC+"[21;"+(a+1)+"~":r.C0.ESC+"[21~";break;case 122:o.key=a?r.C0.ESC+"[23;"+(a+1)+"~":r.C0.ESC+"[23~";break;case 123:o.key=a?r.C0.ESC+"[24;"+(a+1)+"~":r.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(i&&!s||!e.altKey||e.metaKey)i&&!e.altKey&&!e.ctrlKey&&e.metaKey?65===e.keyCode&&(o.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?o.key=e.key:e.key&&e.ctrlKey&&"_"===e.key&&(o.key=r.C0.US);else{var l=n[e.keyCode],c=l&&l[e.shiftKey?1:0];c?o.key=r.C0.ESC+c:e.keyCode>=65&&e.keyCode<=90&&(o.key=r.C0.ESC+String.fromCharCode(e.ctrlKey?e.keyCode-64:e.keyCode+32))}else e.keyCode>=65&&e.keyCode<=90?o.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?o.key=r.C0.NUL:e.keyCode>=51&&e.keyCode<=55?o.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?o.key=r.C0.DEL:219===e.keyCode?o.key=r.C0.ESC:220===e.keyCode?o.key=r.C0.FS:221===e.keyCode&&(o.key=r.C0.GS)}return o}},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;var a=i(31),l=i(0),c=i(2),h=i(32),u=i(7),d=i(1),f=i(5),p=function(e){function t(t,i,r,n,s,o){var c=e.call(this)||this;if(c._renderer=t,c._rowCount=i,c._isPaused=!1,c._needsFullRefresh=!1,c._isNextRenderRedrawOnly=!0,c._needsSelectionRefresh=!1,c._canvasWidth=0,c._canvasHeight=0,c._selectionState={start:void 0,end:void 0,columnSelectMode:!1},c._onDimensionsChange=new l.EventEmitter,c._onRender=new l.EventEmitter,c._onRefreshRequest=new l.EventEmitter,c.register({dispose:function(){return c._renderer.dispose()}}),c._renderDebouncer=new a.RenderDebouncer((function(e,t){return c._renderRows(e,t)})),c.register(c._renderDebouncer),c._screenDprMonitor=new h.ScreenDprMonitor,c._screenDprMonitor.setListener((function(){return c.onDevicePixelRatioChange()})),c.register(c._screenDprMonitor),c.register(o.onResize((function(e){return c._fullRefresh()}))),c.register(n.onOptionChange((function(){return c._renderer.onOptionsChanged()}))),c.register(s.onCharSizeChange((function(){return c.onCharSizeChanged()}))),c._renderer.onRequestRedraw((function(e){return c.refreshRows(e.start,e.end,!0)})),c.register(u.addDisposableDomListener(window,"resize",(function(){return c.onDevicePixelRatioChange()}))),"IntersectionObserver"in window){var d=new IntersectionObserver((function(e){return c._onIntersectionChange(e[e.length-1])}),{threshold:0});d.observe(r),c.register({dispose:function(){return d.disconnect()}})}return c}return n(t,e),Object.defineProperty(t.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),t.prototype._onIntersectionChange=function(e){this._isPaused=void 0===e.isIntersecting?0===e.intersectionRatio:!e.isIntersecting,!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},t.prototype.refreshRows=function(e,t,i){void 0===i&&(i=!1),this._isPaused?this._needsFullRefresh=!0:(i||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))},t.prototype._renderRows=function(e,t){this._renderer.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0},t.prototype.resize=function(e,t){this._rowCount=t,this._fireOnCanvasResize()},t.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},t.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.setRenderer=function(e){var t=this;this._renderer.dispose(),this._renderer=e,this._renderer.onRequestRedraw((function(e){return t.refreshRows(e.start,e.end,!0)})),this._needsSelectionRefresh=!0,this._fullRefresh()},t.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},t.prototype.setColors=function(e){this._renderer.setColors(e),this._fullRefresh()},t.prototype.onDevicePixelRatioChange=function(){this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},t.prototype.onResize=function(e,t){this._renderer.onResize(e,t),this._fullRefresh()},t.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},t.prototype.onBlur=function(){this._renderer.onBlur()},t.prototype.onFocus=function(){this._renderer.onFocus()},t.prototype.onSelectionChanged=function(e,t,i){this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=i,this._renderer.onSelectionChanged(e,t,i)},t.prototype.onCursorMove=function(){this._renderer.onCursorMove()},t.prototype.clear=function(){this._renderer.clear()},t.prototype.registerCharacterJoiner=function(e){return this._renderer.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._renderer.deregisterCharacterJoiner(e)},s([o(3,d.IOptionsService),o(4,f.ICharSizeService),o(5,d.IBufferService)],t)}(c.Disposable);t.RenderService=p},function(e,t,i){"use strict";var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;var s=i(1),o=i(0),a=function(){function e(e,t,i){this._optionsService=i,this.width=0,this.height=0,this._onCharSizeChange=new o.EventEmitter,this._measureStrategy=new l(e,t,this._optionsService)}return Object.defineProperty(e.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),e.prototype.measure=function(){var e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())},r([n(2,s.IOptionsService)],e)}();t.CharSizeService=a;var l=function(){function e(e,t,i){this._document=e,this._parentElement=t,this._optionsService=i,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return e.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.options.fontFamily,this._measureElement.style.fontSize=this._optionsService.options.fontSize+"px";var e=this._measureElement.getBoundingClientRect();return 0!==e.width&&0!==e.height&&(this._result.width=e.width,this._result.height=Math.ceil(e.height)),this._result},e}()},function(e,t,i){"use strict";var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;var s=i(5),o=i(30),a=function(){function e(e,t){this._renderService=e,this._charSizeService=t}return e.prototype.getCoords=function(e,t,i,r,n){return o.getCoords(e,t,i,r,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,n)},e.prototype.getRawByteCoords=function(e,t,i,r){var n=this.getCoords(e,t,i,r);return o.getRawByteCoords(n)},r([n(0,s.IRenderService),n(1,s.ICharSizeService)],e)}();t.MouseService=a},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;var a=i(1),l=i(0),c=i(2),h=i(7),u=function(e){function t(t){var i=e.call(this)||this;return i._bufferService=t,i._linkProviders=[],i._linkCacheDisposables=[],i._isMouseOut=!0,i._activeLine=-1,i._onShowLinkUnderline=i.register(new l.EventEmitter),i._onHideLinkUnderline=i.register(new l.EventEmitter),i.register(c.getDisposeArrayDisposable(i._linkCacheDisposables)),i}return n(t,e),Object.defineProperty(t.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),t.prototype.registerLinkProvider=function(e){var t=this;return this._linkProviders.push(e),{dispose:function(){var i=t._linkProviders.indexOf(e);-1!==i&&t._linkProviders.splice(i,1)}}},t.prototype.attachToDom=function(e,t,i){var r=this;this._element=e,this._mouseService=t,this._renderService=i,this.register(h.addDisposableDomListener(this._element,"mouseleave",(function(){r._isMouseOut=!0,r._clearCurrentLink()}))),this.register(h.addDisposableDomListener(this._element,"mousemove",this._onMouseMove.bind(this))),this.register(h.addDisposableDomListener(this._element,"click",this._onClick.bind(this)))},t.prototype._onMouseMove=function(e){if(this._lastMouseEvent=e,this._element&&this._mouseService){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(t){this._isMouseOut=!1;for(var i=e.composedPath(),r=0;r<i.length;r++){var n=i[r];if(n.classList.contains("xterm"))break;if(n.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._onHover(t),this._lastBufferCell=t)}}},t.prototype._onHover=function(e){if(this._activeLine!==e.y)return this._clearCurrentLink(),void this._askForLink(e,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))},t.prototype._askForLink=function(e,t){var i,r=this;this._activeProviderReplies&&t||(null===(i=this._activeProviderReplies)||void 0===i||i.forEach((function(e){null==e||e.forEach((function(e){e.link.dispose&&e.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=e.y);var n=!1;this._linkProviders.forEach((function(i,s){var o;t?(null===(o=r._activeProviderReplies)||void 0===o?void 0:o.get(s))&&(n=r._checkLinkProviderResult(s,e,n)):i.provideLinks(e.y,(function(t){var i,o;if(!r._isMouseOut){var a=null==t?void 0:t.map((function(e){return{link:e}}));null===(i=r._activeProviderReplies)||void 0===i||i.set(s,a),n=r._checkLinkProviderResult(s,e,n),(null===(o=r._activeProviderReplies)||void 0===o?void 0:o.size)===r._linkProviders.length&&r._removeIntersectingLinks(e.y,r._activeProviderReplies)}}))}))},t.prototype._removeIntersectingLinks=function(e,t){for(var i=new Set,r=0;r<t.size;r++){var n=t.get(r);if(n)for(var s=0;s<n.length;s++)for(var o=n[s],a=o.link.range.end.y>e?this._bufferService.cols:o.link.range.end.x,l=o.link.range.start.y<e?0:o.link.range.start.x;l<=a;l++){if(i.has(l)){n.splice(s--,1);break}i.add(l)}}},t.prototype._checkLinkProviderResult=function(e,t,i){var r,n=this;if(!this._activeProviderReplies)return i;for(var s=this._activeProviderReplies.get(e),o=!1,a=0;a<e;a++)this._activeProviderReplies.has(a)&&!this._activeProviderReplies.get(a)||(o=!0);if(!o&&s){var l=s.find((function(e){return n._linkAtPosition(e.link,t)}));l&&(i=!0,this._handleNewLink(l))}if(this._activeProviderReplies.size===this._linkProviders.length&&!i)for(a=0;a<this._activeProviderReplies.size;a++){var c=null===(r=this._activeProviderReplies.get(a))||void 0===r?void 0:r.find((function(e){return n._linkAtPosition(e.link,t)}));if(c){i=!0,this._handleNewLink(c);break}}return i},t.prototype._onClick=function(e){if(this._element&&this._mouseService&&this._currentLink){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}},t.prototype._clearCurrentLink=function(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,c.disposeArray(this._linkCacheDisposables))},t.prototype._handleNewLink=function(e){var t=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var i=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);i&&this._linkAtPosition(e.link,i)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:void 0===e.link.decorations||e.link.decorations.underline,pointerCursor:void 0===e.link.decorations||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:function(){var e,i;return null===(i=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===i?void 0:i.decorations.pointerCursor},set:function(e){var i,r;(null===(i=t._currentLink)||void 0===i?void 0:i.state)&&t._currentLink.state.decorations.pointerCursor!==e&&(t._currentLink.state.decorations.pointerCursor=e,t._currentLink.state.isHovered&&(null===(r=t._element)||void 0===r||r.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:function(){var e,i;return null===(i=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===i?void 0:i.decorations.underline},set:function(i){var r,n,s;(null===(r=t._currentLink)||void 0===r?void 0:r.state)&&(null===(s=null===(n=t._currentLink)||void 0===n?void 0:n.state)||void 0===s?void 0:s.decorations.underline)!==i&&(t._currentLink.state.decorations.underline=i,t._currentLink.state.isHovered&&t._fireUnderlineEvent(e.link,i))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange((function(e){t._clearCurrentLink(0===e.start?0:e.start+1+t._bufferService.buffer.ydisp,e.end+1+t._bufferService.buffer.ydisp)}))))}},t.prototype._linkHover=function(e,t,i){var r;(null===(r=this._currentLink)||void 0===r?void 0:r.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(i,t.text)},t.prototype._fireUnderlineEvent=function(e,t){var i=e.range,r=this._bufferService.buffer.ydisp,n=this._createLinkUnderlineEvent(i.start.x-1,i.start.y-r-1,i.end.x,i.end.y-r-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(n)},t.prototype._linkLeave=function(e,t,i){var r;(null===(r=this._currentLink)||void 0===r?void 0:r.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(i,t.text)},t.prototype._linkAtPosition=function(e,t){var i=e.range.start.y<t.y,r=e.range.end.y>t.y;return(e.range.start.y===e.range.end.y&&e.range.start.x<=t.x&&e.range.end.x>=t.x||i&&e.range.end.x>=t.x||r&&e.range.start.x<=t.x||i&&r)&&e.range.start.y<=t.y&&e.range.end.y>=t.y},t.prototype._positionFromMouseEvent=function(e,t,i){var r=i.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(r)return{x:r[0],y:r[1]+this._bufferService.buffer.ydisp}},t.prototype._createLinkUnderlineEvent=function(e,t,i,r,n){return{x1:e,y1:t,x2:i,y2:r,cols:this._bufferService.cols,fg:n}},s([o(0,a.IBufferService)],t)}(c.Disposable);t.Linkifier2=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0;var r=function(){function e(e){this._textarea=e}return Object.defineProperty(e.prototype,"isFocused",{get:function(){return document.activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),e}();t.CoreBrowserService=r},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;var s=i(2),o=i(1),a=i(66),l=i(67),c=i(68),h=i(74),u=i(75),d=i(0),f=i(76),p=i(77),_=i(78),m=i(80),g=i(81),v=i(19),y=i(82),b=function(e){function t(t){var i=e.call(this)||this;return i._onBinary=new d.EventEmitter,i._onData=new d.EventEmitter,i._onLineFeed=new d.EventEmitter,i._onResize=new d.EventEmitter,i._onScroll=new d.EventEmitter,i._instantiationService=new a.InstantiationService,i.optionsService=new h.OptionsService(t),i._instantiationService.setService(o.IOptionsService,i.optionsService),i._bufferService=i.register(i._instantiationService.createInstance(c.BufferService)),i._instantiationService.setService(o.IBufferService,i._bufferService),i._logService=i._instantiationService.createInstance(l.LogService),i._instantiationService.setService(o.ILogService,i._logService),i._coreService=i.register(i._instantiationService.createInstance(u.CoreService,(function(){return i.scrollToBottom()}))),i._instantiationService.setService(o.ICoreService,i._coreService),i._coreMouseService=i._instantiationService.createInstance(f.CoreMouseService),i._instantiationService.setService(o.ICoreMouseService,i._coreMouseService),i._dirtyRowService=i._instantiationService.createInstance(p.DirtyRowService),i._instantiationService.setService(o.IDirtyRowService,i._dirtyRowService),i.unicodeService=i._instantiationService.createInstance(_.UnicodeService),i._instantiationService.setService(o.IUnicodeService,i.unicodeService),i._charsetService=i._instantiationService.createInstance(m.CharsetService),i._instantiationService.setService(o.ICharsetService,i._charsetService),i._inputHandler=new v.InputHandler(i._bufferService,i._charsetService,i._coreService,i._dirtyRowService,i._logService,i.optionsService,i._coreMouseService,i.unicodeService),i.register(d.forwardEvent(i._inputHandler.onLineFeed,i._onLineFeed)),i.register(i._inputHandler),i.register(d.forwardEvent(i._bufferService.onResize,i._onResize)),i.register(d.forwardEvent(i._coreService.onData,i._onData)),i.register(d.forwardEvent(i._coreService.onBinary,i._onBinary)),i.register(i.optionsService.onOptionChange((function(e){return i._updateOptions(e)}))),i._writeBuffer=new y.WriteBuffer((function(e){return i._inputHandler.parse(e)})),i}return n(t,e),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)},t.prototype.write=function(e,t){this._writeBuffer.write(e,t)},t.prototype.writeSync=function(e){this._writeBuffer.writeSync(e)},t.prototype.resize=function(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,c.MINIMUM_COLS),t=Math.max(t,c.MINIMUM_ROWS),this._bufferService.resize(e,t))},t.prototype.scroll=function(e,t){void 0===t&&(t=!1);var i,r=this._bufferService.buffer;(i=this._cachedBlankLine)&&i.length===this.cols&&i.getFg(0)===e.fg&&i.getBg(0)===e.bg||(i=r.getBlankLine(e,t),this._cachedBlankLine=i),i.isWrapped=t;var n=r.ybase+r.scrollTop,s=r.ybase+r.scrollBottom;if(0===r.scrollTop){var o=r.lines.isFull;s===r.lines.length-1?o?r.lines.recycle().copyFrom(i):r.lines.push(i.clone()):r.lines.splice(s+1,0,i.clone()),o?this._bufferService.isUserScrolling&&(r.ydisp=Math.max(r.ydisp-1,0)):(r.ybase++,this._bufferService.isUserScrolling||r.ydisp++)}else r.lines.shiftElements(n+1,s-n+1-1,-1),r.lines.set(s,i.clone());this._bufferService.isUserScrolling||(r.ydisp=r.ybase),this._dirtyRowService.markRangeDirty(r.scrollTop,r.scrollBottom),this._onScroll.fire(r.ydisp)},t.prototype.scrollLines=function(e,t){var i=this._bufferService.buffer;if(e<0){if(0===i.ydisp)return;this._bufferService.isUserScrolling=!0}else e+i.ydisp>=i.ybase&&(this._bufferService.isUserScrolling=!1);var r=i.ydisp;i.ydisp=Math.max(Math.min(i.ydisp+e,i.ybase),0),r!==i.ydisp&&(t||this._onScroll.fire(i.ydisp))},t.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},t.prototype.scrollToTop=function(){this.scrollLines(-this._bufferService.buffer.ydisp)},t.prototype.scrollToBottom=function(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)},t.prototype.scrollToLine=function(e){var t=e-this._bufferService.buffer.ydisp;0!==t&&this.scrollLines(t)},t.prototype.addEscHandler=function(e,t){return this._inputHandler.addEscHandler(e,t)},t.prototype.addDcsHandler=function(e,t){return this._inputHandler.addDcsHandler(e,t)},t.prototype.addCsiHandler=function(e,t){return this._inputHandler.addCsiHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._inputHandler.addOscHandler(e,t)},t.prototype._setup=function(){this.optionsService.options.windowsMode&&this._enableWindowsMode()},t.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this._coreService.reset(),this._coreMouseService.reset()},t.prototype._updateOptions=function(e){var t;switch(e){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.options.windowsMode?this._enableWindowsMode():(null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)}},t.prototype._enableWindowsMode=function(){var e=this;if(!this._windowsMode){var t=[];t.push(this.onLineFeed(g.updateWindowsModeWrappedState.bind(null,this._bufferService))),t.push(this.addCsiHandler({final:"H"},(function(){return g.updateWindowsModeWrappedState(e._bufferService),!1}))),this._windowsMode={dispose:function(){for(var e=0,i=t;e<i.length;e++)i[e].dispose()}}}},t}(s.Disposable);t.CoreTerminal=b},function(e,t,i){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<i;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;var n=i(1),s=i(14),o=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var i=0,r=e;i<r.length;i++){var n=r[i],s=n[0],o=n[1];this.set(s,o)}}return e.prototype.set=function(e,t){var i=this._entries.get(e);return this._entries.set(e,t),i},e.prototype.forEach=function(e){this._entries.forEach((function(t,i){return e(i,t)}))},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}();t.ServiceCollection=o;var a=function(){function e(){this._services=new o,this._services.set(n.IInstantiationService,this)}return e.prototype.setService=function(e,t){this._services.set(e,t)},e.prototype.getService=function(e){return this._services.get(e)},e.prototype.createInstance=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=s.getServiceDependencies(e).sort((function(e,t){return e.index-t.index})),o=[],a=0,l=n;a<l.length;a++){var c=l[a],h=this._services.get(c.id);if(!h)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+c.id+".");o.push(h)}var u=n.length>0?n[0].index:t.length;if(t.length!==u)throw new Error("[createInstance] First service dependency of "+e.name+" at position "+(u+1)+" conflicts with "+t.length+" static arguments");return new(e.bind.apply(e,r([void 0],r(t,o))))},e}();t.InstantiationService=a},function(e,t,i){"use strict";var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<i;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.LogService=t.LogLevel=void 0;var o,a=i(1);!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(o=t.LogLevel||(t.LogLevel={}));var l={debug:o.DEBUG,info:o.INFO,warn:o.WARN,error:o.ERROR,off:o.OFF},c=function(){function e(e){var t=this;this._optionsService=e,this._updateLogLevel(),this._optionsService.onOptionChange((function(e){"logLevel"===e&&t._updateLogLevel()}))}return e.prototype._updateLogLevel=function(){this._logLevel=l[this._optionsService.options.logLevel]},e.prototype._evalLazyOptionalParams=function(e){for(var t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())},e.prototype._log=function(e,t,i){this._evalLazyOptionalParams(i),e.call.apply(e,s([console,"xterm.js: "+t],i))},e.prototype.debug=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=o.DEBUG&&this._log(console.log,e,t)},e.prototype.info=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=o.INFO&&this._log(console.info,e,t)},e.prototype.warn=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=o.WARN&&this._log(console.warn,e,t)},e.prototype.error=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=o.ERROR&&this._log(console.error,e,t)},r([n(0,a.IOptionsService)],e)}();t.LogService=c},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;var a=i(1),l=i(69),c=i(0),h=i(2);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;var u=function(e){function i(i){var r=e.call(this)||this;return r._optionsService=i,r.isUserScrolling=!1,r._onResize=new c.EventEmitter,r.cols=Math.max(i.options.cols,t.MINIMUM_COLS),r.rows=Math.max(i.options.rows,t.MINIMUM_ROWS),r.buffers=new l.BufferSet(i,r),r}return n(i,e),Object.defineProperty(i.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){e.prototype.dispose.call(this),this.buffers.dispose()},i.prototype.resize=function(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:e,rows:t})},i.prototype.reset=function(){this.buffers.dispose(),this.buffers=new l.BufferSet(this._optionsService,this),this.isUserScrolling=!1},s([o(0,a.IOptionsService)],i)}(h.Disposable);t.BufferService=u},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;var s=i(70),o=i(0),a=function(e){function t(t,i){var r=e.call(this)||this;return r._onBufferActivate=r.register(new o.EventEmitter),r._normal=new s.Buffer(!0,t,i),r._normal.fillViewportRows(),r._alt=new s.Buffer(!1,t,i),r._activeBuffer=r._normal,r.setupTabStops(),r}return n(t,e),Object.defineProperty(t.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),t.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},t.prototype.activateAltBuffer=function(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},t.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},t.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},t}(i(2).Disposable);t.BufferSet=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferStringIterator=t.Buffer=t.MAX_BUFFER_SIZE=void 0;var r=i(71),n=i(16),s=i(4),o=i(3),a=i(72),l=i(73),c=i(20),h=i(6);t.MAX_BUFFER_SIZE=4294967295;var u=function(){function e(e,t,i){this._hasScrollback=e,this._optionsService=t,this._bufferService=i,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=n.DEFAULT_ATTR_DATA.clone(),this.savedCharset=c.DEFAULT_CHARSET,this.markers=[],this._nullCell=s.CellData.fromCharData([0,o.NULL_CELL_CHAR,o.NULL_CELL_WIDTH,o.NULL_CELL_CODE]),this._whitespaceCell=s.CellData.fromCharData([0,o.WHITESPACE_CELL_CHAR,o.WHITESPACE_CELL_WIDTH,o.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new r.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return e.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell},e.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell},e.prototype.getBlankLine=function(e,t){return new n.BufferLine(this._bufferService.cols,this.getNullCell(e),t)},Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows},enumerable:!1,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var i=e+this._optionsService.options.scrollback;return i>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:i},e.prototype.fillViewportRows=function(e){if(0===this.lines.length){void 0===e&&(e=n.DEFAULT_ATTR_DATA);for(var t=this._rows;t--;)this.lines.push(this.getBlankLine(e))}},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new r.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var i=this.getNullCell(n.DEFAULT_ATTR_DATA),r=this._getCorrectBufferLength(t);if(r>this.lines.maxLength&&(this.lines.maxLength=r),this.lines.length>0){if(this._cols<e)for(var s=0;s<this.lines.length;s++)this.lines.get(s).resize(e,i);var o=0;if(this._rows<t)for(var a=this._rows;a<t;a++)this.lines.length<t+this.ybase&&(this._optionsService.options.windowsMode?this.lines.push(new n.BufferLine(e,i)):this.ybase>0&&this.lines.length<=this.ybase+this.y+o+1?(this.ybase--,o++,this.ydisp>0&&this.ydisp--):this.lines.push(new n.BufferLine(e,i)));else for(a=this._rows;a>t;a--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(r<this.lines.maxLength){var l=this.lines.length-r;l>0&&(this.lines.trimStart(l),this.ybase=Math.max(this.ybase-l,0),this.ydisp=Math.max(this.ydisp-l,0),this.savedY=Math.max(this.savedY-l,0)),this.lines.maxLength=r}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),o&&(this.y+=o),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(s=0;s<this.lines.length;s++)this.lines.get(s).resize(e,i);this._cols=e,this._rows=t},Object.defineProperty(e.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.options.windowsMode},enumerable:!1,configurable:!0}),e.prototype._reflow=function(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))},e.prototype._reflowLarger=function(e,t){var i=a.reflowLargerGetLinesToRemove(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(n.DEFAULT_ATTR_DATA));if(i.length>0){var r=a.reflowLargerCreateNewLayout(this.lines,i);a.reflowLargerApplyNewLayout(this.lines,r.layout),this._reflowLargerAdjustViewport(e,t,r.countRemoved)}},e.prototype._reflowLargerAdjustViewport=function(e,t,i){for(var r=this.getNullCell(n.DEFAULT_ATTR_DATA),s=i;s-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new n.BufferLine(e,r))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-i,0)},e.prototype._reflowSmaller=function(e,t){for(var i=this.getNullCell(n.DEFAULT_ATTR_DATA),r=[],s=0,o=this.lines.length-1;o>=0;o--){var l=this.lines.get(o);if(!(!l||!l.isWrapped&&l.getTrimmedLength()<=e)){for(var c=[l];l.isWrapped&&o>0;)l=this.lines.get(--o),c.unshift(l);var h=this.ybase+this.y;if(!(h>=o&&h<o+c.length)){var u,d=c[c.length-1].getTrimmedLength(),f=a.reflowSmallerGetNewLineLengths(c,this._cols,e),p=f.length-c.length;u=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+p):Math.max(0,this.lines.length-this.lines.maxLength+p);for(var _=[],m=0;m<p;m++){var g=this.getBlankLine(n.DEFAULT_ATTR_DATA,!0);_.push(g)}_.length>0&&(r.push({start:o+c.length+s,newLines:_}),s+=_.length),c.push.apply(c,_);var v=f.length-1,y=f[v];0===y&&(y=f[--v]);for(var b=c.length-p-1,w=d;b>=0;){var C=Math.min(w,y);if(c[v].copyCellsFrom(c[b],w-C,y-C,C,!0),0==(y-=C)&&(y=f[--v]),0==(w-=C)){b--;var S=Math.max(b,0);w=a.getWrappedLineTrimmedLength(c,S,this._cols)}}for(m=0;m<c.length;m++)f[m]<e&&c[m].setCell(f[m],i);for(var k=p-u;k-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+s)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+p,this.ybase+t-1)}}}if(r.length>0){var x=[],E=[];for(m=0;m<this.lines.length;m++)E.push(this.lines.get(m));var A=this.lines.length,O=A-1,T=0,R=r[T];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+s);var L=0;for(m=Math.min(this.lines.maxLength-1,A+s-1);m>=0;m--)if(R&&R.start>O+L){for(var P=R.newLines.length-1;P>=0;P--)this.lines.set(m--,R.newLines[P]);m++,x.push({index:O+1,amount:R.newLines.length}),L+=R.newLines.length,R=r[++T]}else this.lines.set(m,E[O--]);var D=0;for(m=x.length-1;m>=0;m--)x[m].index+=D,this.lines.onInsertEmitter.fire(x[m]),D+=x[m].amount;var I=Math.max(0,A+s-this.lines.maxLength);I>0&&this.lines.onTrimEmitter.fire(I)}},e.prototype.stringIndexToBufferIndex=function(e,t,i){for(void 0===i&&(i=!1);t;){var r=this.lines.get(e);if(!r)return[-1,-1];for(var n=i?r.getTrimmedLength():r.length,s=0;s<n;++s)if(r.get(s)[o.CHAR_DATA_WIDTH_INDEX]&&(t-=r.get(s)[o.CHAR_DATA_CHAR_INDEX].length||1),t<0)return[e,s];e++}return[e,0]},e.prototype.translateBufferLineToString=function(e,t,i,r){void 0===i&&(i=0);var n=this.lines.get(e);return n?n.translateToString(t,i,r):""},e.prototype.getWrappedRangeForLine=function(e){for(var t=e,i=e;t>0&&this.lines.get(t).isWrapped;)t--;for(;i+1<this.lines.length&&this.lines.get(i+1).isWrapped;)i++;return{first:t,last:i}},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.options.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.addMarker=function(e){var t=this,i=new l.Marker(e);return this.markers.push(i),i.register(this.lines.onTrim((function(e){i.line-=e,i.line<0&&i.dispose()}))),i.register(this.lines.onInsert((function(e){i.line>=e.index&&(i.line+=e.amount)}))),i.register(this.lines.onDelete((function(e){i.line>=e.index&&i.line<e.index+e.amount&&i.dispose(),i.line>e.index&&(i.line-=e.amount)}))),i.register(i.onDispose((function(){return t._removeMarker(i)}))),i},e.prototype._removeMarker=function(e){this.markers.splice(this.markers.indexOf(e),1)},e.prototype.iterator=function(e,t,i,r,n){return new d(this,e,t,i,r,n)},e}();t.Buffer=u;var d=function(){function e(e,t,i,r,n,s){void 0===i&&(i=0),void 0===r&&(r=e.lines.length),void 0===n&&(n=0),void 0===s&&(s=0),this._buffer=e,this._trimRight=t,this._startIndex=i,this._endIndex=r,this._startOverscan=n,this._endOverscan=s,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return e.prototype.hasNext=function(){return this._current<this._endIndex},e.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var t="",i=e.first;i<=e.last;++i)t+=this._buffer.translateBufferLineToString(i,this._trimRight);return this._current=e.last+1,{range:e,content:t}},e}();t.BufferStringIterator=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;var r=i(0),n=function(){function e(e){this._maxLength=e,this.onDeleteEmitter=new r.EventEmitter,this.onInsertEmitter=new r.EventEmitter,this.onTrimEmitter=new r.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(e.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),i=0;i<Math.min(e,this.length);i++)t[i]=this._array[this._getCyclicIndex(i)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},e.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},e.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},e.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(e.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t){for(var n=e;n<this._length-t;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+t)];this._length-=t}for(n=this._length-1;n>=e;n--)this._array[this._getCyclicIndex(n+i.length)]=this._array[this._getCyclicIndex(n)];for(n=0;n<i.length;n++)this._array[this._getCyclicIndex(e+n)]=i[n];if(this._length+i.length>this._maxLength){var s=this._length+i.length-this._maxLength;this._startIndex+=s,this._length=this._maxLength,this.onTrimEmitter.fire(s)}else this._length+=i.length},e.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)},e.prototype.shiftElements=function(e,t,i){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+i<0)throw new Error("Cannot shift elements in list beyond index 0");if(i>0){for(var r=t-1;r>=0;r--)this.set(e+r+i,this.get(e+r));var n=e+t+i-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(r=0;r<t;r++)this.set(e+r+i,this.get(e+r))}},e.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this._maxLength},e}();t.CircularList=n},function(e,t,i){"use strict";function r(e,t,i){if(t===e.length-1)return e[t].getTrimmedLength();var r=!e[t].hasContent(i-1)&&1===e[t].getWidth(i-1),n=2===e[t+1].getWidth(0);return r&&n?i-1:i}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,i,n,s){for(var o=[],a=0;a<e.length-1;a++){var l=a,c=e.get(++l);if(c.isWrapped){for(var h=[e.get(a)];l<e.length&&c.isWrapped;)h.push(c),c=e.get(++l);if(n>=a&&n<l)a+=h.length-1;else{for(var u=0,d=r(h,u,t),f=1,p=0;f<h.length;){var _=r(h,f,t),m=Math.min(_-p,i-d);h[u].copyCellsFrom(h[f],p,d,m,!1),(d+=m)===i&&(u++,d=0),(p+=m)===_&&(f++,p=0),0===d&&0!==u&&2===h[u-1].getWidth(i-1)&&(h[u].copyCellsFrom(h[u-1],i-1,d++,1,!1),h[u-1].setCell(i-1,s))}h[u].replaceCells(d,i,s);for(var g=0,v=h.length-1;v>0&&(v>u||0===h[v].getTrimmedLength());v--)g++;g>0&&(o.push(a+h.length-g),o.push(g)),a+=h.length-1}}}return o},t.reflowLargerCreateNewLayout=function(e,t){for(var i=[],r=0,n=t[r],s=0,o=0;o<e.length;o++)if(n===o){var a=t[++r];e.onDeleteEmitter.fire({index:o-s,amount:a}),o+=a-1,s+=a,n=t[++r]}else i.push(o);return{layout:i,countRemoved:s}},t.reflowLargerApplyNewLayout=function(e,t){for(var i=[],r=0;r<t.length;r++)i.push(e.get(t[r]));for(r=0;r<i.length;r++)e.set(r,i[r]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,i){for(var n=[],s=e.map((function(i,n){return r(e,n,t)})).reduce((function(e,t){return e+t})),o=0,a=0,l=0;l<s;){if(s-l<i){n.push(s-l);break}o+=i;var c=r(e,a,t);o>c&&(o-=c,a++);var h=2===e[a].getWidth(o-1);h&&o--;var u=h?i-1:i;n.push(u),l+=u}return n},t.getWrappedLineTrimmedLength=r},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;var s=i(0),o=function(e){function t(i){var r=e.call(this)||this;return r.line=i,r._id=t._nextId++,r.isDisposed=!1,r._onDispose=new s.EventEmitter,r}return n(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire())},t._nextId=1,t}(i(2).Disposable);t.Marker=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=t.DEFAULT_BELL_SOUND=void 0;var r=i(0),n=i(11),s=i(33);t.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.DEFAULT_OPTIONS=Object.freeze({cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,bellSound:t.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:n.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",convertEol:!1,termName:"xterm",cancelEvents:!1});var o=["normal","bold","100","200","300","400","500","600","700","800","900"],a=["cols","rows"],l=function(){function e(e){this._onOptionChange=new r.EventEmitter,this.options=s.clone(t.DEFAULT_OPTIONS);for(var i=0,n=Object.keys(e);i<n.length;i++){var o=n[i];if(o in this.options)try{this.options[o]=this._sanitizeAndValidateOption(o,e[o])}catch(e){console.error(e)}}}return Object.defineProperty(e.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),e.prototype.setOption=function(e,i){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');if(-1!==a.indexOf(e))throw new Error('Option "'+e+'" can only be set in the constructor');this.options[e]!==i&&(i=this._sanitizeAndValidateOption(e,i),this.options[e]!==i&&(this.options[e]=i,this._onOptionChange.fire(e)))},e.prototype._sanitizeAndValidateOption=function(e,i){switch(e){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":i||(i=t.DEFAULT_OPTIONS[e]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof i&&1<=i&&i<=1e3)break;i=-1!==o.indexOf(i)?i:t.DEFAULT_OPTIONS[e];break;case"cursorWidth":i=Math.floor(i);case"lineHeight":case"tabStopWidth":if(i<1)throw new Error(e+" cannot be less than 1, value: "+i);break;case"minimumContrastRatio":i=Math.max(1,Math.min(21,Math.round(10*i)/10));break;case"scrollback":if((i=Math.min(i,4294967295))<0)throw new Error(e+" cannot be less than 0, value: "+i);break;case"fastScrollSensitivity":case"scrollSensitivity":if(i<=0)throw new Error(e+" cannot be less than or equal to 0, value: "+i)}return i},e.prototype.getOption=function(e){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');return this.options[e]},e}();t.OptionsService=l},function(e,t,i){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;var a=i(1),l=i(0),c=i(33),h=i(2),u=Object.freeze({insertMode:!1}),d=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),f=function(e){function t(t,i,r,n){var s=e.call(this)||this;return s._bufferService=i,s._logService=r,s._optionsService=n,s.isCursorInitialized=!1,s.isCursorHidden=!1,s._onData=s.register(new l.EventEmitter),s._onUserInput=s.register(new l.EventEmitter),s._onBinary=s.register(new l.EventEmitter),s._scrollToBottom=t,s.register({dispose:function(){return s._scrollToBottom=void 0}}),s.modes=c.clone(u),s.decPrivateModes=c.clone(d),s}return n(t,e),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.modes=c.clone(u),this.decPrivateModes=c.clone(d)},t.prototype.triggerDataEvent=function(e,t){if(void 0===t&&(t=!1),!this._optionsService.options.disableStdin){var i=this._bufferService.buffer;i.ybase!==i.ydisp&&this._scrollToBottom(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onData.fire(e)}},t.prototype.triggerBinaryEvent=function(e){this._optionsService.options.disableStdin||(this._logService.debug('sending binary "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onBinary.fire(e))},s([o(1,a.IBufferService),o(2,a.ILogService),o(3,a.IOptionsService)],t)}(h.Disposable);t.CoreService=f},function(e,t,i){"use strict";var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;var s=i(1),o=i(0),a={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(e){return 4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)}},VT200:{events:19,restrict:function(e){return 32!==e.action}},DRAG:{events:23,restrict:function(e){return 32!==e.action||3!==e.button}},ANY:{events:31,restrict:function(e){return!0}}};function l(e,t){var i=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(i|=64,i|=e.action):(i|=3&e.button,4&e.button&&(i|=64),8&e.button&&(i|=128),32===e.action?i|=32:0!==e.action||t||(i|=3)),i}var c=String.fromCharCode,h={DEFAULT:function(e){var t=[l(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"\x1b[M"+c(t[0])+c(t[1])+c(t[2])},SGR:function(e){var t=0===e.action&&4!==e.button?"m":"M";return"\x1b[<"+l(e,!0)+";"+e.col+";"+e.row+t}},u=function(){function e(e,t){this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new o.EventEmitter,this._lastEvent=null;for(var i=0,r=Object.keys(a);i<r.length;i++){var n=r[i];this.addProtocol(n,a[n])}for(var s=0,l=Object.keys(h);s<l.length;s++){var c=l[s];this.addEncoding(c,h[c])}this.reset()}return e.prototype.addProtocol=function(e,t){this._protocols[e]=t},e.prototype.addEncoding=function(e,t){this._encodings[e]=t},Object.defineProperty(e.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(e){if(!this._protocols[e])throw new Error('unknown protocol "'+e+'"');this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areMouseEventsActive",{get:function(){return 0!==this._protocols[this._activeProtocol].events},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(e){if(!this._encodings[e])throw new Error('unknown encoding "'+e+'"');this._activeEncoding=e},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(e.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),e.prototype.triggerMouseEvent=function(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._compareEvents(this._lastEvent,e))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;var t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0},e.prototype.explainEvents=function(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}},e.prototype._compareEvents=function(e,t){return e.col===t.col&&e.row===t.row&&e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift},r([n(0,s.IBufferService),n(1,s.ICoreService)],e)}();t.CoreMouseService=u},function(e,t,i){"use strict";var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DirtyRowService=void 0;var s=i(1),o=function(){function e(e){this._bufferService=e,this.clearRange()}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),e.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},e.prototype.markDirty=function(e){e<this._start?this._start=e:e>this._end&&(this._end=e)},e.prototype.markRangeDirty=function(e,t){if(e>t){var i=e;e=t,t=i}e<this._start&&(this._start=e),t>this._end&&(this._end=t)},e.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},r([n(0,s.IBufferService)],e)}();t.DirtyRowService=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;var r=i(0),n=i(79),s=function(){function e(){this._providers=Object.create(null),this._active="",this._onChange=new r.EventEmitter;var e=new n.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._active},set:function(e){if(!this._providers[e])throw new Error('unknown Unicode version "'+e+'"');this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)},enumerable:!1,configurable:!0}),e.prototype.register=function(e){this._providers[e.version]=e},e.prototype.wcwidth=function(e){return this._activeProvider.wcwidth(e)},e.prototype.getStringCellWidth=function(e){for(var t=0,i=e.length,r=0;r<i;++r){var n=e.charCodeAt(r);if(55296<=n&&n<=56319){if(++r>=i)return t+this.wcwidth(n);var s=e.charCodeAt(r);56320<=s&&s<=57343?n=1024*(n-55296)+s-56320+65536:t+=this.wcwidth(s)}t+=this.wcwidth(n)}return t},e}();t.UnicodeService=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;var r,n=i(15),s=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],o=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],a=function(){function e(){if(this.version="6",!r){r=new Uint8Array(65536),n.fill(r,1),r[0]=0,n.fill(r,0,1,32),n.fill(r,0,127,160),n.fill(r,2,4352,4448),r[9001]=2,r[9002]=2,n.fill(r,2,11904,42192),r[12351]=1,n.fill(r,2,44032,55204),n.fill(r,2,63744,64256),n.fill(r,2,65040,65050),n.fill(r,2,65072,65136),n.fill(r,2,65280,65377),n.fill(r,2,65504,65511);for(var e=0;e<s.length;++e)n.fill(r,0,s[e][0],s[e][1]+1)}}return e.prototype.wcwidth=function(e){return e<32?0:e<127?1:e<65536?r[e]:function(e,t){var i,r=0,n=t.length-1;if(e<t[0][0]||e>t[n][1])return!1;for(;n>=r;)if(e>t[i=r+n>>1][1])r=i+1;else{if(!(e<t[i][0]))return!0;n=i-1}return!1}(e,o)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1},e}();t.UnicodeV6=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0;var r=function(){function e(){this.glevel=0,this._charsets=[]}return e.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},e.prototype.setgLevel=function(e){this.glevel=e,this.charset=this._charsets[e]},e.prototype.setgCharset=function(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)},e}();t.CharsetService=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;var r=i(3);t.updateWindowsModeWrappedState=function(e){var t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),i=null==t?void 0:t.get(e.cols-1),n=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);n&&i&&(n.isWrapped=i[r.CHAR_DATA_CODE_INDEX]!==r.NULL_CELL_CODE&&i[r.CHAR_DATA_CODE_INDEX]!==r.WHITESPACE_CELL_CODE)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;var r=function(){function e(e){this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0}return e.prototype.writeSync=function(e){if(this._writeBuffer.length){for(var t=this._bufferOffset;t<this._writeBuffer.length;++t){var i=this._callbacks[t];this._action(this._writeBuffer[t]),i&&i()}this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=2147483647}this._action(e)},e.prototype.write=function(e,t){var i=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout((function(){return i._innerWrite()}))),this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)},e.prototype._innerWrite=function(){for(var e=this,t=Date.now();this._writeBuffer.length>this._bufferOffset;){var i=this._writeBuffer[this._bufferOffset],r=this._callbacks[this._bufferOffset];if(this._bufferOffset++,this._action(i),this._pendingData-=i.length,r&&r(),Date.now()-t>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((function(){return e._innerWrite()}),0)):(this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0)},e}();t.WriteBuffer=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0;var r=function(){function e(){this._addons=[]}return e.prototype.dispose=function(){for(var e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()},e.prototype.loadAddon=function(e,t){var i=this,r={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(r),t.dispose=function(){return i._wrappedAddonDispose(r)},t.activate(e)},e.prototype._wrappedAddonDispose=function(e){if(!e.isDisposed){for(var t=-1,i=0;i<this._addons.length;i++)if(this._addons[i]===e){t=i;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},e}();t.AddonManager=r}])},0:function(e,t,i){e.exports=i("zUnb")},"6i1C":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringSimilarity=function(e,t,i,r){if(void 0===i&&(i=2),void 0===r&&(r=!1),r||(e=e.toLowerCase(),t=t.toLowerCase()),e.length<i||t.length<i)return 0;for(var n=new Map,s=0;s<e.length-(i-1);s++){var o=e.substr(s,i);n.set(o,n.has(o)?n.get(o)+1:1)}for(var a=0,l=0;l<t.length-(i-1);l++){var c=t.substr(l,i),h=n.has(c)?n.get(c):0;h>0&&(n.set(c,h-1),a++)}return 2*a/(e.length+t.length-2*(i-1))},t.default=t.stringSimilarity},zUnb:function(e,t,i){"use strict";function r(e){return"function"==typeof e}i.r(t);let n=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=e},get useDeprecatedSynchronousErrorHandling(){return n}};function o(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(s.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function c(e){return null!==e&&"object"==typeof e}const h=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let u=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:i,_unsubscribe:n,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof e)i.remove(this);else if(null!==i)for(let e=0;e<i.length;++e)i[e].remove(this);if(r(n))try{n.call(this)}catch(o){t=o instanceof h?d(o.errors):[o]}if(l(s)){let e=-1,i=s.length;for(;++e<i;){const i=s[e];if(c(i))try{i.unsubscribe()}catch(o){t=t||[],o instanceof h?t=t.concat(d(o.errors)):t.push(o)}}}if(t)throw new h(t)}add(t){let i=t;if(!t)return e.EMPTY;switch(typeof t){case"function":i=new e(t);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof e)){const t=i;i=new e,i._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=i;if(null===r)i._parentOrParents=this;else if(r instanceof e){if(r===this)return i;i._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return i;r.push(this)}const n=this._subscriptions;return null===n?this._subscriptions=[i]:n.push(i),i}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends u{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof p?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new _(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new _(this,e,t,i)}}[f](){return this}static create(e,t,i){const r=new p(e,t,i);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class _ extends p{constructor(e,t,i,n){let s;super(),this._parentSubscriber=e;let o=this;r(t)?s=t:t&&(s=t.next,i=t.error,n=t.complete,t!==a&&(o=Object.create(t),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=n}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=s;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw i;o(i)}}__tryOrSetError(e,t,i){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function g(e){return e}let v=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){const{operator:r}=this,n=function(e,t,i){if(e){if(e instanceof p)return e;if(e[f])return e[f]()}return e||t||i?new p(e,t,i):new p(a)}(e,t,i);if(n.add(r?r.call(n,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),s.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n}_trySubscribe(e){try{return this._subscribe(e)}catch(t){s.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:i,isStopped:r}=e;if(t||r)return!1;e=i&&i instanceof p?i:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=y(t))((t,i)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(n){i(n),r&&r.unsubscribe()}},i,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[m](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?g:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=y(e))((e,t)=>{let i;this.subscribe(e=>i=e,e=>t(e),()=>e(i))})}}return e.create=t=>new e(t),e})();function y(e){if(e||(e=s.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const b=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class w extends u{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class C extends p{constructor(e){super(e),this.destination=e}}let S=(()=>{class e extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new C(this)}lift(e){const t=new k(this,this);return t.operator=e,t}next(e){if(this.closed)throw new b;if(!this.isStopped){const{observers:t}=this,i=t.length,r=t.slice();for(let n=0;n<i;n++)r[n].next(e)}}error(e){if(this.closed)throw new b;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,i=t.length,r=t.slice();for(let n=0;n<i;n++)r[n].error(e);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:e}=this,t=e.length,i=e.slice();for(let r=0;r<t;r++)i[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new b;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new b;return this.hasError?(e.error(this.thrownError),u.EMPTY):this.isStopped?(e.complete(),u.EMPTY):(this.observers.push(e),new w(this,e))}asObservable(){const e=new v;return e.source=this,e}}return e.create=(e,t)=>new k(e,t),e})();class k extends S{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):u.EMPTY}}function x(e){return e&&"function"==typeof e.schedule}class E extends p{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const A=e=>t=>{for(let i=0,r=e.length;i<r&&!t.closed;i++)t.next(e[i]);t.complete()};function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const T=O(),R=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function L(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const P=e=>{if(e&&"function"==typeof e[m])return r=e,e=>{const t=r[m]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(R(e))return A(e);if(L(e))return i=e,e=>(i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);if(e&&"function"==typeof e[T])return t=e,e=>{const i=t[T]();for(;;){const t=i.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof i.return&&e.add(()=>{i.return&&i.return()}),e};{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,i,r};function D(e,t,i,r,n=new E(e,i,r)){if(!n.closed)return t instanceof v?t.subscribe(n):P(t)(n)}class I extends p{notifyNext(e,t,i,r,n){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function M(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new F(e,t))}}class F{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new N(e,this.project,this.thisArg))}}class N extends p{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}function j(e,t){return new v(i=>{const r=new u;let n=0;return r.add(t.schedule((function(){n!==e.length?(i.next(e[n++]),i.closed||r.add(this.schedule())):i.complete()}))),r})}function B(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new v(i=>{const r=new u;return r.add(t.schedule(()=>{const n=e[m]();r.add(n.subscribe({next(e){r.add(t.schedule(()=>i.next(e)))},error(e){r.add(t.schedule(()=>i.error(e)))},complete(){r.add(t.schedule(()=>i.complete()))}}))})),r})}(e,t);if(L(e))return function(e,t){return new v(i=>{const r=new u;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{i.next(e),r.add(t.schedule(()=>i.complete()))}))},e=>{r.add(t.schedule(()=>i.error(e)))}))),r})}(e,t);if(R(e))return j(e,t);if(function(e){return e&&"function"==typeof e[T]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new v(i=>{const r=new u;let n;return r.add(()=>{n&&"function"==typeof n.return&&n.return()}),r.add(t.schedule(()=>{n=e[T](),r.add(t.schedule((function(){if(i.closed)return;let e,t;try{const i=n.next();e=i.value,t=i.done}catch(r){return void i.error(r)}t?i.complete():(i.next(e),this.schedule())})))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof v?e:new v(P(e))}function H(e,t,i=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(H((i,r)=>B(e(i,r)).pipe(M((e,n)=>t(i,e,r,n))),i)):("number"==typeof t&&(i=t),t=>t.lift(new U(e,i)))}class U{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new V(e,this.project,this.concurrent))}}class V extends I{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,i)}_innerSub(e,t,i){const r=new E(this,t,i),n=this.destination;n.add(r);const s=D(this,e,void 0,void 0,r);s!==r&&n.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,i,r,n){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(e=Number.POSITIVE_INFINITY){return H(g,e)}function z(e,t){return t?j(e,t):new v(A(e))}function W(...e){let t=Number.POSITIVE_INFINITY,i=null,r=e[e.length-1];return x(r)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===i&&1===e.length&&e[0]instanceof v?e[0]:q(t)(z(e,i))}function $(){return function(e){return e.lift(new K(e))}}class K{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const r=new G(e,i),n=t.subscribe(r);return r.closed||(r.connection=i.connect()),n}}class G extends p{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,r=e._connection;this.connection=null,!r||i&&r!==i||r.unsubscribe()}}class Z extends v{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new u,e.add(this.source.subscribe(new X(this.getSubject(),this))),e.closed&&(this._connection=null,e=u.EMPTY)),e}refCount(){return $()(this)}}const Y=(()=>{const e=Z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class X extends C{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function Q(e,t){return function(i){let r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return i.lift(new J(r,t));const n=Object.create(i,Y);return n.source=i,n.subjectFactory=r,n}}class J{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:i}=this,r=this.subjectFactory(),n=i(r).subscribe(e);return n.add(t.subscribe(r)),n}}function ee(){return new S}function te(){return e=>$()(Q(ee)(e))}function ie(e){return{toString:e}.toString()}function re(e,t,i){return ie(()=>{const r=function(e){return function(...t){if(e){const i=e(...t);for(const e in i)this[e]=i[e]}}}(t);function n(...e){if(this instanceof n)return r.apply(this,e),this;const t=new n(...e);return i.annotation=t,i;function i(e,i,r){const n=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;n.length<=r;)n.push(null);return(n[r]=n[r]||[]).push(t),e}}return i&&(n.prototype=Object.create(i.prototype)),n.prototype.ngMetadataName=e,n.annotationCls=n,n})}const ne=re("Inject",e=>({token:e})),se=re("Optional"),oe=re("Self"),ae=re("SkipSelf");var le=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function he(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function ue(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function de(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function fe(e){return pe(e,e[me])||pe(e,e[ye])}function pe(e,t){return t&&t.token===e?t:null}function _e(e){return e&&(e.hasOwnProperty(ge)||e.hasOwnProperty(be))?e[ge]:null}const me=ce({"\u0275prov":ce}),ge=ce({"\u0275inj":ce}),ve=ce({"\u0275provFallback":ce}),ye=ce({ngInjectableDef:ce}),be=ce({ngInjectorDef:ce});function we(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(we).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function Ce(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Se=ce({__forward_ref__:ce});function ke(e){return e.__forward_ref__=ke,e.toString=function(){return we(this())},e}function xe(e){return Ee(e)?e():e}function Ee(e){return"function"==typeof e&&e.hasOwnProperty(Se)&&e.__forward_ref__===ke}const Ae="undefined"!=typeof globalThis&&globalThis,Oe="undefined"!=typeof window&&window,Te="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Re="undefined"!=typeof global&&global,Le=Ae||Re||Oe||Te,Pe=ce({"\u0275cmp":ce}),De=ce({"\u0275dir":ce}),Ie=ce({"\u0275pipe":ce}),Me=ce({"\u0275mod":ce}),Fe=ce({"\u0275loc":ce}),Ne=ce({"\u0275fac":ce}),je=ce({__NG_ELEMENT_ID__:ce});class Be{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const He=new Be("INJECTOR",-1),Ue={},Ve=/\n/gm,qe=ce({provide:String,useValue:ce});let ze,We=void 0;function $e(e){const t=We;return We=e,t}function Ke(e){const t=ze;return ze=e,t}function Ge(e,t=le.Default){if(void 0===We)throw new Error("inject() must be called from an injection context");return null===We?Xe(e,void 0,t):We.get(e,t&le.Optional?null:void 0,t)}function Ze(e,t=le.Default){return(ze||Ge)(xe(e),t)}const Ye=Ze;function Xe(e,t,i){const r=fe(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(i&le.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${we(e)}]`)}function Qe(e){const t=[];for(let i=0;i<e.length;i++){const r=xe(e[i]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e=void 0,i=le.Default;for(let t=0;t<r.length;t++){const n=r[t];n instanceof se||"Optional"===n.ngMetadataName||n===se?i|=le.Optional:n instanceof ae||"SkipSelf"===n.ngMetadataName||n===ae?i|=le.SkipSelf:n instanceof oe||"Self"===n.ngMetadataName||n===oe?i|=le.Self:e=n instanceof ne||n===ne?n.token:n}t.push(Ze(e,i))}else t.push(Ze(r))}return t}class Je{get(e,t=Ue){if(t===Ue){const t=new Error(`NullInjectorError: No provider for ${we(e)}!`);throw t.name="NullInjectorError",t}return t}}class et{}class tt{}function it(e,t){e.forEach(e=>Array.isArray(e)?it(e,t):t(e))}function rt(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function nt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function st(e,t){const i=[];for(let r=0;r<e;r++)i.push(t);return i}function ot(e,t,i){let r=lt(e,t);return r>=0?e[1|r]=i:(r=~r,function(e,t,i,r){let n=e.length;if(n==t)e.push(i,r);else if(1===n)e.push(r,e[0]),e[0]=i;else{for(n--,e.push(e[n-1],e[n]);n>t;)e[n]=e[n-2],n--;e[t]=i,e[t+1]=r}}(e,r,t,i)),r}function at(e,t){const i=lt(e,t);if(i>=0)return e[1|i]}function lt(e,t){return function(e,t,i){let r=0,n=e.length>>1;for(;n!==r;){const i=r+(n-r>>1),s=e[i<<1];if(t===s)return i<<1;s>t?n=i:r=i+1}return~(n<<1)}(e,t)}var ct=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),ht=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const ut={},dt=[];let ft=0;function pt(e){return ie(()=>{const t={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===ct.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||dt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ht.Emulated,id:"c",styles:e.styles||dt,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,n=e.features,s=e.pipes;return i.id+=ft++,i.inputs=yt(e.inputs,t),i.outputs=yt(e.outputs),n&&n.forEach(e=>e(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(_t):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(mt):null,i})}function _t(e){return Ct(e)||function(e){return e[De]||null}(e)}function mt(e){return function(e){return e[Ie]||null}(e)}const gt={};function vt(e){const t={type:e.type,bootstrap:e.bootstrap||dt,declarations:e.declarations||dt,imports:e.imports||dt,exports:e.exports||dt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&ie(()=>{gt[e.id]=e.type}),t}function yt(e,t){if(null==e)return ut;const i={};for(const r in e)if(e.hasOwnProperty(r)){let n=e[r],s=n;Array.isArray(n)&&(s=n[1],n=n[0]),i[n]=r,t&&(t[n]=s)}return i}const bt=pt;function wt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ct(e){return e[Pe]||null}function St(e,t){return e.hasOwnProperty(Ne)?e[Ne]:null}function kt(e,t){const i=e[Me]||null;if(!i&&!0===t)throw new Error(`Type ${we(e)} does not have '\u0275mod' property.`);return i}function xt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Et(e){return Array.isArray(e)&&!0===e[1]}function At(e){return 0!=(8&e.flags)}function Ot(e){return 2==(2&e.flags)}function Tt(e){return 1==(1&e.flags)}function Rt(e){return null!==e.template}function Lt(e){return 0!=(512&e[2])}class Pt{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Dt(){return It}function It(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ft),Mt}function Mt(){const e=Nt(this),t=null==e?void 0:e.current;if(t){const i=e.previous;if(i===ut)e.previous=t;else for(let e in t)i[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Ft(e,t,i,r){const n=Nt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ut,current:null}),s=n.current||(n.current={}),o=n.previous,a=this.declaredInputs[i],l=o[a];s[a]=new Pt(l&&l.currentValue,t,o===ut),e[r]=t}function Nt(e){return e.__ngSimpleChanges__||null}Dt.ngInherit=!0;let jt=void 0;function Bt(){return void 0!==jt?jt:"undefined"!=typeof document?document:void 0}function Ht(e){return!!e.listen}const Ut={createRenderer:(e,t)=>Bt()};function Vt(e){for(;Array.isArray(e);)e=e[0];return e}function qt(e,t){return Vt(t[e+20])}function zt(e,t){return Vt(t[e.index])}function Wt(e,t){return e.data[t+20]}function $t(e,t){return e[t+20]}function Kt(e,t){const i=t[e];return xt(i)?i:i[0]}function Gt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Zt(e){return 4==(4&e[2])}function Yt(e){return 128==(128&e[2])}function Xt(e,t){return null===e||null==t?null:e[t]}function Qt(e){e[18]=0}function Jt(e,t){e[5]+=t;let i=e,r=e[3];for(;null!==r&&(1===t&&1===i[5]||-1===t&&0===i[5]);)r[5]+=t,i=r,r=r[3]}const ei={lFrame:Ci(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ti(){return ei.bindingsEnabled}function ii(){return ei.lFrame.lView}function ri(){return ei.lFrame.tView}function ni(e){ei.lFrame.contextLView=e}function si(){return ei.lFrame.previousOrParentTNode}function oi(e,t){ei.lFrame.previousOrParentTNode=e,ei.lFrame.isParent=t}function ai(){return ei.lFrame.isParent}function li(){ei.lFrame.isParent=!1}function ci(){return ei.checkNoChangesMode}function hi(e){ei.checkNoChangesMode=e}function ui(){const e=ei.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function di(){return ei.lFrame.bindingIndex++}function fi(e){const t=ei.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function pi(e,t){const i=ei.lFrame;i.bindingIndex=i.bindingRootIndex=e,_i(t)}function _i(e){ei.lFrame.currentDirectiveIndex=e}function mi(e){const t=ei.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function gi(){return ei.lFrame.currentQueryIndex}function vi(e){ei.lFrame.currentQueryIndex=e}function yi(e,t){const i=wi();ei.lFrame=i,i.previousOrParentTNode=t,i.lView=e}function bi(e,t){const i=wi(),r=e[1];ei.lFrame=i,i.previousOrParentTNode=t,i.lView=e,i.tView=r,i.contextLView=e,i.bindingIndex=r.bindingStartIndex}function wi(){const e=ei.lFrame,t=null===e?null:e.child;return null===t?Ci(e):t}function Ci(e){const t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Si(){const e=ei.lFrame;return ei.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}const ki=Si;function xi(){const e=Si();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ei(){return ei.lFrame.selectedIndex}function Ai(e){ei.lFrame.selectedIndex=e}function Oi(){const e=ei.lFrame;return Wt(e.tView,e.selectedIndex)}function Ti(){ei.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Ri(e,t){for(let i=t.directiveStart,r=t.directiveEnd;i<r;i++){const t=e.data[i].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:n,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-i,r),n&&((e.contentHooks||(e.contentHooks=[])).push(i,n),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,n)),s&&(e.viewHooks||(e.viewHooks=[])).push(-i,s),o&&((e.viewHooks||(e.viewHooks=[])).push(i,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(i,a)}}function Li(e,t,i){Ii(e,t,3,i)}function Pi(e,t,i,r){(3&e[2])===i&&Ii(e,t,i,r)}function Di(e,t){let i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function Ii(e,t,i,r){const n=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&e[18]:0;o<t.length;o++)if("number"==typeof t[o+1]){if(s=t[o],null!=r&&s>=r)break}else t[o]<0&&(e[18]+=65536),(s<n||-1==n)&&(Mi(e,i,t,o),e[18]=(4294901760&e[18])+o+2),o++}function Mi(e,t,i,r){const n=i[r]<0,s=i[r+1],o=e[n?-i[r]:i[r]];n?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,s.call(o)):s.call(o)}class Fi{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Ni(e,t,i){const r=Ht(e);let n=0;for(;n<i.length;){const s=i[n];if("number"==typeof s){if(0!==s)break;n++;const o=i[n++],a=i[n++],l=i[n++];r?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=i[++n];Bi(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),n++}}return n}function ji(e){return 3===e||4===e||6===e}function Bi(e){return 64===e.charCodeAt(0)}function Hi(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let r=0;r<t.length;r++){const n=t[r];"number"==typeof n?i=n:0===i||Ui(e,i,n,null,-1===i||2===i?t[++r]:null)}}return e}function Ui(e,t,i,r,n){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const i=e[s++];if("number"==typeof i){if(i===t){o=-1;break}if(i>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===i){if(null===r)return void(null!==n&&(e[s+1]=n));if(r===e[s+1])return void(e[s+2]=n)}s++,null!==r&&s++,null!==n&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,i),null!==r&&e.splice(s++,0,r),null!==n&&e.splice(s++,0,n)}function Vi(e){return-1!==e}function qi(e){return 32767&e}function zi(e){return e>>16}function Wi(e,t){let i=zi(e),r=t;for(;i>0;)r=r[15],i--;return r}function $i(e){return"string"==typeof e?e:null==e?"":""+e}function Ki(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$i(e)}const Gi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Le))();function Zi(e){return{name:"window",target:e.ownerDocument.defaultView}}function Yi(e){return e instanceof Function?e():e}let Xi=!0;function Qi(e){const t=Xi;return Xi=e,t}let Ji=0;function er(e,t){const i=ir(e,t);if(-1!==i)return i;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,tr(r.data,e),tr(t,null),tr(r.blueprint,null));const n=rr(e,t),s=e.injectorIndex;if(Vi(n)){const e=qi(n),i=Wi(n,t),r=i[1].data;for(let n=0;n<8;n++)t[s+n]=i[e+n]|r[e+n]}return t[s+8]=n,s}function tr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ir(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function rr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=t[6],r=1;for(;i&&-1===i.injectorIndex;)i=(t=t[15])?t[6]:null,r++;return i?i.injectorIndex|r<<16:-1}function nr(e,t,i){!function(e,t,i){let r;"string"==typeof i?r=i.charCodeAt(0)||0:i.hasOwnProperty(je)&&(r=i[je]),null==r&&(r=i[je]=Ji++);const n=255&r,s=1<<n,o=64&n,a=32&n,l=t.data;128&n?o?a?l[e+7]|=s:l[e+6]|=s:a?l[e+5]|=s:l[e+4]|=s:o?a?l[e+3]|=s:l[e+2]|=s:a?l[e+1]|=s:l[e]|=s}(e,t,i)}function sr(e,t,i,r=le.Default,n){if(null!==e){const n=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(je)?e[je]:void 0;return"number"==typeof t&&t>0?255&t:t}(i);if("function"==typeof n){yi(t,e);try{const e=n();if(null!=e||r&le.Optional)return e;throw new Error(`No provider for ${Ki(i)}!`)}finally{ki()}}else if("number"==typeof n){if(-1===n)return new dr(e,t);let s=null,o=ir(e,t),a=-1,l=r&le.Host?t[16][6]:null;for((-1===o||r&le.SkipSelf)&&(a=-1===o?rr(e,t):t[o+8],ur(r,!1)?(s=t[1],o=qi(a),t=Wi(a,t)):o=-1);-1!==o;){a=t[o+8];const e=t[1];if(hr(n,o,e.data)){const e=ar(o,t,i,s,r,l);if(e!==or)return e}ur(r,t[1].data[o+8]===l)&&hr(n,o,t)?(s=e,o=qi(a),t=Wi(a,t)):o=-1}}}if(r&le.Optional&&void 0===n&&(n=null),0==(r&(le.Self|le.Host))){const e=t[9],s=Ke(void 0);try{return e?e.get(i,n,r&le.Optional):Xe(i,n,r&le.Optional)}finally{Ke(s)}}if(r&le.Optional)return n;throw new Error(`NodeInjector: NOT_FOUND [${Ki(i)}]`)}const or={};function ar(e,t,i,r,n,s){const o=t[1],a=o.data[e+8],l=lr(a,o,i,null==r?Ot(a)&&Xi:r!=o&&3===a.type,n&le.Host&&s===a);return null!==l?cr(t,o,l,a):or}function lr(e,t,i,r,n){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,c=s>>20,h=n?a+c:e.directiveEnd;for(let u=r?a:a+c;u<h;u++){const e=o[u];if(u<l&&i===e||u>=l&&e.type===i)return u}if(n){const e=o[l];if(e&&Rt(e)&&e.type===i)return l}return null}function cr(e,t,i,r){let n=e[i];const s=t.data;if(n instanceof Fi){const o=n;if(o.resolving)throw new Error("Circular dep for "+Ki(s[i]));const a=Qi(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=Ke(o.injectImpl)),yi(e,r);try{n=e[i]=o.factory(void 0,s,e,r),t.firstCreatePass&&i>=r.directiveStart&&function(e,t,i){const{ngOnChanges:r,ngOnInit:n,ngDoCheck:s}=t.type.prototype;if(r){const r=It(t);(i.preOrderHooks||(i.preOrderHooks=[])).push(e,r),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,r)}n&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-e,n),s&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,s),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,s))}(i,s[i],t)}finally{o.injectImpl&&Ke(l),Qi(a),o.resolving=!1,ki()}}return n}function hr(e,t,i){const r=64&e,n=32&e;let s;return s=128&e?r?n?i[t+7]:i[t+6]:n?i[t+5]:i[t+4]:r?n?i[t+3]:i[t+2]:n?i[t+1]:i[t],!!(s&1<<e)}function ur(e,t){return!(e&le.Self||e&le.Host&&t)}class dr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return sr(this._tNode,this._lView,e,void 0,t)}}function fr(e){const t=e;if(Ee(e))return()=>{const e=fr(xe(t));return e?e():null};let i=St(t);if(null===i){const e=_e(t);i=e&&e.factory}return i||null}function pr(e){return ie(()=>{const t=e.prototype.constructor,i=t[Ne]||fr(t),r=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==r;){const e=n[Ne]||fr(n);if(e&&e!==i)return e;n=Object.getPrototypeOf(n)}return e=>new e})}function _r(e){return e.ngDebugContext}function mr(e){return e.ngOriginalError}function gr(e,...t){e.error(...t)}class vr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),r=function(e){return e.ngErrorLogger||gr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),i&&r(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?_r(e)?_r(e):this._findContext(mr(e)):null}_findOriginalError(e){let t=mr(e);for(;t&&mr(t);)t=mr(t);return t}}class yr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}function br(e){return e instanceof yr?e.changingThisBreaksApplicationSecurity:e}function wr(e,t){const i=function(e){return e instanceof yr&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see http://g.co/ng/security#xss)`)}return i===t}let Cr=!0,Sr=!1;function kr(){return Sr=!0,Cr}class xr{getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}}class Er{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const i=this.inertDocument.createElement("body");return i.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const i=t.item(r).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Ar=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Or=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Tr(e){return(e=String(e)).match(Ar)||e.match(Or)?e:(kr()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Rr(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function Lr(...e){const t={};for(const i of e)for(const e in i)i.hasOwnProperty(e)&&(t[e]=!0);return t}const Pr=Rr("area,br,col,hr,img,wbr"),Dr=Rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ir=Rr("rp,rt"),Mr=Lr(Ir,Dr),Fr=Lr(Pr,Lr(Dr,Rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lr(Ir,Rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mr),Nr=Rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jr=Rr("srcset"),Br=Lr(Nr,jr,Rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hr=Rr("script,style,template");class Ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Fr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Hr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let n=0;n<i.length;n++){const e=i.item(n),t=e.name,s=t.toLowerCase();if(!Br.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;Nr[s]&&(o=Tr(o)),jr[s]&&(r=o,o=(r=String(r)).split(",").map(e=>Tr(e.trim())).join(", ")),this.buf.push(" ",t,'="',zr(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Fr.hasOwnProperty(t)&&!Pr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(zr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Vr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qr=/([^\#-~ |!])/g;function zr(e){return e.replace(/&/g,"&amp;").replace(Vr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(qr,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wr;function $r(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Kr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Gr(e){const t=Yr();return t?t.sanitize(Kr.HTML,e)||"":wr(e,"HTML")?br(e):function(e,t){let i=null;try{Wr=Wr||function(e){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(e){return!1}}()?new xr:new Er(e)}(e);let r=t?String(t):"";i=Wr.getInertBodyElement(r);let n=5,s=r;do{if(0===n)throw new Error("Failed to sanitize html because the input is unstable");n--,r=s,s=i.innerHTML,i=Wr.getInertBodyElement(r)}while(r!==s);const o=new Ur,a=o.sanitizeChildren($r(i)||i);return kr()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(i){const e=$r(i)||i;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(Bt(),$i(e))}function Zr(e){const t=Yr();return t?t.sanitize(Kr.URL,e)||"":wr(e,"URL")?br(e):Tr($i(e))}function Yr(){const e=ii();return e&&e[12]}function Xr(e,t){e.__ngContext__=t}function Qr(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function Jr(){throw new Error("Cannot mix multi providers and regular providers")}function en(e,t,i){let r=e.length;for(;;){const n=e.indexOf(t,i);if(-1===n)return n;if(0===n||e.charCodeAt(n-1)<=32){const i=t.length;if(n+i===r||e.charCodeAt(n+i)<=32)return n}i=n+1}}function tn(e,t,i){let r=0;for(;r<e.length;){let n=e[r++];if(i&&"class"===n){if(n=e[r],-1!==en(n.toLowerCase(),t,0))return!0}else if(1===n){for(;r<e.length&&"string"==typeof(n=e[r++]);)if(n.toLowerCase()===t)return!0;return!1}}return!1}function rn(e){return 0===e.type&&"ng-template"!==e.tagName}function nn(e,t,i){return t===(0!==e.type||i?e.tagName:"ng-template")}function sn(e,t,i){let r=4;const n=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(ji(e[t]))return t;return e.length}(n);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!nn(e,l,i)||""===l&&1===t.length){if(on(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!tn(e.attrs,c,i)){if(on(r))return!1;o=!0}continue}const h=an(8&r?"class":l,n,rn(e),i);if(-1===h){if(on(r))return!1;o=!0;continue}if(""!==c){let e;e=h>s?"":n[h+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==en(t,c,0)||2&r&&c!==e){if(on(r))return!1;o=!0}}}}else{if(!o&&!on(r)&&!on(l))return!1;if(o&&on(l))continue;o=!1,r=l|1&r}}return on(r)||o}function on(e){return 0==(1&e)}function an(e,t,i,r){if(null===t)return-1;let n=0;if(r||!i){let i=!1;for(;n<t.length;){const r=t[n];if(r===e)return n;if(3===r||6===r)i=!0;else{if(1===r||2===r){let e=t[++n];for(;"string"==typeof e;)e=t[++n];continue}if(4===r)break;if(0===r){n+=4;continue}}n+=i?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const r=e[i];if("number"==typeof r)return-1;if(r===t)return i;i++}return-1}(t,e)}function ln(e,t,i=!1){for(let r=0;r<t.length;r++)if(sn(e,t[r],i))return!0;return!1}function cn(e,t){e:for(let i=0;i<t.length;i++){const r=t[i];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function hn(e,t){return e?":not("+t.trim()+")":t}function un(e){let t=e[0],i=1,r=2,n="",s=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&r){const t=e[++i];n+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?n+="."+o:4&r&&(n+=" "+o);else""===n||on(o)||(t+=hn(s,n),n=""),r=o,s=s||!on(r);i++}return""!==n&&(t+=hn(s,n)),t}const dn={};function fn(e){const t=e[3];return Et(t)?t[3]:t}function pn(e){return mn(e[13])}function _n(e){return mn(e[4])}function mn(e){for(;null!==e&&!Et(e);)e=e[4];return e}function gn(e){vn(ri(),ii(),Ei()+e,ci())}function vn(e,t,i,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&Li(t,r,i)}else{const r=e.preOrderHooks;null!==r&&Pi(t,r,0,i)}Ai(i)}function yn(e,t){return e<<17|t<<2}function bn(e){return e>>17&32767}function wn(e){return 2|e}function Cn(e){return(131068&e)>>2}function Sn(e,t){return-131069&e|t<<2}function kn(e){return 1|e}function xn(e,t){const i=e.contentQueries;if(null!==i)for(let r=0;r<i.length;r+=2){const n=i[r],s=i[r+1];if(-1!==s){const i=e.data[s];vi(n),i.contentQueries(2,t[s],s)}}}function En(e,t,i){return Ht(t)?t.createElement(e,i):null===i?t.createElement(e):t.createElementNS(i,e)}function An(e,t,i,r,n,s,o,a,l,c){const h=t.blueprint.slice();return h[0]=n,h[2]=140|r,Qt(h),h[3]=h[15]=e,h[8]=i,h[10]=o||e&&e[10],h[11]=a||e&&e[11],h[12]=l||e&&e[12]||null,h[9]=c||e&&e[9]||null,h[6]=s,h[16]=2==t.type?e[16]:h,h}function On(e,t,i,r,n,s){const o=i+20,a=e.data[o]||function(e,t,i,r,n,s){const o=si(),a=ai(),l=a?o:o&&o.parent,c=e.data[i]=Bn(0,l&&l!==t?l:null,r,i,n,s);return null===e.firstChild&&(e.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(e,t,o,r,n,s);return oi(a,!0),a}function Tn(e,t,i){bi(t,t[6]);try{const r=e.viewQuery;null!==r&&as(1,r,i);const n=e.template;null!==n&&Pn(e,t,n,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&xn(e,t),e.staticViewQueries&&as(2,e.viewQuery,i);const s=e.components;null!==s&&function(e,t){for(let i=0;i<t.length;i++)is(e,t[i])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,xi()}}function Rn(e,t,i,r){const n=t[2];if(256==(256&n))return;bi(t,t[6]);const s=ci();try{Qt(t),ei.lFrame.bindingIndex=e.bindingStartIndex,null!==i&&Pn(e,t,i,2,r);const o=3==(3&n);if(!s)if(o){const i=e.preOrderCheckHooks;null!==i&&Li(t,i,null)}else{const i=e.preOrderHooks;null!==i&&Pi(t,i,0,null),Di(t,0)}if(function(e){for(let t=pn(e);null!==t;t=_n(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const i=e[t],r=i[3];0==(1024&i[2])&&Jt(r,1),i[2]|=1024}}}(t),function(e){for(let t=pn(e);null!==t;t=_n(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Yt(i)&&Rn(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&xn(e,t),!s)if(o){const i=e.contentCheckHooks;null!==i&&Li(t,i)}else{const i=e.contentHooks;null!==i&&Pi(t,i,1),Di(t,1)}!function(e,t){try{const i=e.expandoInstructions;if(null!==i){let r=e.expandoStartIndex,n=-1,s=-1;for(let e=0;e<i.length;e++){const o=i[e];"number"==typeof o?o<=0?(s=0-o,Ai(s),r+=9+i[++e],n=r):r+=o:(null!==o&&(pi(r,n),o(2,t[n])),n++)}}}finally{Ai(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let i=0;i<t.length;i++)ts(e,t[i])}(t,a);const l=e.viewQuery;if(null!==l&&as(2,l,r),!s)if(o){const i=e.viewCheckHooks;null!==i&&Li(t,i)}else{const i=e.viewHooks;null!==i&&Pi(t,i,2),Di(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Jt(t[3],-1))}finally{xi()}}function Ln(e,t,i,r){const n=t[10],s=!ci(),o=Zt(t);try{s&&!o&&n.begin&&n.begin(),o&&Tn(e,t,r),Rn(e,t,i,r)}finally{s&&!o&&n.end&&n.end()}}function Pn(e,t,i,r,n){const s=Ei();try{Ai(-1),2&r&&t.length>20&&vn(e,t,0,ci()),i(r,n)}finally{Ai(s)}}function Dn(e,t,i){if(At(t)){const r=t.directiveEnd;for(let n=t.directiveStart;n<r;n++){const t=e.data[n];t.contentQueries&&t.contentQueries(1,i[n],n)}}}function In(e,t,i){ti()&&(function(e,t,i,r){const n=i.directiveStart,s=i.directiveEnd;e.firstCreatePass||er(i,t),Xr(r,t);const o=i.initialInputs;for(let a=n;a<s;a++){const r=e.data[a],s=Rt(r);s&&Xn(t,i,r);const l=cr(t,e,a,i);Xr(l,t),null!==o&&Qn(0,a-n,l,r,0,o),s&&(Kt(i.index,t)[8]=l)}}(e,t,i,zt(i,t)),128==(128&i.flags)&&function(e,t,i){const r=i.directiveStart,n=i.directiveEnd,s=e.expandoInstructions,o=e.firstCreatePass,a=i.index-20,l=ei.lFrame.currentDirectiveIndex;try{Ai(a);for(let i=r;i<n;i++){const r=e.data[i],n=t[i];_i(i),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Wn(r,n):o&&s.push(null)}}finally{Ai(-1),_i(l)}}(e,t,i))}function Mn(e,t,i=zt){const r=t.localNames;if(null!==r){let n=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?i(t,e):e[o];e[n++]=a}}}function Fn(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Nn(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Nn(e,t,i,r,n,s,o,a,l,c){const h=20+r,u=h+n,d=function(e,t){const i=[];for(let r=0;r<t;r++)i.push(r<e?null:dn);return i}(h,u);return d[1]={type:e,id:t,blueprint:d,template:i,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function jn(e,t,i,r){const n=cs(t);n.push(i),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(r,n.length-1)}function Bn(e,t,i,r,n,s){return{type:i,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:n,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Hn(e,t,i){for(let r in e)if(e.hasOwnProperty(r)){const n=e[r];(i=null===i?{}:i).hasOwnProperty(r)?i[r].push(t,n):i[r]=[t,n]}return i}function Un(e,t,i,r,n,s,o,a){const l=zt(t,i);let c,h=t.inputs;var u;!a&&null!=h&&(c=h[r])?(ds(e,i,c,r,n),Ot(t)&&function(e,t){const i=Kt(t,e);16&i[2]||(i[2]|=64)}(i,t.index)):3===t.type&&(r="class"===(u=r)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,n=null!=o?o(n,t.tagName||"",r):n,Ht(s)?s.setProperty(l,r,n):Bi(r)||(l.setProperty?l.setProperty(r,n):l[r]=n))}function Vn(e,t,i,r){let n=!1;if(ti()){const s=function(e,t,i){const r=e.directiveRegistry;let n=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ln(i,o.selectors,!1)&&(n||(n=[]),nr(er(i,t),e,o.type),Rt(o)?(2&i.flags&&Qr(i),Kn(e,i),n.unshift(o)):n.push(o))}return n}(e,t,i),o=null===r?null:{"":-1};if(null!==s){let r=0;n=!0,Zn(i,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}$n(e,i,s.length);let a=!1,l=!1;for(let n=0;n<s.length;n++){const c=s[n];i.mergedAttrs=Hi(i.mergedAttrs,c.hostAttrs),Yn(e,t,c),Gn(e.data.length-1,c,o),null!==c.contentQueries&&(i.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(i.flags|=128);const h=c.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index-20),a=!0),l||!h.ngOnChanges&&!h.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index-20),l=!0),qn(e,c),r+=c.hostVars}!function(e,t){const i=t.directiveEnd,r=e.data,n=t.attrs,s=[];let o=null,a=null;for(let l=t.directiveStart;l<i;l++){const e=r[l],i=e.inputs,c=null===n||rn(t)?null:Jn(i,n);s.push(c),o=Hn(i,l,o),a=Hn(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,i),zn(e,t,r)}o&&function(e,t,i){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const n=i[t[e+1]];if(null==n)throw new Error(`Export of name '${t[e+1]}' not found!`);r.push(t[e],n)}}}(i,r,o)}return i.mergedAttrs=Hi(i.mergedAttrs,i.attrs),n}function qn(e,t){const i=e.expandoInstructions;i.push(t.hostBindings),0!==t.hostVars&&i.push(t.hostVars)}function zn(e,t,i){for(let r=0;r<i;r++)t.push(dn),e.blueprint.push(dn),e.data.push(null)}function Wn(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function $n(e,t,i){const r=20-t.index,n=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,n,i)}function Kn(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Gn(e,t,i){if(i){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)i[t.exportAs[r]]=e;Rt(t)&&(i[""]=e)}}function Zn(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function Yn(e,t,i){e.data.push(i);const r=i.factory||(i.factory=St(i.type)),n=new Fi(r,Rt(i),null);e.blueprint.push(n),t.push(n)}function Xn(e,t,i){const r=zt(t,e),n=Fn(i),s=e[10],o=rs(e,An(e,n,null,i.onPush?64:16,r,t,s,s.createRenderer(r,i)));e[t.index]=o}function Qn(e,t,i,r,n,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const n=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(i,a,n,s):i[s]=a}}}function Jn(e,t){let i=null,r=0;for(;r<t.length;){const n=t[r];if(0!==n)if(5!==n){if("number"==typeof n)break;e.hasOwnProperty(n)&&(null===i&&(i=[]),i.push(n,e[n],t[r+1])),r+=2}else r+=2;else r+=4}return i}function es(e,t,i,r){return new Array(e,!0,!1,t,null,0,r,i,null,null)}function ts(e,t){const i=Kt(t,e);if(Yt(i)){const e=i[1];80&i[2]?Rn(e,i,e.template,i[8]):i[5]>0&&function e(t){for(let r=pn(t);null!==r;r=_n(r))for(let t=10;t<r.length;t++){const i=r[t];if(1024&i[2]){const e=i[1];Rn(e,i,e.template,i[8])}else i[5]>0&&e(i)}const i=t[1].components;if(null!==i)for(let r=0;r<i.length;r++){const n=Kt(i[r],t);Yt(n)&&n[5]>0&&e(n)}}(i)}}function is(e,t){const i=Kt(t,e),r=i[1];!function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(r,i),Tn(r,i,i[8])}function rs(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ns(e){for(;e;){e[2]|=64;const t=fn(e);if(Lt(e)&&!t)return e;e=t}return null}function ss(e,t,i){const r=t[10];r.begin&&r.begin();try{Rn(e,t,e.template,i)}catch(n){throw us(t,n),n}finally{r.end&&r.end()}}function os(e){!function(e){for(let t=0;t<e.components.length;t++){const i=e.components[t],r=Gt(i),n=r[1];Ln(n,r,n.template,i)}}(e[8])}function as(e,t,i){vi(0),t(e,i)}const ls=(()=>Promise.resolve(null))();function cs(e){return e[7]||(e[7]=[])}function hs(e,t,i){return(null===e||Rt(e))&&(i=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(i[t.index])),i[11]}function us(e,t){const i=e[9],r=i?i.get(vr,null):null;r&&r.handleError(t)}function ds(e,t,i,r,n){for(let s=0;s<i.length;){const o=i[s++],a=i[s++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,n,r,a):l[a]=n}}function fs(e,t){const i=t[3];return-1===e.index?Et(i)?i:null:i}function ps(e,t){const i=fs(e,t);return i?Es(t[11],i[7]):null}function _s(e,t,i,r,n){if(null!=r){let s,o=!1;Et(r)?s=r:xt(r)&&(o=!0,r=r[0]);const a=Vt(r);0===e&&null!==i?null==n?ks(t,i,a):Ss(t,i,a,n||null):1===e&&null!==i?Ss(t,i,a,n||null):2===e?function(e,t,i){const r=Es(e,t);r&&function(e,t,i,r){Ht(e)?e.removeChild(t,i,r):t.removeChild(i)}(e,r,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,i,r,n){const s=i[7];s!==Vt(i)&&_s(t,e,r,s,n);for(let o=10;o<i.length;o++){const n=i[o];Ls(n[1],n,e,t,r,s)}}(t,e,s,i,n)}}function ms(e,t,i,r){const n=ps(e.node,t);n&&Ls(e,t,t[11],i?1:2,n,r)}function gs(e,t){const i=e[9],r=i.indexOf(t);1024&t[2]&&Jt(t[3],-1),i.splice(r,1)}function vs(e,t){if(e.length<=10)return;const i=10+t,r=e[i];if(r){const n=r[17];null!==n&&n!==e&&gs(n,r),t>0&&(e[i-1][4]=r[4]);const s=nt(e,10+t);ms(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ys(e,t){if(!(256&t[2])){const i=t[11];Ht(i)&&i.destroyNode&&Ls(e,t,i,3,null,null),function(e){let t=e[13];if(!t)return ws(e[1],e);for(;t;){let i=null;if(xt(t))i=t[13];else{const e=t[10];e&&(i=e)}if(!i){for(;t&&!t[4]&&t!==e;)xt(t)&&ws(t[1],t),t=bs(t,e);null===t&&(t=e),xt(t)&&ws(t[1],t),i=t&&t[4]}t=i}}(t)}}function bs(e,t){let i;return xt(e)&&(i=e[6])&&2===i.type?fs(i,e):e[3]===t?null:e[3]}function ws(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let r=0;r<i.length;r+=2){const e=t[i[r]];if(!(e instanceof Fi)){const t=i[r+1];if(Array.isArray(t))for(let i=0;i<t.length;i+=2)t[i+1].call(e[t[i]]);else t.call(e)}}}(e,t),function(e,t){const i=e.cleanup;if(null!==i){const e=t[7];for(let r=0;r<i.length-1;r+=2)if("string"==typeof i[r]){const n=i[r+1],s="function"==typeof n?n(t):Vt(t[n]),o=e[i[r+2]],a=i[r+3];"boolean"==typeof a?s.removeEventListener(i[r],o,a):a>=0?e[a]():e[-a].unsubscribe(),r+=2}else i[r].call(e[i[r+1]]);t[7]=null}}(e,t);const i=t[6];i&&3===i.type&&Ht(t[11])&&t[11].destroy();const r=t[17];if(null!==r&&Et(t[3])){r!==t[3]&&gs(r,t);const i=t[19];null!==i&&i.detachView(e)}}}function Cs(e,t,i){let r=t.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){const e=i[6];return 2===e.type?ps(e,i):i[0]}if(t&&5===t.type&&4&t.flags)return zt(t,i).parentNode;if(2&r.flags){const t=e.data,i=t[t[r.index].directiveStart].encapsulation;if(i!==ht.ShadowDom&&i!==ht.Native)return null}return zt(r,i)}function Ss(e,t,i,r){Ht(e)?e.insertBefore(t,i,r):t.insertBefore(i,r,!0)}function ks(e,t,i){Ht(e)?e.appendChild(t,i):t.appendChild(i)}function xs(e,t,i,r){null!==r?Ss(e,t,i,r):ks(e,t,i)}function Es(e,t){return Ht(e)?e.parentNode(t):t.parentNode}function As(e,t){if(2===e.type){const i=fs(e,t);return null===i?null:Ts(i.indexOf(t,10)-10,i)}return 4===e.type||5===e.type?zt(e,t):null}function Os(e,t,i,r){const n=Cs(e,r,t);if(null!=n){const e=t[11],s=As(r.parent||t[6],t);if(Array.isArray(i))for(let t=0;t<i.length;t++)xs(e,n,i[t],s);else xs(e,n,i,s)}}function Ts(e,t){const i=10+e+1;if(i<t.length){const e=t[i],r=e[1].firstChild;if(null!==r)return function e(t,i){if(null!==i){const r=i.type;if(3===r)return zt(i,t);if(0===r)return Ts(-1,t[i.index]);if(4===r||5===r){const r=i.child;if(null!==r)return e(t,r);{const e=t[i.index];return Et(e)?Ts(-1,e):Vt(e)}}{const r=t[16],n=r[6],s=fn(r),o=n.projection[i.projection];return null!=o?e(s,o):e(t,i.next)}}return null}(e,r)}return t[7]}function Rs(e,t,i,r,n,s,o){for(;null!=i;){const a=r[i.index],l=i.type;o&&0===t&&(a&&Xr(Vt(a),r),i.flags|=4),64!=(64&i.flags)&&(4===l||5===l?(Rs(e,t,i.child,r,n,s,!1),_s(t,e,n,a,s)):1===l?Ps(e,t,r,i,n,s):_s(t,e,n,a,s)),i=o?i.projectionNext:i.next}}function Ls(e,t,i,r,n,s){Rs(i,r,e.node.child,t,n,s,!1)}function Ps(e,t,i,r,n,s){const o=i[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)_s(t,e,n,a[l],s);else Rs(e,t,a,o[3],n,s,!0)}function Ds(e,t,i){Ht(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function Is(e,t,i){Ht(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}class Ms{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView;return null==e[0]?function e(t,i,r,n,s=!1){for(;null!==r;){const o=i[r.index];if(null!==o&&n.push(Vt(o)),Et(o))for(let t=10;t<o.length;t++){const i=o[t],r=i[1].firstChild;null!==r&&e(i[1],i,r,n)}const a=r.type;if(4===a||5===a)e(t,i,r.child,n);else if(1===a){const t=i[16],s=t[6].projection[r.projection];if(Array.isArray(s))n.push(...s);else{const i=fn(t);e(i[1],i,s,n,!0)}}r=s?r.projectionNext:r.next}return n}(e[1],e,e[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}ys(this._lView[1],this._lView)}onDestroy(e){jn(this._lView[1],this._lView,null,e)}markForCheck(){ns(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ss(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,i){hi(!0);try{ss(e,t,i)}finally{hi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Ls(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Fs extends Ms{constructor(e){super(e),this._view=e}detectChanges(){os(this._view)}checkNoChanges(){!function(e){hi(!0);try{os(e)}finally{hi(!1)}}(this._view)}get context(){return null}}let Ns,js,Bs;function Hs(e,t,i){return Ns||(Ns=class extends e{}),new Ns(zt(t,i))}function Us(e,t,i,r){return js||(js=class extends e{constructor(e,t,i){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=An(this._declarationView,t,e,16,null,t.node);i[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(i[19]=r.createEmbeddedView(t)),Tn(t,i,e),new Ms(i)}}),0===i.type?new js(r,i,Hs(t,i,r)):null}function Vs(e,t,i,r){let n;Bs||(Bs=class extends e{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostView=i}get element(){return Hs(t,this._hostTNode,this._hostView)}get injector(){return new dr(this._hostTNode,this._hostView)}get parentInjector(){const e=rr(this._hostTNode,this._hostView),t=Wi(e,this._hostView),i=function(e,t,i){if(i.parent&&-1!==i.parent.injectorIndex){const e=i.parent.injectorIndex;let t=i.parent;for(;null!=t.parent&&e==t.parent.injectorIndex;)t=t.parent;return t}let r=zi(e),n=t,s=t[6];for(;r>1;)n=n[15],s=n[6],r--;return s}(e,this._hostView,this._hostTNode);return Vi(e)&&null!=i?new dr(i,t):new dr(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,n){const s=i||this.parentInjector;if(!n&&null==e.ngModule&&s){const e=s.get(et,null);e&&(n=e)}const o=e.create(s,r,void 0,n);return this.insert(o.hostView,t),o}insert(e,t){const i=e._lView,r=i[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Et(i[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=i[3],r=new Bs(t,t[6],t[3]);r.detach(r.indexOf(e))}}const n=this._adjustIndex(t);return function(e,t,i,r){const n=10+r,s=i.length;r>0&&(i[n-1][4]=t),r<s-10?(t[4]=i[n],rt(i,10+r,t)):(i.push(t),t[4]=null),t[3]=i;const o=t[17];null!==o&&i!==o&&function(e,t){const i=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===i?e[9]=[t]:i.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,i,this._lContainer,n),ms(r,i,!0,Ts(n,this._lContainer)),e.attachToViewContainerRef(this),rt(this._lContainer[8],n,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),i=vs(this._lContainer,t);i&&(nt(this._lContainer[8],t),ys(i[1],i))}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),i=vs(this._lContainer,t);return i&&null!=nt(this._lContainer[8],t)?new Ms(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[i.index];if(Et(s))n=s;else{let e;if(4===i.type)e=Vt(s);else if(e=r[11].createComment(""),Lt(r)){const t=r[11],n=zt(i,r);Ss(t,Es(t,n),e,function(e,t){return Ht(e)?e.nextSibling(t):t.nextSibling}(t,n))}else Os(r[1],r,e,i);r[i.index]=n=es(s,r,e,i),rs(r,n)}return new Bs(n,i,r)}function qs(e=!1){return function(e,t,i){if(!i&&Ot(e)){const i=Kt(e.index,t);return new Ms(i,i)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Ms(t[16],t):null}(si(),ii(),e)}let zs=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ws(),e})();const Ws=qs,$s=Function,Ks=new Be("Set Injector scope."),Gs={},Zs={},Ys=[];let Xs=void 0;function Qs(){return void 0===Xs&&(Xs=new Je),Xs}function Js(e,t=null,i=null,r){return new eo(e,i,t||Qs(),r)}class eo{constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const n=[];t&&it(t,i=>this.processProvider(i,e,t)),it([e],e=>this.processInjectorType(e,[],n)),this.records.set(He,ro(void 0,this));const s=this.records.get(Ks);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:we(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Ue,i=le.Default){this.assertNotDestroyed();const r=$e(this);try{if(!(i&le.SkipSelf)){let t=this.records.get(e);if(void 0===t){const i=("function"==typeof(n=e)||"object"==typeof n&&n instanceof Be)&&fe(e);t=i&&this.injectableDefInScope(i)?ro(to(e),Gs):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(i&le.Self?Qs():this.parent).get(e,t=i&le.Optional&&t===Ue?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(we(e)),r)throw s;return function(e,t,i,r){const n=e.ngTempTokenPath;throw t.__source&&n.unshift(t.__source),e.message=function(e,t,i,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let n=we(t);if(Array.isArray(t))n=t.map(we).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];e.push(i+":"+("string"==typeof r?JSON.stringify(r):we(r)))}n=`{${e.join(", ")}}`}return`${i}${r?"("+r+")":""}[${n}]: ${e.replace(Ve,"\n  ")}`}("\n"+e.message,n,i,r),e.ngTokenPath=n,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{$e(r)}var n}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,i)=>e.push(we(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=xe(e)))return!1;let r=_e(e);const n=null==r&&e.ngModule||void 0,s=void 0===n?e:n,o=-1!==i.indexOf(s);if(void 0!==n&&(r=_e(n)),null==r)return!1;if(null!=r.imports&&!o){let e;i.push(s);try{it(r.imports,r=>{this.processInjectorType(r,t,i)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:i,providers:r}=e[t];it(r,e=>this.processProvider(e,i,r||Ys))}}this.injectorDefTypes.add(s),this.records.set(s,ro(r.factory,Gs));const a=r.providers;if(null!=a&&!o){const t=e;it(a,e=>this.processProvider(e,t,a))}return void 0!==n&&void 0!==e.providers}processProvider(e,t,i){let r=so(e=xe(e))?e:xe(e&&e.provide);const n=function(e,t,i){return no(e)?ro(void 0,e.useValue):ro(io(e,t,i),Gs)}(e,t,i);if(so(e)||!0!==e.multi){const e=this.records.get(r);e&&void 0!==e.multi&&Jr()}else{let t=this.records.get(r);t?void 0===t.multi&&Jr():(t=ro(void 0,Gs,!0),t.factory=()=>Qe(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,n)}hydrate(e,t){var i;return t.value===Zs?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(we(e)):t.value===Gs&&(t.value=Zs,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(i=t.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function to(e){const t=fe(e),i=null!==t?t.factory:St(e);if(null!==i)return i;const r=_e(e);if(null!==r)return r.factory;if(e instanceof Be)throw new Error(`Token ${we(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=st(t,"?");throw new Error(`Can't resolve all parameters for ${we(e)}: (${i.join(", ")}).`)}const i=function(e){const t=e&&(e[me]||e[ye]||e[ve]&&e[ve]());if(t){const i=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),t}return null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Error("unreachable")}function io(e,t,i){let r=void 0;if(so(e)){const t=xe(e);return St(t)||to(t)}if(no(e))r=()=>xe(e.useValue);else if((n=e)&&n.useFactory)r=()=>e.useFactory(...Qe(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Ze(xe(e.useExisting));else{const n=xe(e&&(e.useClass||e.provide));if(n||function(e,t,i){let r="";throw e&&t&&(r=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==i?"?"+i+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${we(e)}'`+r)}(t,i,e),!function(e){return!!e.deps}(e))return St(n)||to(n);r=()=>new n(...Qe(e.deps))}var n;return r}function ro(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function no(e){return null!==e&&"object"==typeof e&&qe in e}function so(e){return"function"==typeof e}const oo=function(e,t,i){return function(e,t=null,i=null,r){const n=Js(e,t,i,r);return n._resolveInjectorDefTypes(),n}({name:i},t,e,i)};let ao=(()=>{class e{static create(e,t){return Array.isArray(e)?oo(e,t,""):oo(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Ue,e.NULL=new Je,e.\u0275prov=ue({token:e,providedIn:"any",factory:()=>Ze(He)}),e.__NG_ELEMENT_ID__=-1,e})();const lo=new Be("AnalyzeForEntryComponents");function co(e,t,i){let r=i?e.styles:null,n=i?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?n=Ce(n,e):2==s&&(r=Ce(r,e+": "+t[++o]+";"))}i?e.styles=r:e.stylesWithoutHost=r,i?e.classes=n:e.classesWithoutHost=n}let ho=null;function uo(){if(!ho){const e=Le.Symbol;if(e&&e.iterator)ho=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ho=i)}}}return ho}class fo{constructor(e){this.wrapped=e}static wrap(e){return new fo(e)}static unwrap(e){return fo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof fo}}function po(e){return!!_o(e)&&(Array.isArray(e)||!(e instanceof Map)&&uo()in e)}function _o(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function mo(e,t,i){return e[t]=i}function go(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function vo(e,t,i,r){const n=ii();return go(n,di(),t)&&(ri(),function(e,t,i,r,n,s){const o=zt(e,t),a=t[11];if(null==r)Ht(a)?a.removeAttribute(o,i,s):o.removeAttribute(i);else{const t=null==n?$i(r):n(r,e.tagName||"",i);Ht(a)?a.setAttribute(o,i,t,s):s?o.setAttributeNS(s,i,t):o.setAttribute(i,t)}}(Oi(),n,e,t,i,r)),vo}function yo(e,t,i,r){return go(e,di(),i)?t+$i(i)+r:dn}function bo(e,t,i,r,n,s,o,a){const l=ii(),c=ri(),h=e+20,u=c.firstCreatePass?function(e,t,i,r,n,s,o,a,l){const c=t.consts,h=On(t,i[6],e,0,o||null,Xt(c,a));Vn(t,i,h,Xt(c,l)),Ri(t,h);const u=h.tViews=Nn(2,-1,r,n,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),d=Bn(0,null,2,-1,null,null);return d.injectorIndex=h.injectorIndex,u.node=d,null!==t.queries&&(t.queries.template(t,h),u.queries=t.queries.embeddedTView(h)),h}(e,c,l,t,i,r,n,s,o):c.data[h];oi(u,!1);const d=l[11].createComment("");Os(c,l,d,u),Xr(d,l),rs(l,l[h]=es(d,l,d,u)),Tt(u)&&In(c,l,u),null!=o&&Mn(l,u,a)}function wo(e){return $t(ei.lFrame.contextLView,e)}function Co(e,t=le.Default){const i=ii();return null==i?Ze(e,t):sr(si(),i,xe(e),t)}function So(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const e=i.length;let r=0;for(;r<e;){const n=i[r];if(ji(n))break;if(0===n)r+=2;else if("number"==typeof n)for(r++;r<e&&"string"==typeof i[r];)r++;else{if(n===t)return i[r+1];r+=2}}}return null}(si(),e)}function ko(e,t,i){const r=ii();return go(r,di(),t)&&Un(ri(),Oi(),r,e,t,r[11],i,!1),ko}function xo(e,t,i,r,n){const s=n?"class":"style";ds(e,i,t.inputs[s],s,r)}function Eo(e,t,i,r){const n=ii(),s=ri(),o=20+e,a=n[11],l=n[o]=En(t,a,ei.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,i,r,n,s,o){const a=t.consts,l=Xt(a,s),c=On(t,i[6],e,3,n,l);return Vn(t,i,c,Xt(a,o)),null!==c.attrs&&co(c,c.attrs,!1),null!==c.mergedAttrs&&co(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,s,n,0,t,i,r):s.data[o];oi(c,!0);const h=c.mergedAttrs;null!==h&&Ni(a,l,h);const u=c.classes;null!==u&&Is(a,l,u);const d=c.styles;null!==d&&Ds(a,l,d),Os(s,n,l,c),0===ei.lFrame.elementDepthCount&&Xr(l,n),ei.lFrame.elementDepthCount++,Tt(c)&&(In(s,n,c),Dn(s,c,n)),null!==r&&Mn(n,c)}function Ao(){let e=si();ai()?li():(e=e.parent,oi(e,!1));const t=e;ei.lFrame.elementDepthCount--;const i=ri();i.firstCreatePass&&(Ri(i,e),At(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&xo(i,t,ii(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&xo(i,t,ii(),t.stylesWithoutHost,!1)}function Oo(e,t,i,r){Eo(e,t,i,r),Ao()}function To(e,t,i){const r=ii(),n=ri(),s=e+20,o=n.firstCreatePass?function(e,t,i,r,n){const s=t.consts,o=Xt(s,r),a=On(t,i[6],e,4,"ng-container",o);return null!==o&&co(a,o,!0),Vn(t,i,a,Xt(s,n)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,n,r,t,i):n.data[s];oi(o,!0);const a=r[s]=r[11].createComment("");Os(n,r,a,o),Xr(a,r),Tt(o)&&(In(n,r,o),Dn(n,o,r)),null!=i&&Mn(r,o)}function Ro(){let e=si();const t=ri();ai()?li():(e=e.parent,oi(e,!1)),t.firstCreatePass&&(Ri(t,e),At(e)&&t.queries.elementEnd(e))}function Lo(){return ii()}function Po(e){return!!e&&"function"==typeof e.then}function Do(e){return!!e&&"function"==typeof e.subscribe}function Io(e,t,i=!1,r){const n=ii(),s=ri(),o=si();return Fo(s,n,n[11],o,e,t,i,r),Io}function Mo(e,t,i=!1,r){const n=si(),s=ii(),o=ri();return Fo(o,s,hs(mi(o.data),n,s),n,e,t,i,r),Mo}function Fo(e,t,i,r,n,s,o=!1,a){const l=Tt(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),h=cs(t);let u=!0;if(3===r.type){const d=zt(r,t),f=a?a(d):ut,p=f.target||d,_=h.length,m=a?e=>a(Vt(e[r.index])).target:r.index;if(Ht(i)){let o=null;if(!a&&l&&(o=function(e,t,i,r){const n=e.cleanup;if(null!=n)for(let s=0;s<n.length-1;s+=2){const e=n[s];if(e===i&&n[s+1]===r){const e=t[7],i=n[s+2];return e.length>i?e[i]:null}"string"==typeof e&&(s+=2)}return null}(e,t,n,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,u=!1;else{s=jo(r,t,s,!1);const e=i.listen(f.name||p,n,s);h.push(s,e),c&&c.push(n,m,_,_+1)}}else s=jo(r,t,s,!0),p.addEventListener(n,s,o),h.push(s),c&&c.push(n,m,_,o)}const d=r.outputs;let f;if(u&&null!==d&&(f=d[n])){const e=f.length;if(e)for(let i=0;i<e;i+=2){const e=t[f[i]][f[i+1]].subscribe(s),o=h.length;h.push(s,e),c&&c.push(n,r.index,o,-(o+1))}}}function No(e,t,i){try{return!1!==t(i)}catch(r){return us(e,r),!1}}function jo(e,t,i,r){return function n(s){if(s===Function)return i;const o=2&e.flags?Kt(e.index,t):t;0==(32&t[2])&&ns(o);let a=No(t,i,s),l=n.__ngNextListenerFn__;for(;l;)a=No(t,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Bo(e=1){return function(e){return(ei.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,ei.lFrame.contextLView))[8]}(e)}function Ho(e,t){let i=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let n=0;n<t.length;n++){const s=t[n];if("*"!==s){if(null===r?ln(e,s,!0):cn(r,s))return n}else i=n}return i}function Uo(e){const t=ii()[16][6];if(!t.projection){const i=t.projection=st(e?e.length:1,null),r=i.slice();let n=t.child;for(;null!==n;){const t=e?Ho(n,e):0;null!==t&&(r[t]?r[t].projectionNext=n:i[t]=n,r[t]=n),n=n.next}}}function Vo(e,t=0,i){const r=ii(),n=ri(),s=On(n,r[6],e,1,null,i||null);null===s.projection&&(s.projection=t),li(),function(e,t,i){Ps(t[11],0,t,i,Cs(e,i,t),As(i.parent||t[6],t))}(n,r,s)}const qo=[];function zo(e,t,i,r,n){const s=e[i+1],o=null===t;let a=r?bn(s):Cn(s),l=!1;for(;0!==a&&(!1===l||o);){const i=e[a+1];Wo(e[a],t)&&(l=!0,e[a+1]=r?kn(i):wn(i)),a=r?bn(i):Cn(i)}l&&(e[i+1]=r?wn(s):kn(s))}function Wo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&lt(e,t)>=0}const $o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ko(e){return e.substring($o.key,$o.keyEnd)}function Go(e,t){const i=$o.textEnd;return i===t?-1:(t=$o.keyEnd=function(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,$o.key=t,i),Zo(e,t,i))}function Zo(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function Yo(e,t,i){return ea(e,t,i,!1),Yo}function Xo(e,t){return ea(e,t,null,!0),Xo}function Qo(e){ta(ot,Jo,e,!0)}function Jo(e,t){for(let i=function(e){return function(e){$o.key=0,$o.keyEnd=0,$o.value=0,$o.valueEnd=0,$o.textEnd=e.length}(e),Go(e,Zo(e,0,$o.textEnd))}(t);i>=0;i=Go(t,i))ot(e,Ko(t),!0)}function ea(e,t,i,r){const n=ii(),s=ri(),o=fi(2);s.firstUpdatePass&&ra(s,e,o,r),t!==dn&&go(n,o,t)&&oa(s,s.data[Ei()+20],n,n[11],e,n[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=we(br(e)))),e}(t,i),r,o)}function ta(e,t,i,r){const n=ri(),s=fi(2);n.firstUpdatePass&&ra(n,null,s,r);const o=ii();if(i!==dn&&go(o,s,i)){const a=n.data[Ei()+20];if(ca(a,r)&&!ia(n,s)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(i=Ce(e,i||"")),xo(n,a,o,i,r)}else!function(e,t,i,r,n,s,o,a){n===dn&&(n=qo);let l=0,c=0,h=0<n.length?n[0]:null,u=0<s.length?s[0]:null;for(;null!==h||null!==u;){const d=l<n.length?n[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let p=null,_=void 0;h===u?(l+=2,c+=2,d!==f&&(p=u,_=f)):null===u||null!==h&&h<u?(l+=2,p=h):(c+=2,p=u,_=f),null!==p&&oa(e,t,i,r,p,_,o,a),h=l<n.length?n[l]:null,u=c<s.length?s[c]:null}}(n,a,o,o[11],o[s+1],o[s+1]=function(e,t,i){if(null==i||""===i)return qo;const r=[],n=br(i);if(Array.isArray(n))for(let s=0;s<n.length;s++)e(r,n[s],!0);else if("object"==typeof n)for(const s in n)n.hasOwnProperty(s)&&e(r,s,n[s]);else"string"==typeof n&&t(r,n);return r}(e,t,i),r,s)}}function ia(e,t){return t>=e.expandoStartIndex}function ra(e,t,i,r){const n=e.data;if(null===n[i+1]){const s=n[Ei()+20],o=ia(e,i);ca(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,i,r){const n=mi(e);let s=r?t.residualClasses:t.residualStyles;if(null===n)0===(r?t.classBindings:t.styleBindings)&&(i=sa(i=na(null,e,t,i,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==n)if(i=na(n,e,t,i,r),null===s){let i=function(e,t,i){const r=i?t.classBindings:t.styleBindings;if(0!==Cn(r))return e[bn(r)]}(e,t,r);void 0!==i&&Array.isArray(i)&&(i=na(null,e,t,i[1],r),i=sa(i,t.attrs,r),function(e,t,i,r){e[bn(i?t.classBindings:t.styleBindings)]=r}(e,t,r,i))}else s=function(e,t,i){let r=void 0;const n=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<n;s++)r=sa(r,e[s].hostAttrs,i);return sa(r,t.attrs,i)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),i}(n,s,t,r),function(e,t,i,r,n,s){let o=s?t.classBindings:t.styleBindings,a=bn(o),l=Cn(o);e[r]=i;let c,h=!1;if(Array.isArray(i)){const e=i;c=e[1],(null===c||lt(e,c)>0)&&(h=!0)}else c=i;if(n)if(0!==l){const t=bn(e[a+1]);e[r+1]=yn(t,a),0!==t&&(e[t+1]=Sn(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=yn(a,0),0!==a&&(e[a+1]=Sn(e[a+1],r)),a=r;else e[r+1]=yn(l,0),0===a?a=r:e[l+1]=Sn(e[l+1],r),l=r;h&&(e[r+1]=wn(e[r+1])),zo(e,c,r,!0),zo(e,c,r,!1),function(e,t,i,r,n){const s=n?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&lt(s,t)>=0&&(i[r+1]=kn(i[r+1]))}(t,c,e,r,s),o=yn(a,l),s?t.classBindings=o:t.styleBindings=o}(n,s,t,i,o,r)}}function na(e,t,i,r,n){let s=null;const o=i.directiveEnd;let a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(s=t[a],r=sa(r,s.hostAttrs,n),s!==e);)a++;return null!==e&&(i.directiveStylingLast=a),r}function sa(e,t,i){const r=i?1:2;let n=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?n=o:n===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ot(e,o,!!i||t[++s]))}return void 0===e?null:e}function oa(e,t,i,r,n,s,o,a){if(3!==t.type)return;const l=e.data,c=l[a+1];la(1==(1&c)?aa(l,t,i,n,Cn(c),o):void 0)||(la(s)||function(e){return 2==(2&e)}(c)&&(s=aa(l,null,i,n,a,o)),function(e,t,i,r,n){const s=Ht(e);if(t)n?s?e.addClass(i,r):i.classList.add(r):s?e.removeClass(i,r):i.classList.remove(r);else{const t=-1==r.indexOf("-")?void 0:2;null==n?s?e.removeStyle(i,r,t):i.style.removeProperty(r):s?e.setStyle(i,r,n,t):i.style.setProperty(r,n)}}(r,o,qt(Ei(),i),n,s))}function aa(e,t,i,r,n,s){const o=null===t;let a=void 0;for(;n>0;){const t=e[n],s=Array.isArray(t),l=s?t[1]:t,c=null===l;let h=i[n+1];h===dn&&(h=c?qo:void 0);let u=c?at(h,r):l===r?h:void 0;if(s&&!la(u)&&(u=at(t,r)),la(u)&&(a=u,o))return a;const d=e[n+1];n=o?bn(d):Cn(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=at(e,r))}return a}function la(e){return void 0!==e}function ca(e,t){return 0!=(e.flags&(t?16:32))}function ha(e,t=""){const i=ii(),r=ri(),n=e+20,s=r.firstCreatePass?On(r,i[6],e,3,null,null):r.data[n],o=i[n]=function(e,t){return Ht(t)?t.createText(e):t.createTextNode(e)}(t,i[11]);Os(r,i,o,s),oi(s,!1)}function ua(e){return da("",e,""),ua}function da(e,t,i){const r=ii(),n=yo(r,e,t,i);return n!==dn&&function(e,t,i){const r=qt(t,e),n=e[11];Ht(n)?n.setValue(r,i):r.textContent=i}(r,Ei(),n),da}function fa(e,t,i){const r=ii();return go(r,di(),t)&&Un(ri(),Oi(),r,e,t,r[11],i,!0),fa}function pa(e,t,i){const r=ii();if(go(r,di(),t)){const n=ri(),s=Oi();Un(n,s,r,e,t,hs(mi(n.data),s,r),i,!0)}return pa}function _a(e,t){const i=Gt(e)[1],r=i.data.length-1;Ri(i,{directiveStart:r,directiveEnd:r+1})}function ma(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,i=!0;const r=[e];for(;t;){let n=void 0;if(Rt(e))n=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");n=t.\u0275dir}if(n){if(i){r.push(n);const t=e;t.inputs=ga(e.inputs),t.declaredInputs=ga(e.declaredInputs),t.outputs=ga(e.outputs);const i=n.hostBindings;i&&ba(e,i);const s=n.viewQuery,o=n.contentQueries;if(s&&va(e,s),o&&ya(e,o),he(e.inputs,n.inputs),he(e.declaredInputs,n.declaredInputs),he(e.outputs,n.outputs),Rt(n)&&n.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(n.data.animation)}}const t=n.features;if(t)for(let r=0;r<t.length;r++){const n=t[r];n&&n.ngInherit&&n(e),n===ma&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let r=e.length-1;r>=0;r--){const n=e[r];n.hostVars=t+=n.hostVars,n.hostAttrs=Hi(n.hostAttrs,i=Hi(i,n.hostAttrs))}}(r)}function ga(e){return e===ut?{}:e===dt?[]:e}function va(e,t){const i=e.viewQuery;e.viewQuery=i?(e,r)=>{t(e,r),i(e,r)}:t}function ya(e,t){const i=e.contentQueries;e.contentQueries=i?(e,r,n)=>{t(e,r,n),i(e,r,n)}:t}function ba(e,t){const i=e.hostBindings;e.hostBindings=i?(e,r)=>{t(e,r),i(e,r)}:t}function wa(e,t,i,r,n){if(e=xe(e),Array.isArray(e))for(let s=0;s<e.length;s++)wa(e[s],t,i,r,n);else{const s=ri(),o=ii();let a=so(e)?e:xe(e.provide),l=io(e);const c=si(),h=1048575&c.providerIndexes,u=c.directiveStart,d=c.providerIndexes>>20;if(so(e)||!e.multi){const r=new Fi(l,n,Co),f=ka(a,t,n?h:h+d,u);-1===f?(nr(er(c,o),s,a),Ca(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,n&&(c.providerIndexes+=1048576),i.push(r),o.push(r)):(i[f]=r,o[f]=r)}else{const f=ka(a,t,h+d,u),p=ka(a,t,h,h+d),_=f>=0&&i[f],m=p>=0&&i[p];if(n&&!m||!n&&!_){nr(er(c,o),s,a);const h=function(e,t,i,r,n){const s=new Fi(e,i,Co);return s.multi=[],s.index=t,s.componentProviders=0,Sa(s,n,r&&!i),s}(n?Ea:xa,i.length,n,r,l);!n&&m&&(i[p].providerFactory=h),Ca(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,n&&(c.providerIndexes+=1048576),i.push(h),o.push(h)}else Ca(s,e,f>-1?f:p,Sa(i[n?p:f],l,!n&&r));!n&&r&&m&&i[p].componentProviders++}}}function Ca(e,t,i,r){const n=so(t);if(n||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!n&&t.multi){const e=o.indexOf(i);-1===e?o.push(i,[r,s]):o[e+1].push(r,s)}else o.push(i,s)}}}function Sa(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function ka(e,t,i,r){for(let n=i;n<r;n++)if(t[n]===e)return n;return-1}function xa(e,t,i,r){return Aa(this.multi,[])}function Ea(e,t,i,r){const n=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=cr(i,i[1],this.providerFactory.index,r);s=t.slice(0,e),Aa(n,s);for(let i=e;i<t.length;i++)s.push(t[i])}else s=[],Aa(n,s);return s}function Aa(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function Oa(e,t=[]){return i=>{i.providersResolver=(i,r)=>function(e,t,i){const r=ri();if(r.firstCreatePass){const n=Rt(e);wa(i,r.data,r.blueprint,n,!0),wa(t,r.data,r.blueprint,n,!1)}}(i,r?r(e):e,t)}}class Ta{}class Ra{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${we(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let La=(()=>{class e{}return e.NULL=new Ra,e})(),Pa=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>Da(e),e})();const Da=function(e){return Hs(e,si(),ii())};class Ia{}var Ma=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Fa=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Na(),e})();const Na=function(){const e=ii(),t=Kt(si().index,e);return function(e){const t=e[11];if(Ht(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(xt(t)?t:e)};let ja=(()=>{class e{}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>null}),e})();class Ba{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ha=new Ba("10.0.14");class Ua{constructor(){}supports(e){return po(e)}create(e){return new qa(e)}}const Va=(e,t)=>t;class qa{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Va}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,n=null;for(;t||i;){const s=!i||t&&t.currentIndex<Ka(i,r,n)?t:i,o=Ka(s,r,n),a=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{n||(n=[]);const e=o-r,t=a-r;if(e!=t){for(let i=0;i<e;i++){const r=i<n.length?n[i]:n[i]=0,s=r+i;t<=s&&s<e&&(n[i]=r+1)}n[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!po(e))throw new Error(`Error trying to diff '${we(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,r,n=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],r=this._trackByFn(t,i),null!==n&&Object.is(n.trackById,r)?(s&&(n=this._verifyReinsertion(n,i,r,t)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,r,t),s=!0),n=n._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[uo()]();let r;for(;!(r=i.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==n&&Object.is(n.trackById,r)?(s&&(n=this._verifyReinsertion(n,e,r,t)),Object.is(n.item,e)||this._addIdentityChange(n,e)):(n=this._mismatch(n,e,r,t),s=!0),n=n._next,t++}),this.length=t;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let n;return null===e?n=this._itTail:(n=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,n,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,n,r)):e=this._addAfter(new za(t,i),n,r),e}_verifyReinsertion(e,t,i,r){let n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==n?e=this._reinsertAfter(n,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,n=e._nextRemoved;return null===r?this._removalsHead=n:r._nextRemoved=n,null===n?this._removalsTail=r:n._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new $a),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $a),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class za{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wa{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class $a{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Wa,this.map.set(t,i)),i.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ka(e,t,i){const r=e.previousIndex;if(null===r)return r;let n=0;return i&&r<i.length&&(n=i[r]),r+t+n}class Ga{constructor(){}supports(e){return e instanceof Map||_o(e)}create(){return new Za}}class Za{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||_o(e)))throw new Error(`Error trying to diff '${we(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const r=i._prev,n=i._next;return r&&(r._next=n),n&&(n._prev=r),i._next=null,i._prev=null,i}const i=new Ya(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class Ya{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Xa=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(null!=i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,i)},deps:[[e,new ae,new se]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${i=e,i.name||typeof i}'`);var i}}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new e([new Ua])}),e})(),Qa=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,i)},deps:[[e,new ae,new se]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new e([new Ga])}),e})();const Ja=[new Ga],el=new Xa([new Ua]),tl=new Qa(Ja);let il=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>rl(e,Pa),e})();const rl=function(e,t){return Us(e,t,si(),ii())};let nl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>sl(e,Pa),e})();const sl=function(e,t){return Vs(e,t,si(),ii())},ol={};class al extends La{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ct(e);return new hl(t,this.ngModule)}}function ll(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}const cl=new Be("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Gi});class hl extends Ta{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(un).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return ll(this.componentDef.inputs)}get outputs(){return ll(this.componentDef.outputs)}create(e,t,i,r){const n=(r=r||this.ngModule)?function(e,t){return{get:(i,r,n)=>{const s=e.get(i,ol,n);return s!==ol||r===ol?s:t.get(i,r,n)}}}(e,r.injector):e,s=n.get(Ia,Ut),o=n.get(ja,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=i?function(e,t,i){if(Ht(e))return e.selectRootElement(t,i===ht.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,i,this.componentDef.encapsulation):En(l,s.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,u={components:[],scheduler:Gi,clean:ls,playerHandler:null,flags:0},d=Nn(0,-1,null,1,0,null,null,null,null,null),f=An(null,d,u,h,null,null,s,a,o,n);let p,_;bi(f,null);try{const e=function(e,t,i,r,n,s){const o=i[1];i[20]=e;const a=On(o,null,0,3,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(co(a,l,!0),null!==e&&(Ni(n,e,l),null!==a.classes&&Is(n,e,a.classes),null!==a.styles&&Ds(n,e,a.styles)));const c=r.createRenderer(e,t),h=An(i,Fn(t),null,t.onPush?64:16,i[20],a,r,c,void 0);return o.firstCreatePass&&(nr(er(a,i),o,t.type),Kn(o,a),Zn(a,i.length,1)),rs(i,h),i[20]=h}(c,this.componentDef,f,s,a);if(c)if(i)Ni(a,c,["ng-version",Ha.full]);else{const{attrs:e,classes:t}=function(e){const t=[],i=[];let r=1,n=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===n?""!==s&&t.push(s,e[++r]):8===n&&i.push(s);else{if(!on(n))break;n=s}r++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]);e&&Ni(a,c,e),t&&t.length>0&&Is(a,c,t.join(" "))}if(_=Wt(d,0),void 0!==t){const e=_.projection=[];for(let i=0;i<this.ngContentSelectors.length;i++){const r=t[i];e.push(null!=r?Array.from(r):null)}}p=function(e,t,i,r,n){const s=i[1],o=function(e,t,i){const r=si();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),$n(e,r,1),Yn(e,t,i));const n=cr(t,e,t.length-1,r);Xr(n,t);const s=zt(r,t);return s&&Xr(s,t),n}(s,i,t);r.components.push(o),e[8]=o,n&&n.forEach(e=>e(o,t)),t.contentQueries&&t.contentQueries(1,o,i.length-1);const a=si();if(s.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Ai(a.index-20);const e=i[1];qn(e,t),zn(e,i,t.hostVars),Wn(t,o)}return o}(e,this.componentDef,f,u,[_a]),Tn(d,f,null)}finally{xi()}const m=new ul(this.componentType,p,Hs(Pa,_,f),f,_);return d.node.child=_,m}}class ul extends class{}{constructor(e,t,i,r,n){super(),this.location=i,this._rootLView=r,this._tNode=n,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new Fs(r),function(e,t,i,r){let n=e.node;null==n&&(e.node=n=Bn(0,null,2,-1,null,null)),r[6]=n}(r[1],0,0,r),this.componentType=e}get injector(){return new dr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const dl=void 0;var fl=["en",[["a","p"],["AM","PM"],dl],[["AM","PM"],dl,dl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dl,"{1} 'at' {0}",dl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let pl={};function _l(e){return e in pl||(pl[e]=Le.ng&&Le.ng.common&&Le.ng.common.locales&&Le.ng.common.locales[e]),pl[e]}var ml=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});let gl="en-US";function vl(e){var t,i;i="Expected localeId to be defined",null==(t=e)&&function(e,t,i,r){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(i,t),"string"==typeof e&&(gl=e.toLowerCase().replace(/_/g,"-"))}const yl=new Map;class bl extends et{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new al(this);const i=kt(e),r=e[Fe]||null;r&&vl(r),this._bootstrapComponents=Yi(i.bootstrap),this._r3Injector=Js(e,t,[{provide:et,useValue:this},{provide:La,useValue:this.componentFactoryResolver}],we(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ao.THROW_IF_NOT_FOUND,i=le.Default){return e===ao||e===et||e===He?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class wl extends tt{constructor(e){super(),this.moduleType=e,null!==kt(e)&&function e(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(e,t,i){if(t&&t!==i)throw new Error(`Duplicate module registered for ${e} - ${we(t)} vs ${we(t.name)}`)})(e,yl.get(e),t),yl.set(e,t)}let i=t.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach(t=>e(t))}(e)}create(e){return new bl(this.moduleType,e)}}function Cl(e,t,i){const r=ui()+e,n=ii();return n[r]===dn?mo(n,r,i?t.call(i):t()):function(e,t){return e[t]}(n,r)}function Sl(e,t){const i=e[t];return i===dn?void 0:i}function kl(e,t){const i=ri();let r;const n=e+20;i.firstCreatePass?(r=function(e,t){if(t)for(let i=t.length-1;i>=0;i--){const r=t[i];if(e===r.name)return r}throw new Error(`The pipe '${e}' could not be found!`)}(t,i.pipeRegistry),i.data[n]=r,r.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(n,r.onDestroy)):r=i.data[n];const s=r.factory||(r.factory=St(r.type)),o=Ke(Co),a=Qi(!1),l=s();return Qi(a),Ke(o),function(e,t,i,r){const n=i+20;n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(i,ii(),e,l),l}function xl(e,t,i){const r=ii(),n=$t(r,e);return function(e,t){return fo.isWrapped(t)&&(t=fo.unwrap(t),e[ei.lFrame.bindingIndex]=dn),t}(r,function(e,t){return e[1].data[t+20].pure}(r,e)?function(e,t,i,r,n,s){const o=t+i;return go(e,o,n)?mo(e,o+1,s?r.call(s,n):r(n)):Sl(e,o+1)}(r,ui(),t,n.transform,i,n):n.transform(i))}const El=class extends S{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r,n=e=>null,s=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(n=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(n=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),i&&(s=this.__isAsync?()=>{setTimeout(()=>i())}:()=>{i()}));const o=super.subscribe(r,n,s);return e instanceof u&&e.add(o),o}};function Al(){return this._results[uo()]()}class Ol{constructor(){this.dirty=!0,this._results=[],this.changes=new El,this.length=0;const e=uo(),t=Ol.prototype;t[e]||(t[e]=Al)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,i){void 0===i&&(i=t);for(let r=0;r<t.length;r++){let n=t[r];Array.isArray(n)?(i===t&&(i=t.slice(0,r)),e(n,i)):i!==t&&i.push(n)}return i}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Tl{constructor(e){this.queryList=e,this.matches=null}clone(){return new Tl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rl{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<i;e++){const i=t.getByIndex(e);r.push(this.queries[i.indexInDeclarationView].clone())}return new Rl(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Kl(e,t).matches&&this.queries[t].setDirty()}}class Ll{constructor(e,t,i,r=null){this.predicate=e,this.descendants=t,this.isStatic=i,this.read=r}}class Pl{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,n=this.getByIndex(i).embeddedTView(e,r);n&&(n.indexInDeclarationView=i,null!==t?t.push(n):t=[n])}return null!==t?new Pl(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Dl{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Dl(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&4===i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const n=i[r];this.matchTNodeWithReadOption(e,t,Il(t,n)),this.matchTNodeWithReadOption(e,t,lr(t,e,n,!1,!1))}else i===il?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,lr(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Pa||r===nl||r===il&&0===t.type)this.addMatch(t.index,-2);else{const i=lr(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Il(e,t){const i=e.localNames;if(null!==i)for(let r=0;r<i.length;r+=2)if(i[r]===t)return i[r+1];return null}function Ml(e,t,i,r){return-1===i?function(e,t){return 3===e.type||4===e.type?Hs(Pa,e,t):0===e.type?Us(il,Pa,e,t):null}(t,e):-2===i?function(e,t,i){return i===Pa?Hs(Pa,t,e):i===il?Us(il,Pa,t,e):i===nl?Vs(nl,Pa,t,e):void 0}(e,t,r):cr(e,e[1],i,t)}function Fl(e,t,i,r){const n=t[19].queries[r];if(null===n.matches){const r=e.data,s=i.matches,o=[];for(let e=0;e<s.length;e+=2){const n=s[e];o.push(n<0?null:Ml(t,r[n],s[e+1],i.metadata.read))}n.matches=o}return n.matches}function Nl(e){const t=ii(),i=ri(),r=gi();vi(r+1);const n=Kl(i,r);if(e.dirty&&Zt(t)===n.metadata.isStatic){if(null===n.matches)e.reset([]);else{const s=n.crossesNgTemplate?function e(t,i,r,n){const s=t.queries.getByIndex(r),o=s.matches;if(null!==o){const a=Fl(t,i,s,r);for(let t=0;t<o.length;t+=2){const r=o[t];if(r>0)n.push(a[t/2]);else{const s=o[t+1],a=i[-r];for(let t=10;t<a.length;t++){const i=a[t];i[17]===i[3]&&e(i[1],i,s,n)}if(null!==a[9]){const t=a[9];for(let i=0;i<t.length;i++){const r=t[i];e(r[1],r,s,n)}}}}}return n}(i,t,r,[]):Fl(i,t,n,r);e.reset(s),e.notifyOnChanges()}return!0}return!1}function jl(e,t,i){Hl(ri(),ii(),e,t,i,!0)}function Bl(e,t,i){Hl(ri(),ii(),e,t,i,!1)}function Hl(e,t,i,r,n,s){e.firstCreatePass&&($l(e,new Ll(i,r,s,n),-1),s&&(e.staticViewQueries=!0)),Wl(e,t)}function Ul(e,t,i,r){ql(ri(),ii(),t,i,r,!1,si(),e)}function Vl(e,t,i,r){ql(ri(),ii(),t,i,r,!0,si(),e)}function ql(e,t,i,r,n,s,o,a){e.firstCreatePass&&($l(e,new Ll(i,r,s,n),o.index),function(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(e,a),s&&(e.staticContentQueries=!0)),Wl(e,t)}function zl(){return e=ii(),t=gi(),e[19].queries[t].queryList;var e,t}function Wl(e,t){const i=new Ol;jn(e,t,i,i.destroy),null===t[19]&&(t[19]=new Rl),t[19].queries.push(new Tl(i))}function $l(e,t,i){null===e.queries&&(e.queries=new Pl),e.queries.track(new Dl(t,i))}function Kl(e,t){return e.queries.getByIndex(t)}function Gl(e,t){return Us(il,Pa,e,t)}const Zl=new Be("Application Initializer");let Yl=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const t=this.appInits[i]();Po(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Ze(Zl,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Xl=new Be("AppId"),Ql={provide:Xl,useFactory:function(){return`${Jl()}${Jl()}${Jl()}`},deps:[]};function Jl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ec=new Be("Platform Initializer"),tc=new Be("Platform ID"),ic=new Be("appBootstrapListener");let rc=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const nc=new Be("LocaleId"),sc=new Be("DefaultCurrencyCode");class oc{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const ac=function(e){return new wl(e)},lc=ac,cc=function(e){return Promise.resolve(ac(e))},hc=function(e){const t=ac(e),i=Yi(kt(e).declarations).reduce((e,t)=>{const i=Ct(t);return i&&e.push(new hl(i)),e},[]);return new oc(t,i)},uc=hc,dc=function(e){return Promise.resolve(hc(e))};let fc=(()=>{class e{constructor(){this.compileModuleSync=lc,this.compileModuleAsync=cc,this.compileModuleAndAllComponentsSync=uc,this.compileModuleAndAllComponentsAsync=dc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const pc=(()=>Promise.resolve(0))();function _c(e){"undefined"==typeof Zone?pc.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class mc{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new El(!1),this.onMicrotaskEmpty=new El(!1),this.onStable=new El(!1),this.onError=new El(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=Le.requestAnimationFrame,t=Le.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Le,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,bc(e),yc(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),bc(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(i,r,n,s,o,a)=>{try{return wc(e),i.invokeTask(n,s,o,a)}finally{t&&"eventTask"===s.type&&t(),Cc(e)}},onInvoke:(t,i,r,n,s,o,a)=>{try{return wc(e),t.invoke(r,n,s,o,a)}finally{Cc(e)}},onHasTask:(t,i,r,n)=>{t.hasTask(r,n),i===r&&("microTask"==n.change?(e._hasPendingMicrotasks=n.microTask,bc(e),yc(e)):"macroTask"==n.change&&(e.hasPendingMacrotasks=n.macroTask))},onHandleError:(t,i,r,n)=>(t.handleError(r,n),e.runOutsideAngular(()=>e.onError.emit(n)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const n=this._inner,s=n.scheduleEventTask("NgZoneEvent: "+r,e,vc,gc,gc);try{return n.runTask(s,t,i)}finally{n.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}function gc(){}const vc={};function yc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function wc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Cc(e){e._nesting--,yc(e)}class Sc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new El,this.onMicrotaskEmpty=new El,this.onStable=new El,this.onError=new El}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let kc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mc.assertNotInAngularZone(),_c(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_c(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,i){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(Ze(mc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),xc=(()=>{class e{constructor(){this._applications=new Map,Oc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Oc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class Ec{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let Ac,Oc=new Ec;const Tc=new Be("AllowMultipleToken");class Rc{constructor(e,t){this.name=e,this.token=t}}function Lc(e,t,i=[]){const r="Platform: "+t,n=new Be(r);return(t=[])=>{let s=Pc();if(!s||s.injector.get(Tc,!1))if(e)e(i.concat(t).concat({provide:n,useValue:!0}));else{const e=i.concat(t).concat({provide:n,useValue:!0},{provide:Ks,useValue:"platform"});!function(e){if(Ac&&!Ac.destroyed&&!Ac.injector.get(Tc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ac=e.get(Dc);const t=e.get(ec,null);t&&t.forEach(e=>e())}(ao.create({providers:e,name:r}))}return function(e){const t=Pc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(n)}}function Pc(){return Ac&&!Ac.destroyed?Ac:null}let Dc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const i=function(e,t){let i;return i="noop"===e?new Sc:("zone.js"===e?void 0:e)||new mc({enableLongStackTrace:kr(),shouldCoalesceEventChangeDetection:t}),i}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),r=[{provide:mc,useValue:i}];return i.run(()=>{const t=ao.create({providers:r,parent:this.injector,name:e.moduleType.name}),n=e.create(t),s=n.injector.get(vr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(()=>Fc(this._modules,n)),i.runOutsideAngular(()=>i.onError.subscribe({next:e=>{s.handleError(e)}})),function(e,t,i){try{const r=i();return Po(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const e=n.injector.get(Yl);return e.runInitializers(),e.donePromise.then(()=>(vl(n.injector.get(nc,"en-US")||"en-US"),this._moduleDoBootstrap(n),n))})})}bootstrapModule(e,t=[]){const i=Ic({},t);return function(e,t,i){const r=new wl(i);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,i))}_moduleDoBootstrap(e){const t=e.injector.get(Mc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${we(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Ze(ao))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Ic(e,t){return Array.isArray(t)?t.reduce(Ic,e):Object.assign(Object.assign({},e),t)}let Mc=(()=>{class e{constructor(e,t,i,r,n,s){this._zone=e,this._console=t,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=n,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=kr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new v(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new v(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{mc.assertNotInAngularZone(),_c(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{mc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),i.unsubscribe()}});this.isStable=W(o,a.pipe(te()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=e instanceof Ta?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const r=i.isBoundToModule?void 0:this._injector.get(et),n=i.create(ao.NULL,[],t||i.selector,r);n.onDestroy(()=>{this._unloadComponent(n)});const s=n.injector.get(kc,null);return s&&n.injector.get(xc).registerApplication(n.location.nativeElement,s),this._loadComponent(n),kr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),n}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Fc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ic,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Fc(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Ze(mc),Ze(rc),Ze(ao),Ze(vr),Ze(La),Ze(Yl))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Fc(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class Nc{}class jc{}const Bc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Hc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Bc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),i("zn8P")(t).then(e=>e[r]).then(e=>Uc(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),n="NgFactory";return void 0===r&&(r="default",n=""),i("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+n]).then(e=>Uc(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Ze(fc),Ze(jc,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Uc(e,t,i){if(!e)throw new Error(`Cannot find '${i}' in '${t}'`);return e}const Vc=Lc(null,"core",[{provide:tc,useValue:"unknown"},{provide:Dc,deps:[ao]},{provide:xc,deps:[]},{provide:rc,deps:[]}]),qc=[{provide:Mc,useClass:Mc,deps:[mc,rc,ao,vr,La,Yl]},{provide:cl,deps:[mc],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Yl,useClass:Yl,deps:[[new se,Zl]]},{provide:fc,useClass:fc,deps:[]},Ql,{provide:Xa,useFactory:function(){return el},deps:[]},{provide:Qa,useFactory:function(){return tl},deps:[]},{provide:nc,useFactory:function(e){return vl(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ne(nc),new se,new ae]]},{provide:sc,useValue:"USD"}];let zc=(()=>{class e{constructor(e){}}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)(Ze(Mc))},providers:qc}),e})(),Wc=null;function $c(){return Wc}const Kc=new Be("DocumentToken");let Gc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({factory:Zc,token:e,providedIn:"platform"}),e})();function Zc(){return Ze(Xc)}const Yc=new Be("Location Initialized");let Xc=(()=>{class e extends Gc{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=$c().getLocation(),this._history=$c().getHistory()}getBaseHrefFromDOM(){return $c().getBaseHref(this._doc)}onPopState(e){$c().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){$c().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,i){Qc()?this._history.pushState(e,t,i):this.location.hash=i}replaceState(e,t,i){Qc()?this._history.replaceState(e,t,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(Ze(Kc))},e.\u0275prov=ue({factory:Jc,token:e,providedIn:"platform"}),e})();function Qc(){return!!window.history.pushState}function Jc(){return new Xc(Ze(Kc))}function eh(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function th(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function ih(e){return e&&"?"!==e[0]?"?"+e:e}let rh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({factory:nh,token:e,providedIn:"root"}),e})();function nh(e){const t=Ze(Kc).location;return new oh(Ze(Gc),t&&t.origin||"")}const sh=new Be("appBaseHref");let oh=(()=>{class e extends rh{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return eh(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+ih(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${t}${i}`:t}pushState(e,t,i,r){const n=this.prepareExternalUrl(i+ih(r));this._platformLocation.pushState(e,t,n)}replaceState(e,t,i,r){const n=this.prepareExternalUrl(i+ih(r));this._platformLocation.replaceState(e,t,n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(Ze(Gc),Ze(sh,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),ah=(()=>{class e extends rh{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=eh(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,i,r){let n=this.prepareExternalUrl(i+ih(r));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.pushState(e,t,n)}replaceState(e,t,i,r){let n=this.prepareExternalUrl(i+ih(r));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(Ze(Gc),Ze(sh,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),lh=(()=>{class e{constructor(e,t){this._subject=new El,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=th(hh(i)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+ih(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,hh(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",i=null){this._platformStrategy.pushState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ih(t)),i)}replaceState(e,t="",i=null){this._platformStrategy.replaceState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ih(t)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(i=>i(e,t))}subscribe(e,t,i){return this._subject.subscribe({next:e,error:t,complete:i})}}return e.\u0275fac=function(t){return new(t||e)(Ze(rh),Ze(Gc))},e.normalizeQueryParams=ih,e.joinWithSlash=eh,e.stripTrailingSlash=th,e.\u0275prov=ue({factory:ch,token:e,providedIn:"root"}),e})();function ch(){return new lh(Ze(rh),Ze(Gc))}function hh(e){return e.replace(/\/index.html$/,"")}var uh=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class dh{}let fh=(()=>{class e extends dh{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=_l(t);if(i)return i;const r=t.split("-")[0];if(i=_l(r),i)return i;if("en"===r)return fl;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[ml.PluralCase]}(t||this.locale)(e)){case uh.Zero:return"zero";case uh.One:return"one";case uh.Two:return"two";case uh.Few:return"few";case uh.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(Ze(nc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function ph(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const e=i.indexOf("="),[r,n]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(r.trim()===t)return decodeURIComponent(n)}return null}let _h=(()=>{class e{constructor(e,t,i,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(po(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+we(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(Co(Xa),Co(Qa),Co(Pa),Co(Fa))},e.\u0275dir=bt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class mh{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gh=(()=>{class e{constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){kr()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${i}' of type '${e=i,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,i,r)=>{if(null==e.previousIndex){const i=this._viewContainer.createEmbeddedView(this._template,new mh(null,this._ngForOf,-1,-1),null===r?void 0:r),n=new vh(e,i);t.push(n)}else if(null==r)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const n=this._viewContainer.get(i);this._viewContainer.move(n,r);const s=new vh(e,n);t.push(s)}});for(let i=0;i<t.length;i++)this._perViewChange(t[i].view,t[i].record);for(let i=0,r=this._viewContainer.length;i<r;i++){const e=this._viewContainer.get(i);e.context.index=i,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Co(nl),Co(il),Co(Xa))},e.\u0275dir=bt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class vh{constructor(e,t){this.record=e,this.view=t}}let yh=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new bh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){wh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){wh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Co(nl),Co(il))},e.\u0275dir=bt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class bh{constructor(){this.$implicit=null,this.ngIf=null}}function wh(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${we(t)}'.`)}class Ch{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Sh=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),kh=(()=>{class e{constructor(e,t,i){this.ngSwitch=i,i._addCase(),this._view=new Ch(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(Co(nl),Co(il),Co(Sh,1))},e.\u0275dir=bt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),xh=(()=>{class e{constructor(e,t,i){i._addDefault(new Ch(e,t))}}return e.\u0275fac=function(t){return new(t||e)(Co(nl),Co(il),Co(Sh,1))},e.\u0275dir=bt({type:e,selectors:[["","ngSwitchDefault",""]]}),e})();class Eh{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Ah{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Oh=new Ah,Th=new Eh;let Rh=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if(Po(t))return Oh;if(Do(t))return Th;throw Error(`InvalidPipeArgument: '${t}' for pipe '${we(e)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(function(e=le.Default){const t=qs(!0);if(null!=t||e&le.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}())},e.\u0275pipe=wt({name:"async",type:e,pure:!1}),e})(),Lh=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[{provide:dh,useClass:fh}]}),e})();function Ph(e){return"browser"===e}let Dh=(()=>{class e{}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new Ih(Ze(Kc),window,Ze(vr))}),e})();class Ih{constructor(e,t,i){this.document=e,this.window=t,this.errorHandler=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportsScrolling()){const t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,n=this.offset();this.window.scrollTo(i-n[0],r-n[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const e=Mh(this.window.history)||Mh(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(e){return!1}}}function Mh(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Fh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new Fh,Wc||(Wc=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=jh||(jh=document.querySelector("base"),jh)?jh.getAttribute("href"):null;return null==t?null:(i=t,Nh||(Nh=document.createElement("a")),Nh.setAttribute("href",i),"/"===Nh.pathname.charAt(0)?Nh.pathname:"/"+Nh.pathname);var i}resetBaseElement(){jh=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return ph(document.cookie,e)}}let Nh,jh=null;const Bh=new Be("TRANSITION_ID"),Hh=[{provide:Zl,useFactory:function(e,t,i){return()=>{i.get(Yl).donePromise.then(()=>{const i=$c();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>i.remove(e))})}},deps:[Bh,Kc,ao],multi:!0}];class Uh{static init(){var e;e=new Uh,Oc=e}addToWindow(e){Le.getAngularTestability=(t,i=!0)=>{const r=e.findTestabilityInTree(t,i);if(null==r)throw new Error("Could not find testability for element.");return r},Le.getAllAngularTestabilities=()=>e.getAllTestabilities(),Le.getAllAngularRootElements=()=>e.getAllRootElements(),Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(e=>{const t=Le.getAllAngularTestabilities();let i=t.length,r=!1;const n=function(t){r=r||t,i--,0==i&&e(r)};t.forEach((function(e){e.whenStable(n)}))})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?$c().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const Vh=new Be("EventManagerPlugins");let qh=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}addGlobalEventListener(e,t,i){return this._findPluginFor(t).addGlobalEventListener(e,t,i)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const i=this._plugins;for(let r=0;r<i.length;r++){const t=i[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(Ze(Vh),Ze(mc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class zh{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=$c().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Wh=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),$h=(()=>{class e extends Wh{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const i=this._doc.createElement("style");i.textContent=e,this._styleNodes.add(t.appendChild(i))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>$c().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(Ze(Kc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Kh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gh=/%COMP%/g;function Zh(e,t,i){for(let r=0;r<t.length;r++){let n=t[r];Array.isArray(n)?Zh(e,n,i):(n=n.replace(Gh,e),i.push(n))}return i}function Yh(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Xh=(()=>{class e{constructor(e,t,i){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Qh(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ht.Emulated:{let i=this.rendererByCompId.get(t.id);return i||(i=new Jh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,i)),i.applyToHost(e),i}case ht.Native:case ht.ShadowDom:return new eu(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Zh(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(Ze(qh),Ze($h),Ze(Xl))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class Qh{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Kh[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const n=Kh[r];n?e.setAttributeNS(n,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Kh[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&Ma.DashCase?e.style.setProperty(t,i,r&Ma.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ma.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Yh(i)):this.eventManager.addEventListener(e,t,Yh(i))}}class Jh extends Qh{constructor(e,t,i,r){super(e),this.component=i;const n=Zh(r+"-"+i.id,i.styles,[]);t.addStyles(n),this.contentAttr="_ngcontent-%COMP%".replace(Gh,r+"-"+i.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(Gh,e)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class eu extends Qh{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.component=r,this.shadowRoot=r.encapsulation===ht.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const n=Zh(r.id,r.styles,[]);for(let s=0;s<n.length;s++){const e=document.createElement("style");e.textContent=n[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let tu=(()=>{class e extends zh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,i){return e.addEventListener(t,i,!1),()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,i){return e.removeEventListener(t,i)}}return e.\u0275fac=function(t){return new(t||e)(Ze(Kc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const iu=["alt","control","meta","shift"],ru={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},su={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let ou=(()=>{class e extends zh{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,r){const n=e.parseEventName(i),s=e.eventCallback(n.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$c().onAndCancel(t,n.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const n=e._normalizeKey(i.pop());let s="";if(iu.forEach(e=>{const t=i.indexOf(e);t>-1&&(i.splice(t,1),s+=e+".")}),s+=n,0!=i.length||0===n.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&nu.hasOwnProperty(t)&&(t=nu[t]))}return ru[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),iu.forEach(r=>{r!=i&&(0,su[r])(e)&&(t+=r+".")}),t+=i,t}static eventCallback(t,i,r){return n=>{e.getEventFullKey(n)===t&&r.runGuarded(()=>i(n))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(Ze(Kc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const au=Lc(Vc,"browser",[{provide:tc,useValue:"browser"},{provide:ec,useValue:function(){Fh.makeCurrent(),Uh.init()},multi:!0},{provide:Kc,useFactory:function(){return function(e){jt=e}(document),document},deps:[]}]),lu=[[],{provide:Ks,useValue:"root"},{provide:vr,useFactory:function(){return new vr},deps:[]},{provide:Vh,useClass:tu,multi:!0,deps:[Kc,mc,tc]},{provide:Vh,useClass:ou,multi:!0,deps:[Kc]},[],{provide:Xh,useClass:Xh,deps:[qh,$h,Xl]},{provide:Ia,useExisting:Xh},{provide:Wh,useExisting:$h},{provide:$h,useClass:$h,deps:[Kc]},{provide:kc,useClass:kc,deps:[mc]},{provide:qh,useClass:qh,deps:[Vh,mc]},[]];let cu=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Xl,useValue:t.appId},{provide:Bh,useExisting:Xl},Hh]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)(Ze(e,12))},providers:lu,imports:[Lh,zc]}),e})();"undefined"!=typeof window&&window;class hu{}function uu(e,t){return{type:7,name:e,definitions:t,options:{}}}function du(e,t=null){return{type:4,styles:t,timings:e}}function fu(e,t=null){return{type:2,steps:e,options:t}}function pu(e){return{type:6,styles:e,offset:null}}function _u(e,t,i){return{type:0,name:e,styles:t,options:i}}function mu(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}function gu(e=null){return{type:9,options:e}}function vu(e,t,i=null){return{type:11,selector:e,animation:t,options:i}}function yu(e){Promise.resolve(null).then(e)}class bu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yu(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class wu{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const n=this.players.length;0==n?yu(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==n&&this._onFinish()}),e.onDestroy(()=>{++i==n&&this._onDestroy()}),e.onStart(()=>{++r==n&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const i=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(i)})}getPosition(){let e=0;return this.players.forEach(t=>{const i=t.getPosition();e=Math.min(i,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function Cu(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Su(e){switch(e.length){case 0:return new bu;case 1:return e[0];default:return new wu(e)}}function ku(e,t,i,r,n={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(e=>{const i=e.offset,r=i==l,h=r&&c||{};Object.keys(e).forEach(i=>{let r=i,a=e[i];if("offset"!==i)switch(r=t.normalizePropertyName(r,o),a){case"!":a=n[i];break;case"*":a=s[i];break;default:a=t.normalizeStyleValue(i,r,a,o)}h[r]=a}),r||a.push(h),c=h,l=i}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function xu(e,t,i,r){switch(t){case"start":e.onStart(()=>r(i&&Eu(i,"start",e)));break;case"done":e.onDone(()=>r(i&&Eu(i,"done",e)));break;case"destroy":e.onDestroy(()=>r(i&&Eu(i,"destroy",e)))}}function Eu(e,t,i){const r=i.totalTime,n=Au(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!i.disabled),s=e._data;return null!=s&&(n._data=s),n}function Au(e,t,i,r,n="",s=0,o){return{element:e,triggerName:t,fromState:i,toState:r,phaseName:n,totalTime:s,disabled:!!o}}function Ou(e,t,i){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=i)):(r=e[t],r||(r=e[t]=i)),r}function Tu(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Ru=(e,t)=>!1,Lu=(e,t)=>!1,Pu=(e,t,i)=>[];const Du=Cu();(Du||"undefined"!=typeof Element)&&(Ru=(e,t)=>e.contains(t),Lu=(()=>{if(Du||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):Lu}})(),Pu=(e,t,i)=>{let r=[];if(i)r.push(...e.querySelectorAll(t));else{const i=e.querySelector(t);i&&r.push(i)}return r});let Iu=null,Mu=!1;function Fu(e){Iu||(Iu=("undefined"!=typeof document?document.body:null)||{},Mu=!!Iu.style&&"WebkitAppearance"in Iu.style);let t=!0;return Iu.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Iu.style,!t&&Mu)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Iu.style),t}const Nu=Lu,ju=Ru,Bu=Pu;function Hu(e){const t={};return Object.keys(e).forEach(i=>{const r=i.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[i]}),t}let Uu=(()=>{class e{validateStyleProperty(e){return Fu(e)}matchesElement(e,t){return Nu(e,t)}containsElement(e,t){return ju(e,t)}query(e,t,i){return Bu(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,r,n,s=[],o){return new bu(i,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Vu=(()=>{class e{}return e.NOOP=new Uu,e})();function qu(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:zu(parseFloat(t[1]),t[2])}function zu(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Wu(e,t,i){return e.hasOwnProperty("duration")?e:function(e,t,i){let r,n=0,s="";if("string"==typeof e){const i=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===i)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=zu(parseFloat(i[1]),i[2]);const o=i[3];null!=o&&(n=zu(parseFloat(o),i[4]));const a=i[5];a&&(s=a)}else r=e;if(!i){let i=!1,s=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),i=!0),n<0&&(t.push("Delay values below 0 are not allowed for this animation step."),i=!0),i&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:n,easing:s}}(e,t,i)}function $u(e,t={}){return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}function Ku(e,t,i={}){if(t)for(let r in e)i[r]=e[r];else $u(e,i);return i}function Gu(e,t,i){return i?t+":"+i+";":""}function Zu(e){let t="";for(let i=0;i<e.style.length;i++){const r=e.style.item(i);t+=Gu(0,r,e.style.getPropertyValue(r))}for(const i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=Gu(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function Yu(e,t,i){e.style&&(Object.keys(t).forEach(r=>{const n=nd(r);i&&!i.hasOwnProperty(r)&&(i[r]=e.style[n]),e.style[n]=t[r]}),Cu()&&Zu(e))}function Xu(e,t){e.style&&(Object.keys(t).forEach(t=>{const i=nd(t);e.style[i]=""}),Cu()&&Zu(e))}function Qu(e){return Array.isArray(e)?1==e.length?e[0]:fu(e):e}const Ju=new RegExp("{{\\s*(.+?)\\s*}}","g");function ed(e){let t=[];if("string"==typeof e){let i;for(;i=Ju.exec(e);)t.push(i[1]);Ju.lastIndex=0}return t}function td(e,t,i){const r=e.toString(),n=r.replace(Ju,(e,r)=>{let n=t[r];return t.hasOwnProperty(r)||(i.push("Please provide a value for the animation param "+r),n=""),n.toString()});return n==r?e:n}function id(e){const t=[];let i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}const rd=/-+([a-z0-9])/g;function nd(e){return e.replace(rd,(...e)=>e[1].toUpperCase())}function sd(e,t){return 0===e||0===t}function od(e,t,i){const r=Object.keys(i);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=i[e]}),o.length)for(var n=1;n<t.length;n++){let i=t[n];o.forEach((function(t){i[t]=ld(e,t)}))}}return t}function ad(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function ld(e,t){return window.getComputedStyle(e)[t]}function cd(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,i){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,i);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return i.push(`The provided transition expression "${e}" is not supported`),t;const n=r[1],s=r[2],o=r[3];t.push(dd(n,o)),"<"!=s[0]||"*"==n&&"*"==o||t.push(dd(o,n))}(e,i,t)):i.push(e),i}const hd=new Set(["true","1"]),ud=new Set(["false","0"]);function dd(e,t){const i=hd.has(e)||ud.has(e),r=hd.has(t)||ud.has(t);return(n,s)=>{let o="*"==e||e==n,a="*"==t||t==s;return!o&&i&&"boolean"==typeof n&&(o=n?hd.has(e):ud.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?hd.has(t):ud.has(t)),o&&a}}const fd=new RegExp("s*:selfs*,?","g");function pd(e,t,i){return new _d(e).build(t,i)}class _d{constructor(e){this._driver=e}build(e,t){const i=new md(t);return this._resetContextStyleTimingState(i),ad(this,Qu(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const n=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const i=e,r=i.name;r.toString().split(/\s*,\s*/).forEach(e=>{i.name=e,n.push(this.visitState(i,t))}),i.name=r}else if(1==e.type){const n=this.visitTransition(e,t);i+=n.queryCount,r+=n.depCount,s.push(n)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:n,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const n=new Set,s=r||{};if(i.styles.forEach(e=>{if(gd(e)){const t=e;Object.keys(t).forEach(e=>{ed(t[e]).forEach(e=>{s.hasOwnProperty(e)||n.add(e)})})}}),n.size){const i=id(n.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${i.join(", ")}`)}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ad(this,Qu(e.animation),t);return{type:1,matchers:cd(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:vd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>ad(this,e,t)),options:vd(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const n=e.steps.map(e=>{t.currentTime=i;const n=ad(this,e,t);return r=Math.max(r,t.currentTime),n});return t.currentTime=r,{type:3,steps:n,options:vd(e.options)}}visitAnimate(e,t){const i=function(e,t){let i=null;if(e.hasOwnProperty("duration"))i=e;else if("number"==typeof e)return yd(Wu(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=yd(0,0,"");return e.dynamic=!0,e.strValue=r,e}return i=i||Wu(r,t),yd(i.duration,i.delay,i.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=i;let n=e.styles?e.styles:pu({});if(5==n.type)r=this.visitKeyframes(n,t);else{let n=e.styles,s=!1;if(!n){s=!0;const e={};i.easing&&(e.easing=i.easing),n=pu(e)}t.currentTime+=i.duration+i.delay;const o=this.visitStyle(n,t);o.isEmptyStep=s,r=o}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?i.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):i.push(e)}):i.push(e.styles);let r=!1,n=null;return i.forEach(e=>{if(gd(e)){const t=e,i=t.easing;if(i&&(n=i,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:n,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,n=t.currentTime;i&&n>0&&(n-=i.duration+i.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(i=>{if(!this._driver.validateStyleProperty(i))return void t.errors.push(`The provided animation property "${i}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[i];let a=!0;o&&(n!=r&&n>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${i}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${n}ms" and "${r}ms"`),a=!1),n=o.startTime),a&&(s[i]={startTime:n,endTime:r}),t.options&&function(e,t,i){const r=t.params||{},n=ed(e);n.length&&n.forEach(e=>{r.hasOwnProperty(e)||i.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[i],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const n=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const i=this._makeStyleAst(e,t);let l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(gd(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(gd(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}return t}(i.styles),c=0;return null!=l&&(r++,c=i.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,n.push(c),i});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let h=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));const u=c-1,d=t.currentTime,f=t.currentAnimateTimings,p=f.duration;return l.forEach((e,r)=>{const s=h>0?r==u?1:h*r:n[r],o=s*p;t.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(e,t),e.offset=s,i.styles.push(e)}),i}visitReference(e,t){return{type:8,animation:ad(this,Qu(e.animation),t),options:vd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:vd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:vd(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[n,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(fd,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=i.length?i+" "+n:n,Ou(t.collectedStyles,t.currentQuerySelector,{});const o=ad(this,Qu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:n,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:vd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Wu(e.timings,t.errors,!0);return{type:12,animation:ad(this,Qu(e.animation),t),timings:i,options:null}}}class md{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function gd(e){return!Array.isArray(e)&&"object"==typeof e}function vd(e){var t;return e?(e=$u(e)).params&&(e.params=(t=e.params)?$u(t):null):e={},e}function yd(e,t,i){return{duration:e,delay:t,easing:i}}function bd(e,t,i,r,n,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:r,duration:n,delay:s,totalTime:n+s,easing:o,subTimeline:a}}class wd{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Cd=new RegExp(":enter","g"),Sd=new RegExp(":leave","g");function kd(e,t,i,r,n,s={},o={},a,l,c=[]){return(new xd).buildKeyframes(e,t,i,r,n,s,o,a,l,c)}class xd{buildKeyframes(e,t,i,r,n,s,o,a,l,c=[]){l=l||new wd;const h=new Ad(e,t,l,r,n,c,[]);h.options=a,h.currentTimeline.setStyles([s],null,h.errors,a),ad(this,i,h);const u=h.timelines.filter(e=>e.containsAnimation());if(u.length&&Object.keys(o).length){const e=u[u.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,h.errors,a)}return u.length?u.map(e=>e.buildKeyframes()):[bd(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const r=t.createSubContext(e.options),n=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);n!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let r=t.currentTimeline.currentTime;const n=null!=i.duration?qu(i.duration):null,s=null!=i.delay?qu(i.delay):null;return 0!==n&&e.forEach(e=>{const i=t.appendInstructionToTimeline(e,n,s);r=Math.max(r,i.duration+i.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),ad(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const n=e.options;if(n&&(n.params||n.delay)&&(r=t.createSubContext(n),r.transformIntoNewTimeline(),null!=n.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ed);const e=qu(n.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>ad(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const n=e.options&&e.options.delay?qu(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);n&&o.delayNextStep(n),ad(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Wu(t.params?td(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const n=e.style;5==n.type?this.visitKeyframes(n,t):(t.incrementTime(i.duration),this.visitStyle(n,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const n=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(n):i.setStyles(e.styles,n,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,n=i.duration,s=t.createSubContext().currentTimeline;s.easing=i.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*n),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+n),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},n=r.delay?qu(r.delay):0;n&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ed);let s=i;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((i,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,i);n&&o.delayNextStep(n),i===t.element&&(a=o.currentTimeline),ad(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,n=e.timings,s=Math.abs(n.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(n.duration<0?"reverse":n.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;ad(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-c+(r.startTime-i.currentTimeline.startTime)}}const Ed={};class Ad{constructor(e,t,i,r,n,s,o,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=n,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ed,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Od(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=qu(i.duration)),null!=i.delay&&(r.delay=qu(i.delay));const n=i.params;if(n){let e=r.params;e||(e=this.options.params={}),Object.keys(n).forEach(i=>{t&&e.hasOwnProperty(i)||(e[i]=td(n[i],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(e=>{i[e]=t[e]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,n=new Ad(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return n.previousNode=this.previousNode,n.currentAnimateTimings=this.currentAnimateTimings,n.options=this._copyOptions(),n.updateOptions(e),n.currentQueryIndex=this.currentQueryIndex,n.currentQueryTotal=this.currentQueryTotal,n.parentContext=this,this.subContextCount++,n}transformIntoNewTimeline(e){return this.previousNode=Ed,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},n=new Td(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(n),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,n,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(Cd,"."+this._enterClassName)).replace(Sd,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=i);0!==i&&(t=i<0?t.slice(t.length+i,t.length):t.slice(0,i)),o.push(...t)}return n||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class Od{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Od(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const n=r&&r.params||{},s=function(e,t){const i={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{i[e]="*"})):Ku(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=td(s[e],n,i);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((n,s)=>{const o=Ku(n,!0);Object.keys(o).forEach(i=>{const r=o[i];"!"==r?e.add(i):"*"==r&&t.add(i)}),i||(o.offset=s/this.duration),r.push(o)});const n=e.size?id(e.values()):[],s=t.size?id(t.values()):[];if(i){const e=r[0],t=$u(e);e.offset=0,t.offset=1,r=[e,t]}return bd(this.element,r,n,s,this.duration,this.startTime,this.easing,!1)}}class Td extends Od{constructor(e,t,i,r,n,s,o=!1){super(e,t,s.delay),this.element=t,this.keyframes=i,this.preStyleProps=r,this.postStyleProps=n,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const n=[],s=i+t,o=t/s,a=Ku(e[0],!1);a.offset=0,n.push(a);const l=Ku(e[0],!1);l.offset=Rd(o),n.push(l);const c=e.length-1;for(let r=1;r<=c;r++){let o=Ku(e[r],!1);o.offset=Rd((t+o.offset*i)/s),n.push(o)}i=s,t=0,r="",e=n}return bd(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Rd(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}class Ld{}class Pd extends Ld{normalizePropertyName(e,t){return nd(e)}normalizeStyleValue(e,t,i,r){let n="";const s=i.toString().trim();if(Dd[t]&&0!==i&&"0"!==i)if("number"==typeof i)n="px";else{const t=i.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${i}`)}return s+n}}const Dd=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Id(e,t,i,r,n,s,o,a,l,c,h,u,d){return{type:0,element:e,triggerName:t,isRemovalTransition:n,fromState:i,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:u,errors:d}}const Md={};class Fd{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function(e,t,i,r,n){return e.some(e=>e(t,i,r,n))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],n=this._stateStyles[e],s=r?r.buildStyles(t,i):{};return n?n.buildStyles(t,i):s}build(e,t,i,r,n,s,o,a,l,c){const h=[],u=this.ast.options&&this.ast.options.params||Md,d=this.buildStyles(i,o&&o.params||Md,h),f=a&&a.params||Md,p=this.buildStyles(r,f,h),_=new Set,m=new Map,g=new Map,v="void"===r,y={params:Object.assign(Object.assign({},u),f)},b=c?[]:kd(e,t,this.ast.animation,n,s,d,p,y,l,h);let w=0;if(b.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),h.length)return Id(t,this._triggerName,i,r,v,d,p,[],[],m,g,w,h);b.forEach(e=>{const i=e.element,r=Ou(m,i,{});e.preStyleProps.forEach(e=>r[e]=!0);const n=Ou(g,i,{});e.postStyleProps.forEach(e=>n[e]=!0),i!==t&&_.add(i)});const C=id(_.values());return Id(t,this._triggerName,i,r,v,d,p,b,C,m,g,w)}}class Nd{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const i={},r=$u(this.defaultParams);return Object.keys(e).forEach(t=>{const i=e[t];null!=i&&(r[t]=i)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const n=e;Object.keys(n).forEach(e=>{let s=n[e];s.length>1&&(s=td(s,r,t)),i[e]=s})}}),i}}class jd{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Nd(e.style,e.options&&e.options.params||{})}),Bd(this.states,"true","1"),Bd(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Fd(e,t,this.states))}),this.fallbackTransition=new Fd(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(n=>n.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Bd(e,t,i){e.hasOwnProperty(t)?e.hasOwnProperty(i)||(e[i]=e[t]):e.hasOwnProperty(i)&&(e[t]=e[i])}const Hd=new wd;class Ud{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],r=pd(this._driver,t,i);if(i.length)throw new Error("Unable to build the animation due to the following errors: "+i.join("\n"));this._animations[e]=r}_buildPlayer(e,t,i){const r=e.element,n=ku(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,n,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],n=this._animations[e];let s;const o=new Map;if(n?(s=kd(this._driver,t,n,"ng-enter","ng-leave",{},{},i,Hd,r),s.forEach(e=>{const t=Ou(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((e,t)=>{Object.keys(e).forEach(i=>{e[i]=this._driver.computeStyle(t,i,"*")})});const a=Su(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,i,r){const n=Au(t,"","","");return xu(this._getPlayer(e),i,n,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const n=this._getPlayer(e);switch(i){case"play":n.play();break;case"pause":n.pause();break;case"reset":n.reset();break;case"restart":n.restart();break;case"finish":n.finish();break;case"init":n.init();break;case"setPosition":n.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Vd=[],qd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Wd{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){const t=$u(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(i=>{null==e[i]&&(e[i]=t[i])})}}}const $d=new Wd("void");class Kd{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ef(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=i)&&"done"!=n)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);var n;const s=Ou(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=Ou(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(ef(e,"ng-trigger"),ef(e,"ng-trigger-"+t),a[t]=$d),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,r=!0){const n=this._getTrigger(t),s=new Zd(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(ef(e,"ng-trigger"),ef(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new Wd(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=$d),"void"!==l.value&&a.value===l.value){if(!function(e,t){const i=Object.keys(e),r=Object.keys(t);if(i.length!=r.length)return!1;for(let n=0;n<i.length;n++){const r=i[n];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){const t=[],i=n.matchStyles(a.value,a.params,t),r=n.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{Xu(e,i),Yu(e,r)})}return}const c=Ou(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let h=n.matchTransition(a.value,l.value,e,l.params),u=!1;if(!h){if(!r)return;h=n.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:a,toState:l,player:s,isFallbackTransition:u}),u||(ef(e,"ng-animate-queued"),s.onStart(()=>{tf(e,"ng-animate-queued")})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const i=this._engine.playersByElement.get(e);if(i){let e=i.indexOf(s);e>=0&&i.splice(e,1)}}),this.players.push(s),c.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach(e=>{if(e.__ng_removed)return;const i=this._engine.fetchNamespacesByElement(e);i.size?i.forEach(i=>i.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,i,r){const n=this._engine.statesByElement.get(e);if(n){const s=[];if(Object.keys(n).forEach(t=>{if(this._triggers[t]){const i=this.trigger(e,t,"void",r);i&&s.push(i)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&Su(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const i=new Set;t.forEach(t=>{const r=t.name;if(i.has(r))return;i.add(r);const n=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(e)[r]||$d,o=new Wd("void"),a=new Zd(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:n,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const t=i.players.length?i.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(i.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const r=e.__ng_removed;r&&r!==qd||(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ef(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const n=i.element,s=this._elementListeners.get(n);s&&s.forEach(t=>{if(t.name==i.triggerName){const r=Au(n,i.triggerName,i.fromState.value,i.toState.value);r._data=e,xu(i.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((e,t)=>{const i=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==i||0==r?i-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class Gd{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const i=new Kd(e,t,this);return t.parentNode?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let n=i;n>=0;n--)if(this.driver.containsElement(this._namespaceList[n].hostElement,t)){this._namespaceList.splice(n+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(i);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const e=Object.keys(i);for(let r=0;r<e.length;r++){const n=i[e[r]].namespaceId;if(n){const e=this._fetchNamespace(n);e&&t.add(e)}}}return t}trigger(e,t,i,r){if(Yd(t)){const n=this._fetchNamespace(e);if(n)return n.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Yd(t))return;const n=t.__ng_removed;if(n&&n.setForRemoval){n.setForRemoval=!1,n.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ef(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),tf(e,"ng-animate-disabled"))}removeNode(e,t,i,r){if(Yd(t)){const n=e?this._fetchNamespace(e):null;if(n?n.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const i=this.namespacesByHostElement.get(t);i&&i.id!==e&&i.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,r,n){return Yd(t)?this._fetchNamespace(e).listen(t,i,r,n):()=>{}}_buildInstruction(e,t,i,r,n){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,n)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Su(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=qd,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ef(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let e=0;e<i.length;e++)i[e]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Su(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const i=new wd,r=[],n=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let i=0;i<t.length;i++)c.add(t[i])});const h=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=Jd(u,this.collectedEnterElements),f=new Map;let p=0;d.forEach((e,t)=>{const i="ng-enter"+p++;f.set(t,i),e.forEach(e=>ef(e,i))});const _=[],m=new Set,g=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const e=this.collectedLeaveElements[R],t=e.__ng_removed;t&&t.setForRemoval&&(_.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):g.add(e))}const v=new Map,y=Jd(u,Array.from(m));y.forEach((e,t)=>{const i="ng-leave"+p++;v.set(t,i),e.forEach(e=>ef(e,i))}),e.push(()=>{d.forEach((e,t)=>{const i=f.get(t);e.forEach(e=>tf(e,i))}),y.forEach((e,t)=>{const i=v.get(t);e.forEach(e=>tf(e,i))}),_.forEach(e=>{this.processLeaveNode(e)})});const b=[],w=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(t).forEach(e=>{const t=e.player,n=e.element;if(b.push(t),this.collectedEnterElements.length){const e=n.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!h||!this.driver.containsElement(h,n),u=v.get(n),d=f.get(n),p=this._buildInstruction(e,i,d,u,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return t.onStart(()=>Xu(n,p.fromStyles)),t.onDestroy(()=>Yu(n,p.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>Xu(n,p.fromStyles)),t.onDestroy(()=>Yu(n,p.toStyles)),void r.push(t);p.timelines.forEach(e=>e.stretchStartingKeyframe=!0),i.append(n,p.timelines),s.push({instruction:p,player:t,element:n}),p.queriedElements.forEach(e=>Ou(o,e,[]).push(t)),p.preStyleProps.forEach((e,t)=>{const i=Object.keys(e);if(i.length){let e=a.get(t);e||a.set(t,e=new Set),i.forEach(t=>e.add(t))}}),p.postStyleProps.forEach((e,t)=>{const i=Object.keys(e);let r=l.get(t);r||l.set(t,r=new Set),i.forEach(e=>r.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const C=new Map,S=new Map;s.forEach(e=>{const t=e.element;i.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Ou(C,t,[]).push(e),e.destroy()})});const k=_.filter(e=>nf(e,a,l)),x=new Map;Qd(x,this.driver,g,l,"*").forEach(e=>{nf(e,a,l)&&k.push(e)});const E=new Map;d.forEach((e,t)=>{Qd(E,this.driver,new Set(e),a,"!")}),k.forEach(e=>{const t=x.get(e),i=E.get(e);x.set(e,Object.assign(Object.assign({},t),i))});const A=[],O=[],T={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(i.has(t)){if(c.has(t))return s.onDestroy(()=>Yu(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=T;if(S.size>1){let i=t;const r=[];for(;i=i.parentNode;){const t=S.get(i);if(t){e=t;break}r.push(i)}r.forEach(t=>S.set(t,e))}const i=this._buildAnimation(s.namespaceId,o,C,n,E,x);if(s.setRealPlayer(i),e===T)A.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=Su(t)),r.push(s)}}else Xu(t,o.fromStyles),s.onDestroy(()=>Yu(t,o.toStyles)),O.push(s),c.has(t)&&r.push(s)}),O.forEach(e=>{const t=n.get(e.element);if(t&&t.length){const i=Su(t);e.setRealPlayer(i)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let R=0;R<_.length;R++){const e=_[R],t=e.__ng_removed;if(tf(e,"ng-leave"),t&&t.hasAnimation)continue;let i=[];if(o.size){let t=o.get(e);t&&t.length&&i.push(...t);let r=this.driver.query(e,".ng-animating",!0);for(let e=0;e<r.length;e++){let t=o.get(r[e]);t&&t.length&&i.push(...t)}}const r=i.filter(e=>!e.destroyed);r.length?rf(this,e,r):this.processLeaveNode(e)}return _.length=0,A.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),A}elementContainsData(e,t){let i=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,n){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!n||"void"==n;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&s.push(t)})}}return(i||r)&&(s=s.filter(e=>!(i&&i!=e.namespaceId||r&&r!=e.triggerName))),s}_beforeAnimationBuild(e,t,i){const r=t.element,n=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==r,l=Ou(i,e,[]);this._getPreviousPlayers(e,a,n,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}Xu(r,t.fromStyles)}_buildAnimation(e,t,i,r,n,s){const o=t.triggerName,a=t.element,l=[],c=new Set,h=new Set,u=t.timelines.map(t=>{const u=t.element;c.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new bu(t.duration,t.delay);const f=u!==a,p=function(e){const t=[];return function e(t,i){for(let r=0;r<t.length;r++){const n=t[r];n instanceof wu?e(n.players,i):i.push(n)}}(e,t),t}((i.get(u)||Vd).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===u),_=n.get(u),m=s.get(u),g=ku(0,this._normalizer,0,t.keyframes,_,m),v=this._buildPlayer(t,g,p);if(t.subTimeline&&r&&h.add(u),f){const t=new Zd(e,o,u);t.setRealPlayer(v),l.push(t)}return v});l.forEach(e=>{Ou(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,i){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(i);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(i);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>ef(e,"ng-animating"));const d=Su(u);return d.onDestroy(()=>{c.forEach(e=>tf(e,"ng-animating")),Yu(a,t.toStyles)}),h.forEach(e=>{Ou(r,e,[]).push(d)}),d}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new bu(e.duration,e.delay)}}class Zd{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new bu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>xu(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ou(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Yd(e){return e&&1===e.nodeType}function Xd(e,t){const i=e.style.display;return e.style.display=null!=t?t:"none",i}function Qd(e,t,i,r,n){const s=[];i.forEach(e=>s.push(Xd(e)));const o=[];r.forEach((i,r)=>{const s={};i.forEach(e=>{const i=s[e]=t.computeStyle(r,e,n);i&&0!=i.length||(r.__ng_removed=zd,o.push(r))}),e.set(r,s)});let a=0;return i.forEach(e=>Xd(e,s[a++])),o}function Jd(e,t){const i=new Map;if(e.forEach(e=>i.set(e,[])),0==t.length)return i;const r=new Set(t),n=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let s=n.get(t);if(s)return s;const o=t.parentNode;return s=i.has(o)?o:r.has(o)?1:e(o),n.set(t,s),s}(e);1!==t&&i.get(t).push(e)}),i}function ef(e,t){if(e.classList)e.classList.add(t);else{let i=e.$$classes;i||(i=e.$$classes={}),i[t]=!0}}function tf(e,t){if(e.classList)e.classList.remove(t);else{let i=e.$$classes;i&&delete i[t]}}function rf(e,t,i){Su(i).onDone(()=>e.processLeaveNode(t))}function nf(e,t,i){const r=i.get(e);if(!r)return!1;let n=t.get(e);return n?r.forEach(e=>n.add(e)):t.set(e,r),i.delete(e),!0}class sf{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new Gd(e,t,i),this._timelineEngine=new Ud(e,t,i),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,i,r,n){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=pd(this._driver,n,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new jd(e,t)}(r,t),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[e,n]=Tu(i);this._timelineEngine.command(e,t,n,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,n){if("@"==i.charAt(0)){const[e,r]=Tu(i);return this._timelineEngine.listen(e,t,r,n)}return this._transitionEngine.listen(e,t,i,r,n)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function of(e,t){let i=null,r=null;return Array.isArray(t)&&t.length?(i=lf(t[0]),t.length>1&&(r=lf(t[t.length-1]))):t&&(i=lf(t)),i||r?new af(e,i,r):null}let af=(()=>{class e{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let n=e.initialStylesByElement.get(t);n||e.initialStylesByElement.set(t,n={}),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&Yu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yu(this._element,this._initialStyles),this._endStyles&&(Yu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Xu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xu(this._element,this._endStyles),this._endStyles=null),Yu(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function lf(e){let t=null;const i=Object.keys(e);for(let r=0;r<i.length;r++){const n=i[r];cf(n)&&(t=t||{},t[n]=e[n])}return t}function cf(e){return"display"===e||"position"===e}class hf{constructor(e,t,i,r,n,s,o){this._element=e,this._name=t,this._duration=i,this._delay=r,this._easing=n,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const i=mf(e,"").trim();i.length&&(function(e,t){let i=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&i++}(i),t=`${i}, ${t}`),_f(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),pf(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){uf(this._element,this._name,"paused")}resume(){uf(this._element,this._name,"running")}setPosition(e){const t=df(this._element,this._name);this._position=e*this._duration,_f(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),pf(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const i=mf(e,"").split(","),r=ff(i,t);r>=0&&(i.splice(r,1),_f(e,"",i.join(",")))}(this._element,this._name))}}function uf(e,t,i){_f(e,"PlayState",i,df(e,t))}function df(e,t){const i=mf(e,"");return i.indexOf(",")>0?ff(i.split(","),t):ff([i],t)}function ff(e,t){for(let i=0;i<e.length;i++)if(e[i].indexOf(t)>=0)return i;return-1}function pf(e,t,i){i?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function _f(e,t,i,r){const n="animation"+t;if(null!=r){const t=e.style[n];if(t.length){const e=t.split(",");e[r]=i,i=e.join(",")}}e.style[n]=i}function mf(e,t){return e.style["animation"+t]}class gf{constructor(e,t,i,r,n,s,o,a){this.element=e,this.keyframes=t,this.animationName=i,this._duration=r,this._delay=n,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+n,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new hf(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:ld(this.element,i))})}this.currentSnapshot=e}}class vf extends bu{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Hu(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class yf{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return Fu(e)}matchesElement(e,t){return Nu(e,t)}containsElement(e,t){return ju(e,t)}query(e,t,i){return Bu(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(e=>Hu(e));let r=`@keyframes ${t} {\n`,n="";i.forEach(e=>{n=" ";const t=parseFloat(e.offset);r+=`${n}${100*t}% {\n`,n+=" ",Object.keys(e).forEach(t=>{const i=e[t];switch(t){case"offset":return;case"easing":return void(i&&(r+=`${n}animation-timing-function: ${i};\n`));default:return void(r+=`${n}${t}: ${i};\n`)}}),r+=n+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(e,t,i,r,n,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(e=>e instanceof gf),l={};sd(i,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(i=>{"offset"!=i&&"easing"!=i&&(t[i]=e[i])})}),t}(t=od(e,t,l));if(0==i)return new vf(e,c);const h="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(e,h,t);document.querySelector("head").appendChild(u);const d=of(e,t),f=new gf(e,t,h,i,r,n,c,d);return f.onDestroy(()=>{var e;(e=u).parentNode.removeChild(e)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class bf{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:ld(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class wf{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Cf().toString()),this._cssKeyframesDriver=new yf}validateStyleProperty(e){return Fu(e)}matchesElement(e,t){return Nu(e,t)}containsElement(e,t){return ju(e,t)}query(e,t,i){return Bu(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,r,n,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,r,n,s);const a={duration:i,delay:r,fill:0==r?"both":"forwards"};n&&(a.easing=n);const l={},c=s.filter(e=>e instanceof bf);sd(i,r)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const h=of(e,t=od(e,t=t.map(e=>Ku(e,!1)),l));return new bf(e,t,a,h)}}function Cf(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Sf=(()=>{class e extends hu{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:ht.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?fu(e):e;return Ef(this._renderer,null,t,"register",[i]),new kf(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(Ze(Ia),Ze(Kc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class kf extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xf(this._id,e,t||{},this._renderer)}}class xf{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ef(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function Ef(e,t,i,r,n){return e.setProperty(t,`@@${i}:${r}`,n)}let Af=(()=>{class e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(i);return e||(e=new Of("",i,this.engine),this._rendererCache.set(i,e)),e}const r=t.id,n=t.id+"-"+this._currentId;this._currentId++,this.engine.register(n,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,n,e,t.name,t)};return t.data.animation.forEach(s),new Tf(this,n,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){e>=0&&e<this._microtaskId?this._zone.run(()=>t(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,i]=e;t(i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(Ze(Ia),Ze(sf),Ze(mc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class Of{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Tf extends Of{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let n=t.substr(1),s="";return"@"!=n.charAt(0)&&([n,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(n)),this.engine.listen(this.namespaceId,r,n,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,i,e)})}return this.delegate.listen(e,t,i)}}let Rf=(()=>{class e extends sf{constructor(e,t,i){super(e.body,t,i)}}return e.\u0275fac=function(t){return new(t||e)(Ze(Kc),Ze(Vu),Ze(Ld))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Lf=new Be("AnimationModuleType"),Pf=[{provide:Vu,useFactory:function(){return"function"==typeof Cf()?new wf:new yf}},{provide:Lf,useValue:"BrowserAnimations"},{provide:hu,useClass:Sf},{provide:Ld,useFactory:function(){return new Pd}},{provide:sf,useClass:Rf},{provide:Ia,useFactory:function(e,t,i){return new Af(e,t,i)},deps:[Xh,sf,mc]}];let Df=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:Pf,imports:[cu]}),e})();const If=new v(e=>e.complete());function Mf(e){return e?function(e){return new v(t=>e.schedule(()=>t.complete()))}(e):If}function Ff(e){return new v(t=>{let i;try{i=e()}catch(r){return void t.error(r)}return(i?B(i):Mf()).subscribe(t)})}function Nf(e,t){return new v(t?i=>t.schedule(jf,0,{error:e,subscriber:i}):t=>t.error(e))}function jf({error:e,subscriber:t}){t.error(e)}function Bf(e,t,i,n){return r(i)&&(n=i,i=void 0),n?Bf(e,t,i).pipe(M(e=>l(e)?n(...e):n(e))):new v(r=>{!function e(t,i,r,n,s){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(i,r,s),o=()=>e.removeEventListener(i,r,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(i,r),o=()=>e.off(i,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(i,r),o=()=>e.removeListener(i,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],i,r,n,s)}n.add(o)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,i)})}function Hf(...e){let t=e[e.length-1];return x(t)?(e.pop(),j(e,t)):z(e)}function Uf(){return q(1)}function Vf(...e){return Uf()(Hf(...e))}function qf(){}const zf=new v(qf);function Wf(e,t){return function(i){return i.lift(new $f(e,t))}}class $f{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Kf(e,this.predicate,this.thisArg))}}class Kf extends p{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}function Gf(e,t){return"function"==typeof t?i=>i.pipe(Gf((i,r)=>B(e(i,r)).pipe(M((e,n)=>t(i,e,r,n))))):t=>t.lift(new Zf(e))}class Zf{constructor(e){this.project=e}call(e,t){return t.subscribe(new Yf(e,this.project))}}class Yf extends I{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,i)}_innerSub(e,t,i){const r=this.innerSubscription;r&&r.unsubscribe();const n=new E(this,t,i),s=this.destination;s.add(n),this.innerSubscription=D(this,e,void 0,void 0,n),this.innerSubscription!==n&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,i,r,n){this.destination.next(t)}}const Xf=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Qf(e){return t=>0===e?Mf():t.lift(new Jf(e))}class Jf{constructor(e){if(this.total=e,this.total<0)throw new Xf}call(e,t){return t.subscribe(new ep(e,this.total))}}class ep extends p{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function tp(e,t,i){return function(r){return r.lift(new ip(e,t,i))}}class ip{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new rp(e,this.nextOrObserver,this.error,this.complete))}}class rp extends p{constructor(e,t,i,n){super(e),this._tapNext=qf,this._tapError=qf,this._tapComplete=qf,this._tapError=i||qf,this._tapComplete=n||qf,r(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||qf,this._tapError=t.error||qf,this._tapComplete=t.complete||qf)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class np extends u{constructor(e,t){super()}schedule(e,t=0){return this}}class sp extends np{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r=void 0;try{this.work(e)}catch(n){i=!0,r=!!n&&n||new Error(n)}if(i)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let op=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})();class ap extends op{constructor(e,t=op.now){super(e,()=>ap.delegate&&ap.delegate!==this?ap.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return ap.delegate&&ap.delegate!==this?ap.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const lp=new ap(sp);let cp=(()=>{class e{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return Hf(this.value);case"E":return Nf(this.error);case"C":return Mf()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class hp{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new up(e,this.delay,this.scheduler))}}class up extends p{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,r=e.scheduler,n=e.destination;for(;i.length>0&&i[0].time-r.now()<=0;)i.shift().notification.observe(n);if(i.length>0){const t=Math.max(0,i[0].time-r.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(up.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new dp(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(cp.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(cp.createComplete()),this.unsubscribe()}}class dp{constructor(e,t){this.time=e,this.notification=t}}const fp="Service workers are disabled or not supported by this browser";class pp{constructor(e){if(this.serviceWorker=e,e){const t=Bf(e,"controllerchange").pipe(M(()=>e.controller)),i=Vf(Ff(()=>Hf(e.controller)),t);this.worker=i.pipe(Wf(e=>!!e)),this.registration=this.worker.pipe(Gf(()=>e.getRegistration()));const r=Bf(e,"message").pipe(M(e=>e.data)).pipe(Wf(e=>e&&e.type)).pipe(Q(new S));r.connect(),this.events=r}else this.worker=this.events=this.registration=Ff(()=>Nf(new Error("Service workers are disabled or not supported by this browser")))}postMessage(e,t){return this.worker.pipe(Qf(1),tp(i=>{i.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithStatus(e,t,i){const r=this.waitForStatus(i),n=this.postMessage(e,t);return Promise.all([r,n]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){return this.events.pipe(Wf(t=>t.type===e))}nextEventOfType(e){return this.eventsOfType(e).pipe(Qf(1))}waitForStatus(e){return this.eventsOfType("STATUS").pipe(Wf(t=>t.nonce===e),Qf(1),M(e=>{if(!e.status)throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let _p=(()=>{class e{constructor(e){if(this.sw=e,this.subscriptionChanges=new S,!e.isEnabled)return this.messages=zf,this.notificationClicks=zf,void(this.subscription=zf);this.messages=this.sw.eventsOfType("PUSH").pipe(M(e=>e.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(M(e=>e.data)),this.pushManager=this.sw.registration.pipe(M(e=>e.pushManager));const t=this.pushManager.pipe(Gf(e=>e.getSubscription()));this.subscription=W(t,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(fp));const t={userVisibleOnly:!0};let i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(i.length));for(let n=0;n<i.length;n++)r[n]=i.charCodeAt(n);return t.applicationServerKey=r,this.pushManager.pipe(Gf(e=>e.subscribe(t)),Qf(1)).toPromise().then(e=>(this.subscriptionChanges.next(e),e))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Qf(1),Gf(e=>{if(null===e)throw new Error("Not subscribed to push notifications.");return e.unsubscribe().then(e=>{if(!e)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(fp))}decodeBase64(e){return atob(e)}}return e.\u0275fac=function(t){return new(t||e)(Ze(pp))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),mp=(()=>{class e{constructor(e){if(this.sw=e,!e.isEnabled)return this.available=zf,void(this.activated=zf);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fp));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fp));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}}return e.\u0275fac=function(t){return new(t||e)(Ze(pp))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class gp{}const vp=new Be("NGSW_REGISTER_SCRIPT");function yp(e,t,i,r){return()=>{if(!Ph(r)||!("serviceWorker"in navigator)||!1===i.enabled)return;let n;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof i.registrationStrategy)n=i.registrationStrategy();else{const[t,...r]=(i.registrationStrategy||"registerWhenStable:30000").split(":");switch(t){case"registerImmediately":n=Hf(null);break;case"registerWithDelay":n=bp(+r[0]||0);break;case"registerWhenStable":n=r[0]?W(wp(e),bp(+r[0])):wp(e);break;default:throw new Error("Unknown ServiceWorker registration strategy: "+i.registrationStrategy)}}e.get(mc).runOutsideAngular(()=>n.pipe(Qf(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:i.scope}).catch(e=>console.error("Service worker registration failed with:",e))))}}function bp(e){return Hf(null).pipe(function(e,t=lp){var i;const r=(i=e)instanceof Date&&!isNaN(+i)?+e-t.now():Math.abs(e);return e=>e.lift(new hp(r,t))}(e))}function wp(e){return e.get(Mc).isStable.pipe(Wf(e=>e))}function Cp(e,t){return new pp(Ph(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}let Sp=(()=>{class e{static register(t,i={}){return{ngModule:e,providers:[{provide:vp,useValue:t},{provide:gp,useValue:i},{provide:pp,useFactory:Cp,deps:[gp,tc]},{provide:Zl,useFactory:yp,deps:[ao,vp,gp,tc],multi:!0}]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[_p,mp]}),e})();function kp(e,t){return H(e,t,1)}class xp{}class Ep{}class Ap{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const i=e.slice(0,t),r=i.toLowerCase(),n=e.slice(t+1).trim();this.maybeSetNormalizedName(i,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ap?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ap;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ap?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const n=e.value;if(n){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===n.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Op{encodeKey(e){return Tp(e)}encodeValue(e){return Tp(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function Tp(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Rp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Op,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const i=new Map;return e.length>0&&e.split("&").forEach(e=>{const r=e.indexOf("="),[n,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=i.get(n)||[];o.push(s),i.set(n,o)}),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Rp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const i=t.indexOf(e.value);-1!==i&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Lp(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Pp(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Dp(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Ip{constructor(e,t,i,r){let n;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,n=r):n=i,n&&(this.reportProgress=!!n.reportProgress,this.withCredentials=!!n.withCredentials,n.responseType&&(this.responseType=n.responseType),n.headers&&(this.headers=n.headers),n.params&&(this.params=n.params)),this.headers||(this.headers=new Ap),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const i=t.indexOf("?");this.urlWithParams=t+(-1===i?"?":i<t.length-1?"&":"")+e}}else this.params=new Rp,this.urlWithParams=t}serializeBody(){return null===this.body?null:Lp(this.body)||Pp(this.body)||Dp(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Dp(this.body)?null:Pp(this.body)?this.body.type||null:Lp(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,n=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,i)=>t.set(i,e.setHeaders[i]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,i)=>t.set(i,e.setParams[i]),l)),new Ip(t,i,n,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var Mp=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class Fp{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ap,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Np extends Fp{constructor(e={}){super(e),this.type=Mp.ResponseHeader}clone(e={}){return new Np({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jp extends Fp{constructor(e={}){super(e),this.type=Mp.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bp extends Fp{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Hp(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Up=(()=>{class e{constructor(e){this.handler=e}request(e,t,i={}){let r;if(e instanceof Ip)r=e;else{let n=void 0;n=i.headers instanceof Ap?i.headers:new Ap(i.headers);let s=void 0;i.params&&(s=i.params instanceof Rp?i.params:new Rp({fromObject:i.params})),r=new Ip(e,t,void 0!==i.body?i.body:null,{headers:n,params:s,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const n=Hf(r).pipe(kp(e=>this.handler.handle(e)));if(e instanceof Ip||"events"===i.observe)return n;const s=n.pipe(Wf(e=>e instanceof jp));switch(i.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(M(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(M(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(M(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(M(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Rp).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,i={}){return this.request("PATCH",e,Hp(i,t))}post(e,t,i={}){return this.request("POST",e,Hp(i,t))}put(e,t,i={}){return this.request("PUT",e,Hp(i,t))}}return e.\u0275fac=function(t){return new(t||e)(Ze(xp))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class Vp{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const qp=new Be("HTTP_INTERCEPTORS");let zp=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Wp=/^\)\]\}',?\n/;class $p{}let Kp=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Gp=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new v(t=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((e,t)=>i.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&i.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();i.responseType="json"!==t?t:"text"}const r=e.serializeBody();let n=null;const s=()=>{if(null!==n)return n;const t=1223===i.status?204:i.status,r=i.statusText||"OK",s=new Ap(i.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return n=new Np({headers:s,status:t,statusText:r,url:o}),n},o=()=>{let{headers:r,status:n,statusText:o,url:a}=s(),l=null;204!==n&&(l=void 0===i.response?i.responseText:i.response),0===n&&(n=l?200:0);let c=n>=200&&n<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(Wp,"");try{l=""!==l?JSON.parse(l):null}catch(h){l=e,c&&(c=!1,l={error:h,text:l})}}c?(t.next(new jp({body:l,headers:r,status:n,statusText:o,url:a||void 0})),t.complete()):t.error(new Bp({error:l,headers:r,status:n,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),n=new Bp({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:r||void 0});t.error(n)};let l=!1;const c=r=>{l||(t.next(s()),l=!0);let n={type:Mp.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(n.total=r.total),"text"===e.responseType&&i.responseText&&(n.partialText=i.responseText),t.next(n)},h=e=>{let i={type:Mp.UploadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),t.next(i)};return i.addEventListener("load",o),i.addEventListener("error",a),e.reportProgress&&(i.addEventListener("progress",c),null!==r&&i.upload&&i.upload.addEventListener("progress",h)),i.send(r),t.next({type:Mp.Sent}),()=>{i.removeEventListener("error",a),i.removeEventListener("load",o),e.reportProgress&&(i.removeEventListener("progress",c),null!==r&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(Ze($p))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Zp=new Be("XSRF_COOKIE_NAME"),Yp=new Be("XSRF_HEADER_NAME");class Xp{}let Qp=(()=>{class e{constructor(e,t,i){this.doc=e,this.platform=t,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ph(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Ze(Kc),Ze(tc),Ze(Zp))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Jp=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(Ze(Xp),Ze(Yp))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),e_=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(qp,[]);this.chain=e.reduceRight((e,t)=>new Vp(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(Ze(Ep),Ze(ao))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),t_=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Jp,useClass:zp}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Zp,useValue:t.cookieName}:[],t.headerName?{provide:Yp,useValue:t.headerName}:[]]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[Jp,{provide:qp,useExisting:Jp,multi:!0},{provide:Xp,useClass:Qp},{provide:Zp,useValue:"XSRF-TOKEN"},{provide:Yp,useValue:"X-XSRF-TOKEN"}]}),e})(),i_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[Up,{provide:xp,useClass:e_},Gp,{provide:Ep,useExisting:Gp},Kp,{provide:$p,useExisting:Kp}],imports:[[t_.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();function r_(e){return null!=e&&""+e!="false"}function n_(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function s_(e){return Array.isArray(e)?e:[e]}function o_(e){return null==e?"":"string"==typeof e?e:e+"px"}function a_(e){return e instanceof Pa?e.nativeElement:e}class l_{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new c_(e,this.compare,this.keySelector))}}class c_ extends p{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:e}=this;i=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}class h_{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new u_(e,this.durationSelector))}}class u_ extends I{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:t}=this;i=t(e)}catch(t){return this.destination.error(t)}const r=D(this,i);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,i,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function d_(e){return!l(e)&&e-parseFloat(e)+1>=0}function f_(e){const{index:t,period:i,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===i)return r.complete();e.index=t+1,this.schedule(e,i)}}function p_(e,t=lp){return i=()=>function(e=0,t,i){let r=-1;return d_(t)?r=Number(t)<1?1:Number(t):x(t)&&(i=t),x(i)||(i=lp),new v(t=>{const n=d_(e)?e:+e-i.now();return i.schedule(f_,n,{index:0,period:r,subscriber:t})})}(e,t),function(e){return e.lift(new h_(i))};var i}function __(e){return t=>t.lift(new m_(e))}class m_{constructor(e){this.notifier=e}call(e,t){const i=new g_(e),r=D(i,this.notifier);return r&&!i.seenValue?(i.add(r),t.subscribe(i)):i}}class g_ extends I{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,i,r,n){this.seenValue=!0,this.complete()}notifyComplete(){}}function v_(...e){const t=e[e.length-1];return x(t)?(e.pop(),i=>Vf(e,i,t)):t=>Vf(e,t)}class y_ extends sp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}class b_ extends ap{}const w_=new b_(y_);class C_ extends p{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(C_.dispatch,this.delay,new S_(e,this.destination)))}_next(e){this.scheduleMessage(cp.createNext(e))}_error(e){this.scheduleMessage(cp.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(cp.createComplete()),this.unsubscribe()}}class S_{constructor(e,t){this.notification=e,this.destination=t}}class k_ extends S{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new x_(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,n=i.length;let s;if(this.closed)throw new b;if(this.isStopped||this.hasError?s=u.EMPTY:(this.observers.push(e),s=new w(this,e)),r&&e.add(e=new C_(e,r)),t)for(let o=0;o<n&&!e.closed;o++)e.next(i[o]);else for(let o=0;o<n&&!e.closed;o++)e.next(i[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||w_).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,r=this._events,n=r.length;let s=0;for(;s<n&&!(e-r[s].time<i);)s++;return n>t&&(s=Math.max(s,n-t)),s>0&&r.splice(0,s),r}}class x_{constructor(e,t){this.time=e,this.value=t}}function E_(e,t,i){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:i},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:i,scheduler:r}){let n,s,o=0,a=!1,l=!1;return function(c){o++,n&&!a||(a=!1,n=new k_(e,t,r),s=c.subscribe({next(e){n.next(e)},error(e){a=!0,n.error(e)},complete(){l=!0,s=void 0,n.complete()}}));const h=n.subscribe(this);this.add(()=>{o--,h.unsubscribe(),s&&!l&&i&&0===o&&(s.unsubscribe(),s=void 0,n=void 0)})}}(r))}let A_;try{A_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(px){A_=!1}let O_,T_=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Ph(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!A_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(Ze(tc))},e.\u0275prov=ue({factory:function(){return new e(Ze(tc))},token:e,providedIn:"root"}),e})(),R_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})();const L_=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function P_(){if(O_)return O_;if("object"!=typeof document||!document)return O_=new Set(L_),O_;let e=document.createElement("input");return O_=new Set(L_.filter(t=>(e.setAttribute("type",t),e.type===t))),O_}let D_,I_;function M_(e){return function(){if(null==D_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>D_=!0}))}finally{D_=D_||!1}return D_}()?e:!!e.capture}function F_(e){if(function(){if(null==I_){const e="undefined"!=typeof document?document.head:null;I_=!(!e||!e.createShadowRoot&&!e.attachShadow)}return I_}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}const N_=new Be("cdk-dir-doc",{providedIn:"root",factory:function(){return Ye(Kc)}});let j_=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new El,e){const t=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||t;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(Ze(N_,8))},e.\u0275prov=ue({factory:function(){return new e(Ze(N_,8))},token:e,providedIn:"root"}),e})(),B_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})();class H_{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new S,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let U_=(()=>{class e{constructor(e,t,i){this._ngZone=e,this._platform=t,this._scrolled=new S,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new v(t=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(p_(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Hf()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const i=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Wf(e=>!e||i.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((i,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(e,t){let i=t.nativeElement,r=e.getElementRef().nativeElement;do{if(i==r)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Bf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(Ze(mc),Ze(T_),Ze(Kc,8))},e.\u0275prov=ue({factory:function(){return new e(Ze(mc),Ze(T_),Ze(Kc,8))},token:e,providedIn:"root"}),e})(),V_=(()=>{class e{constructor(e,t,i){this._platform=e,this._change=new S,this._changeListener=e=>{this._change.next(e)},this._document=i,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+t,height:i,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._getDocument(),t=this._getWindow(),i=e.documentElement,r=i.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||i.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(p_(e)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(Ze(T_),Ze(mc),Ze(Kc,8))},e.\u0275prov=ue({factory:function(){return new e(Ze(T_),Ze(mc),Ze(Kc,8))},token:e,providedIn:"root"}),e})(),q_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})(),z_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[B_,R_,q_],B_,q_]}),e})();class W_{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class $_ extends W_{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class K_ extends W_{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class G_ extends W_{constructor(e){super(),this.element=e instanceof Pa?e.nativeElement:e}}class Z_{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof $_?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof K_?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof G_?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Y_ extends Z_{constructor(e,t,i,r,n){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=e=>{const t=e.element,i=this._document.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})},this._document=n}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=t.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),i}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(e=>this.outletElement.appendChild(e)),i.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(i);-1!==e&&t.remove(e)}),i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let X_=(()=>{class e extends Z_{constructor(e,t,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new El,this.attachDomPortal=e=>{const t=e.element,i=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(i,t),this._getRootNode().appendChild(t),super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r=t.createComponent(i,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return e.\u0275fac=function(t){return new(t||e)(Co(La),Co(nl),Co(Kc))},e.\u0275dir=bt({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ma]}),e})(),Q_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})();class J_{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new em(e,this.predicate,this.inclusive))}}class em extends p{constructor(e,t,i){super(e),this.predicate=t,this.inclusive=i,this.index=0}_next(e){const t=this.destination;let i;try{i=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,i)}nextOrComplete(e,t){const i=this.destination;Boolean(t)?i.next(e):(this.inclusive&&i.next(e),i.complete())}}function tm(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}class im{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=o_(-this._previousScrollPosition.left),e.style.top=o_(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,i=this._document.body.style,r=t.scrollBehavior||"",n=i.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=i.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=r,i.scrollBehavior=n}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class rm{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class nm{enable(){}disable(){}attach(){}}function sm(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function om(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class am{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:i}=this._viewportRuler.getViewportSize();sm(e,[{width:t,height:i,bottom:i,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let lm=(()=>{class e{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this.noop=()=>new nm,this.close=e=>new rm(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new im(this._viewportRuler,this._document),this.reposition=e=>new am(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=r}}return e.\u0275fac=function(t){return new(t||e)(Ze(U_),Ze(V_),Ze(mc),Ze(Kc))},e.\u0275prov=ue({factory:function(){return new e(Ze(U_),Ze(V_),Ze(mc),Ze(Kc))},token:e,providedIn:"root"}),e})();class cm{constructor(e){if(this.scrollStrategy=new nm,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class hm{constructor(e,t,i,r,n){this.offsetX=i,this.offsetY=r,this.panelClass=n,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class um{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let dm=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(Ze(Kc))},e.\u0275prov=ue({factory:function(){return new e(Ze(Kc))},token:e,providedIn:"root"}),e})(),fm=(()=>{class e extends dm{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let i=t.length-1;i>-1;i--)if(t[i]._keydownEvents.observers.length>0){t[i]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(Ze(Kc))},e.\u0275prov=ue({factory:function(){return new e(Ze(Kc))},token:e,providedIn:"root"}),e})(),pm=(()=>{class e extends dm{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._clickListener=e=>{const t=e.composedPath?e.composedPath()[0]:e.target,i=this._attachedOverlays.slice();for(let r=i.length-1;r>-1;r--){const n=i[r];if(!(n._outsidePointerEvents.observers.length<1)&&n.hasAttached()){if(n.overlayElement.contains(t))break;n._outsidePointerEvents.next(e)}}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(Ze(Kc),Ze(T_))},e.\u0275prov=ue({factory:function(){return new e(Ze(Kc),Ze(T_))},token:e,providedIn:"root"}),e})();const _m=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let mm=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(e||_m){const e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),_m?t.setAttribute("platform","test"):e||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(Ze(Kc),Ze(T_))},e.\u0275prov=ue({factory:function(){return new e(Ze(Kc),Ze(T_))},token:e,providedIn:"root"}),e})();class gm{constructor(e,t,i,r,n,s,o,a,l){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=n,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new S,this._attachments=new S,this._detachments=new S,this._locationChanges=u.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new S,this._outsidePointerEvents=new S,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qf(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=o_(this._config.width),e.height=o_(this._config.height),e.minWidth=o_(this._config.minWidth),e.minHeight=o_(this._config.minHeight),e.maxWidth=o_(this._config.maxWidth),e.maxHeight=o_(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const r=e.classList;s_(t).forEach(e=>{e&&(i?r.add(e):r.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(__(W(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const vm=/([A-Za-z%]+)$/;class ym{constructor(e,t,i,r,n){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=n,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new S,this._resizeSubscription=u.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=[];let n;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),l=this._getOverlayFit(a,t,i,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,i)?r.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!n||n.overlayFit.visibleArea<l.visibleArea)&&(n={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(r.length){let e=null,t=-1;for(const i of r){const r=i.boundingBoxRect.width*i.boundingBoxRect.height*(i.position.weight||1);r>t&&(t=r,e=i)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(n.position,n.originPoint);this._applyPosition(n.position,n.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&bm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let i,r;if("center"==t.originX)i=e.left+e.width/2;else{const r=this._isRtl()?e.right:e.left,n=this._isRtl()?e.left:e.right;i="start"==t.originX?r:n}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:i,y:r}}_getOverlayPoint(e,t,i){let r,n;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,n="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+n}}_getOverlayFit(e,t,i,r){let{x:n,y:s}=e,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(n+=o),a&&(s+=a);let l=0-s,c=s+t.height-i.height,h=this._subtractOverflows(t.width,0-n,n+t.width-i.width),u=this._subtractOverflows(t.height,l,c),d=h*u;return{visibleArea:d,isCompletelyWithinViewport:t.width*t.height===d,fitsInViewportVertically:u===t.height,fitsInViewportHorizontally:h==t.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,n=i.right-t.x,s=wm(this._overlayRef.getConfig().minHeight),o=wm(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=o&&o<=n;return(e.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=this._viewportRect,n=Math.max(e.x+t.width-r.width,0),s=Math.max(e.y+t.height-r.height,0),o=Math.max(r.top-i.top-e.y,0),a=Math.max(r.left-i.left-e.x,0);let l=0,c=0;return l=t.width<=r.width?a||-n:e.x<this._viewportMargin?r.left-i.left-e.x:0,c=t.height<=r.height?o||-s:e.y<this._viewportMargin?r.top-i.top-e.y:0,this._previousPushAmount={x:l,y:c},{x:e.x+l,y:e.y+c}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),i=new um(e,t);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let n=0;n<t.length;n++)t[n].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let n,s,o,a,l,c;if("top"===t.overlayY)s=e.y,n=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=i.height-e.y+2*this._viewportMargin,n=i.height-o+this._viewportMargin;else{const t=Math.min(i.bottom-e.y+i.top,e.y),r=this._lastBoundingBoxSize.height;n=2*t,s=e.y-t,n>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-r/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)c=i.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)l=e.x,a=i.right-e.x;else{const t=Math.min(i.right-e.x+i.left,e.x),r=this._lastBoundingBoxSize.width;a=2*t,l=e.x-t,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-r/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:n}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,n=this._overlayRef.getConfig().maxWidth;r.height=o_(i.height),r.top=o_(i.top),r.bottom=o_(i.bottom),r.width=o_(i.width),r.left=o_(i.left),r.right=o_(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(r.maxHeight=o_(e)),n&&(r.maxWidth=o_(n))}this._lastBoundingBoxSize=i,bm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){bm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){bm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),n=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();bm(i,this._getExactOverlayY(t,e,r)),bm(i,this._getExactOverlayX(t,e,r))}else i.position="static";let o="",a=this._getOffset(t,"x"),l=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),i.transform=o.trim(),s.maxHeight&&(r?i.maxHeight=o_(s.maxHeight):n&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=o_(s.maxWidth):n&&(i.maxWidth="")),bm(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},n=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,i));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return n.y-=s,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(n.y+this._overlayRect.height)+"px":r.top=o_(n.y),r}_getExactOverlayX(e,t,i){let r,n={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),r=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===r?n.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":n.left=o_(s.x),n}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:om(e,i),isOriginOutsideView:sm(e,i),isOverlayClipped:om(t,i),isOverlayOutsideView:sm(t,i)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&s_(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Pa)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function bm(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function wm(e){if("number"!=typeof e&&null!=e){const[t,i]=e.split(vm);return i&&"px"!==i?null:parseFloat(t)}return e||null}class Cm{constructor(e,t,i,r,n,s,o){this._preferredPositions=[],this._positionStrategy=new ym(i,r,n,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,i,r){const n=new hm(e,t,i,r);return this._preferredPositions.push(n),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}class Sm{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:n,maxWidth:s,maxHeight:o}=i,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==n&&"100vh"!==n||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove("cdk-global-overlay-wrapper"),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let km=(()=>{class e{constructor(e,t,i,r){this._viewportRuler=e,this._document=t,this._platform=i,this._overlayContainer=r}global(){return new Sm}connectedTo(e,t,i){return new Cm(t,i,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new ym(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(Ze(V_),Ze(Kc),Ze(T_),Ze(mm))},e.\u0275prov=ue({factory:function(){return new e(Ze(V_),Ze(Kc),Ze(T_),Ze(mm))},token:e,providedIn:"root"}),e})(),xm=0,Em=(()=>{class e{constructor(e,t,i,r,n,s,o,a,l,c,h){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=n,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=h}create(e){const t=this._createHostElement(),i=this._createPaneElement(t),r=this._createPortalOutlet(i),n=new cm(e);return n.direction=n.direction||this._directionality.value,new gm(r,t,i,n,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+xm++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Mc)),new Y_(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(Ze(lm),Ze(mm),Ze(La),Ze(km),Ze(fm),Ze(ao),Ze(mc),Ze(Kc),Ze(j_),Ze(lh),Ze(pm))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Am=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Om=new Be("cdk-connected-overlay-scroll-strategy");let Tm=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(Co(Pa))},e.\u0275dir=bt({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),e})(),Rm=(()=>{class e{constructor(e,t,i,r,n){this._overlay=e,this._dir=n,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=u.EMPTY,this._attachSubscription=u.EMPTY,this._detachSubscription=u.EMPTY,this._positionSubscription=u.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new El,this.positionChange=new El,this.attach=new El,this.detach=new El,this.overlayKeydown=new El,this.overlayOutsideClick=new El,this._templatePortal=new K_(t,i),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=r_(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=r_(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=r_(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=r_(e)}get push(){return this._push}set push(e){this._push=r_(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Am);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),27!==e.keyCode||tm(e)||(e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(e=>{this.overlayOutsideClick.next(e)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new cm({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e,t=!1){return i=>i.lift(new J_(e,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Co(Em),Co(il),Co(nl),Co(Om),Co(j_,8))},e.\u0275dir=bt({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Dt]}),e})();const Lm={provide:Om,deps:[Em],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let Pm=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[Em,Lm],imports:[[B_,Q_,z_],z_]}),e})();function Dm(e,t=lp){return i=>i.lift(new Im(e,t))}class Im{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new Mm(e,this.dueTime,this.scheduler))}}class Mm extends p{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Fm,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Fm(e){e.debouncedNext()}let Nm=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})(),jm=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=a_(e);return new v(e=>{const i=this._observeElement(t).subscribe(e);return()=>{i.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new S,i=this._mutationObserverFactory.create(e=>t.next(e));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:i}=this._observedElements.get(e);t&&t.disconnect(),i.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(Ze(Nm))},e.\u0275prov=ue({factory:function(){return new e(Ze(Nm))},token:e,providedIn:"root"}),e})(),Bm=(()=>{class e{constructor(e,t,i){this._contentObserver=e,this._elementRef=t,this._ngZone=i,this.event=new El,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=r_(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=n_(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Dm(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Co(jm),Co(Pa),Co(mc))},e.\u0275dir=bt({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),Hm=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[Nm]}),e})();class Um extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new S,this._typeaheadSubscription=u.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new S,this.change=new S,e instanceof Ol&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(tp(e=>this._pressedLetters.push(e)),Dm(e),Wf(()=>this._pressedLetters.length>0),M(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let i=1;i<t.length+1;i++){const r=(this._activeItemIndex+i)%t.length,n=t[r];if(!this._skipPredicateFn(n)&&0===n.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||tm(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Ol?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}"undefined"!=typeof Element&&Element;const Vm=new Be("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),qm=new Be("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let zm=(()=>{class e{constructor(e,t,i,r){this._ngZone=t,this._defaultOptions=r,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...t){const i=this._defaultOptions;let r,n;return 1===t.length&&"number"==typeof t[0]?n=t[0]:[r,n]=t,this.clear(),clearTimeout(this._previousTimeout),r||(r=i&&i.politeness?i.politeness:"polite"),null==n&&i&&(n=i.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof n&&(this._previousTimeout=setTimeout(()=>this.clear(),n))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div");for(let i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}return e.\u0275fac=function(t){return new(t||e)(Ze(Vm,8),Ze(mc),Ze(Kc),Ze(qm,8))},e.\u0275prov=ue({factory:function(){return new e(Ze(Vm,8),Ze(mc),Ze(Kc),Ze(qm,8))},token:e,providedIn:"root"}),e})();function Wm(e){return 0===e.buttons}const $m=new Be("cdk-focus-monitor-default-options"),Km=M_({passive:!0,capture:!0});let Gm=(()=>{class e{constructor(e,t,i,r){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=e=>{if(!this._lastTouchTarget){const t=Wm(e)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=e=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Zm(e),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=e=>{const t=Zm(e),i="focus"===e.type?this._onFocus:this._onBlur;for(let r=t;r;r=r.parentElement)i.call(this,e,r)},this._document=i,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(e,t=!1){const i=a_(e);if(!this._platform.isBrowser||1!==i.nodeType)return Hf(null);const r=F_(i)||this._getDocument(),n=this._elementInfo.get(i);if(n)return t&&(n.checkChildren=!0),n.subject;const s={checkChildren:t,subject:new S,rootNode:r};return this._elementInfo.set(i,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const t=a_(e),i=this._elementInfo.get(t);i&&(i.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(i))}focusVia(e,t,i){const r=a_(e);this._setOriginForCurrentEventQueue(t),"function"==typeof r.focus&&r.focus(i)}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,i){i?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const t=Zm(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const i=this._elementInfo.get(t);if(!i||!i.checkChildren&&t!==Zm(e))return;const r=this._getFocusOrigin(e);this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_onBlur(e,t){const i=this._elementInfo.get(t);!i||i.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(i.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,i=this._rootNodeFocusListenerCount.get(t)||0;i||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,Km),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,Km)}),this._rootNodeFocusListenerCount.set(t,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const e=this._getDocument(),t=this._getWindow();e.addEventListener("keydown",this._documentKeydownListener,Km),e.addEventListener("mousedown",this._documentMousedownListener,Km),e.addEventListener("touchstart",this._documentTouchstartListener,Km),t.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Km),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Km),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){const e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,Km),e.removeEventListener("mousedown",this._documentMousedownListener,Km),e.removeEventListener("touchstart",this._documentTouchstartListener,Km),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return e.\u0275fac=function(t){return new(t||e)(Ze(mc),Ze(T_),Ze(Kc,8),Ze($m,8))},e.\u0275prov=ue({factory:function(){return new e(Ze(mc),Ze(T_),Ze(Kc,8),Ze($m,8))},token:e,providedIn:"root"}),e})();function Zm(e){return e.composedPath?e.composedPath()[0]:e.target}let Ym=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,i=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");const t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}return e.\u0275fac=function(t){return new(t||e)(Ze(T_),Ze(Kc))},e.\u0275prov=ue({factory:function(){return new e(Ze(T_),Ze(Kc))},token:e,providedIn:"root"}),e})();const Xm=new Ba("10.2.7");function Qm(e,t){if(1&e&&Oo(0,"mat-pseudo-checkbox",3),2&e){const e=Bo();ko("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}const Jm=["*"],eg=new Ba("10.2.7"),tg=new Be("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ig,rg=(()=>{class e{constructor(e,t,i){this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const e=this._document||document;return"object"==typeof e&&e?e:null}_getWindow(){const e=this._getDocument(),t=(null==e?void 0:e.defaultView)||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return kr()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){const e=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),t=this._getDocument();e&&t&&!t.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const e=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,t=this._getDocument();if(e||!t||!t.body||"function"!=typeof getComputedStyle)return;const i=t.createElement("div");i.classList.add("mat-theme-loaded-marker"),t.body.appendChild(i);const r=getComputedStyle(i);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.body.removeChild(i)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&eg.full!==Xm.full&&console.warn("The Angular Material version ("+eg.full+") does not match the Angular CDK version ("+Xm.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)(Ze(Ym),Ze(tg,8),Ze(Kc,8))},imports:[[B_],B_]}),e})();function ng(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=r_(e)}}}function sg(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),t&&this._elementRef.nativeElement.classList.add("mat-"+t),this._color=t)}}}function og(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=r_(e)}}}function ag(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?n_(e):this.defaultTabIndex}}}function lg(e){return class extends e{constructor(...e){super(...e),this.errorState=!1,this.stateChanges=new S}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}try{ig="undefined"!=typeof Intl}catch(px){ig=!1}let cg=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})();class hg{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ug={enterDuration:450,exitDuration:400},dg=M_({passive:!0}),fg=["mousedown","touchstart"],pg=["mouseup","mouseleave","touchend","touchcancel"];class _g{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=a_(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),n=Object.assign(Object.assign({},ug),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function(e,t,i){const r=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),n=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(r*r+n*n)}(e,t,r),o=e-r.left,a=t-r.top,l=n.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=i.color&&(c.style.backgroundColor=i.color),c.style.transitionDuration=l+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const h=new hg(this,c,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const e=h===this._mostRecentTransientRipple;h.state=1,i.persistent||e&&this._isPointerDown||h.fadeOut()},l),h}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},ug),e.config.animation);i.style.transitionDuration=r.exitDuration+"ms",i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.parentNode.removeChild(i)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}setupTriggerEvents(e){const t=a_(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(fg))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(pg),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Wm(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||i||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,dg)})})}_removeTriggerEvents(){this._triggerElement&&(fg.forEach(e=>{this._triggerElement.removeEventListener(e,this,dg)}),this._pointerUpEventsRegistered&&pg.forEach(e=>{this._triggerElement.removeEventListener(e,this,dg)}))}}const mg=new Be("mat-ripple-global-options");let gg=(()=>{class e{constructor(e,t,i,r,n){this._elementRef=e,this._animationMode=n,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new _g(this,t,e,i)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(Co(Pa),Co(mc),Co(T_),Co(mg,8),Co(Lf,8))},e.\u0275dir=bt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&Xo("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),vg=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[rg,R_],rg]}),e})(),yg=(()=>{class e{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return e.\u0275fac=function(t){return new(t||e)(Co(Lf,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&Xo("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),e})(),bg=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})();class wg{}const Cg=ng(wg);let Sg=0,kg=(()=>{class e extends Cg{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+Sg++}}return e.\u0275fac=function(t){return xg(t||e)},e.\u0275dir=bt({type:e,inputs:{label:"label"},features:[ma]}),e})();const xg=pr(kg),Eg=new Be("MatOptgroup");let Ag=0;class Og{constructor(e,t=!1){this.source=e,this.isUserInput=t}}const Tg=new Be("MAT_OPTION_PARENT_COMPONENT");let Rg=(()=>{class e{constructor(e,t,i,r){this._element=e,this._changeDetectorRef=t,this._parent=i,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ag++,this.onSelectionChange=new El,this._stateChanges=new S}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=r_(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){13!==e.keyCode&&32!==e.keyCode||tm(e)||(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Og(this,e))}}return e.\u0275fac=function(t){return new(t||e)(Co(Pa),Co(zs),Co(void 0),Co(kg))},e.\u0275dir=bt({type:e,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),e})(),Lg=(()=>{class e extends Rg{constructor(e,t,i,r){super(e,t,i,r)}}return e.\u0275fac=function(t){return new(t||e)(Co(Pa),Co(zs),Co(Tg,8),Co(Eg,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&Io("click",(function(){return t._selectViaInteraction()}))("keydown",(function(e){return t._handleKeydown(e)})),2&e&&(fa("id",t.id),vo("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),Xo("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[ma],ngContentSelectors:Jm,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(e,t){1&e&&(Uo(),bo(0,Qm,1,2,"mat-pseudo-checkbox",0),Eo(1,"span",1),Vo(2),Ao(),Oo(3,"div",2)),2&e&&(ko("ngIf",t.multiple),gn(3),ko("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[yh,gg,yg],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),e})();function Pg(e,t,i){if(i.length){let r=t.toArray(),n=i.toArray(),s=0;for(let t=0;t<e+1;t++)r[t].group&&r[t].group===n[s]&&s++;return s}return 0}let Dg=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[vg,Lh,bg]]}),e})();const Ig=new Be("mat-label-global-options"),Mg=["mat-button",""],Fg=["*"],Ng=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",jg=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Bg{constructor(e){this._elementRef=e}}const Hg=sg(ng(og(Bg)));let Ug=(()=>{class e extends Hg{constructor(e,t,i){super(e),this._focusMonitor=t,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of jg)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",t){this._focusMonitor.focusVia(this._getHostElement(),e,t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(Co(Pa),Co(Gm),Co(Lf,8))},e.\u0275cmp=pt({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){var i;1&e&&Bl(gg,!0),2&e&&Nl(i=zl())&&(t.ripple=i.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(vo("disabled",t.disabled||null),Xo("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ma],attrs:Mg,ngContentSelectors:Fg,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(Uo(),Eo(0,"span",0),Vo(1),Ao(),Oo(2,"span",1),Oo(3,"span",2)),2&e&&(gn(2),Xo("mat-button-ripple-round",t.isRoundButton||t.isIconButton),ko("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[gg],styles:[Ng],encapsulation:2,changeDetection:0}),e})(),Vg=(()=>{class e extends Ug{constructor(e,t,i){super(t,e,i)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return e.\u0275fac=function(t){return new(t||e)(Co(Gm),Co(Pa),Co(Lf,8))},e.\u0275cmp=pt({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,t){1&e&&Io("click",(function(e){return t._haltDisabledEvents(e)})),2&e&&(vo("tabindex",t.disabled?-1:t.tabIndex||0)("disabled",t.disabled||null)("aria-disabled",t.disabled.toString()),Xo("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[ma],attrs:Mg,ngContentSelectors:Fg,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(Uo(),Eo(0,"span",0),Vo(1),Ao(),Oo(2,"span",1),Oo(3,"span",2)),2&e&&(gn(2),Xo("mat-button-ripple-round",t.isRoundButton||t.isIconButton),ko("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[gg],styles:[Ng],encapsulation:2,changeDetection:0}),e})(),qg=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[vg,rg],rg]}),e})();const zg={};function Wg(...e){let t=null,i=null;return x(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),z(e,i).lift(new $g(t))}class $g{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Kg(e,this.resultSelector))}}class Kg extends I{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(zg),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++){const t=e[i];this.add(D(this,t,t,i))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i,r,n){const s=this.values,o=this.toRespond?s[i]===zg?--this.toRespond:this.toRespond:0;s[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}class Gg{constructor(e){this.total=e}call(e,t){return t.subscribe(new Zg(e,this.total))}}class Zg extends p{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}const Yg=new Set;let Xg,Qg=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Jg}matchMedia(e){return this._platform.WEBKIT&&function(e){if(!Yg.has(e))try{Xg||(Xg=document.createElement("style"),Xg.setAttribute("type","text/css"),document.head.appendChild(Xg)),Xg.sheet&&(Xg.sheet.insertRule(`@media ${e} {.fx-query-test{ }}`,0),Yg.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.\u0275fac=function(t){return new(t||e)(Ze(T_))},e.\u0275prov=ue({factory:function(){return new e(Ze(T_))},token:e,providedIn:"root"}),e})();function Jg(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let ev=(()=>{class e{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new S}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return tv(s_(e)).some(e=>this._registerQuery(e).mql.matches)}observe(e){let t=Wg(tv(s_(e)).map(e=>this._registerQuery(e).observable));return t=Vf(t.pipe(Qf(1)),t.pipe(e=>e.lift(new Gg(1)),Dm(0))),t.pipe(M(e=>{const t={matches:!1,breakpoints:{}};return e.forEach(({matches:e,query:i})=>{t.matches=t.matches||e,t.breakpoints[i]=e}),t}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),i={observable:new v(e=>{const i=t=>this._zone.run(()=>e.next(t));return t.addListener(i),()=>{t.removeListener(i)}}).pipe(v_(t),M(({matches:t})=>({query:e,matches:t})),__(this._destroySubject)),mql:t};return this._queries.set(e,i),i}}return e.\u0275fac=function(t){return new(t||e)(Ze(Qg),Ze(mc))},e.\u0275prov=ue({factory:function(){return new e(Ze(Qg),Ze(mc))},token:e,providedIn:"root"}),e})();function tv(e){return e.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function iv(e,t){if(1&e){const e=Lo();Eo(0,"div",1),Eo(1,"button",2),Io("click",(function(){return ni(e),Bo().action()})),ha(2),Ao(),Ao()}if(2&e){const e=Bo();gn(2),ua(e.data.action)}}function rv(e,t){}const nv=new Be("MatSnackBarData");class sv{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const ov=Math.pow(2,31)-1;class av{constructor(e,t){this._overlayRef=t,this._afterDismissed=new S,this._afterOpened=new S,this._onAction=new S,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,ov))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let lv=(()=>{class e{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return e.\u0275fac=function(t){return new(t||e)(Co(av),Co(nv))},e.\u0275cmp=pt({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(Eo(0,"span"),ha(1),Ao(),bo(2,iv,3,1,"div",0)),2&e&&(gn(1),ua(t.data.message),gn(1),ko("ngIf",t.hasAction))},directives:[yh,Ug],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),e})();const cv={snackBarState:uu("state",[_u("void, hidden",pu({transform:"scale(0.8)",opacity:0})),_u("visible",pu({transform:"scale(1)",opacity:1})),mu("* => visible",du("150ms cubic-bezier(0, 0, 0.2, 1)")),mu("* => void, * => hidden",du("75ms cubic-bezier(0.4, 0.0, 1, 1)",pu({opacity:0})))])};let hv=(()=>{class e extends Z_{constructor(e,t,i,r){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=i,this.snackBarConfig=r,this._destroyed=!1,this._onExit=new S,this._onEnter=new S,this._animationState="void",this.attachDomPortal=e=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(e)),this._role="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?null:"status":"alert"}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:t,toState:i}=e;if(("void"===i&&"void"!==t||"hidden"===i)&&this._completeExit(),"visible"===i){const e=this._onEnter;this._ngZone.run(()=>{e.next(),e.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Qf(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(t=>e.classList.add(t)):e.classList.add(t)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}}return e.\u0275fac=function(t){return new(t||e)(Co(mc),Co(Pa),Co(zs),Co(sv))},e.\u0275cmp=pt({type:e,selectors:[["snack-bar-container"]],viewQuery:function(e,t){var i;1&e&&jl(X_,!0),2&e&&Nl(i=zl())&&(t._portalOutlet=i.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(e,t){1&e&&Mo("@state.done",(function(e){return t.onAnimationEnd(e)})),2&e&&(vo("role",t._role),pa("@state",t._animationState))},features:[ma],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&bo(0,rv,0,0,"ng-template",0)},directives:[X_],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[cv.snackBarState]}}),e})(),uv=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[Pm,Q_,Lh,qg,rg],rg]}),e})();const dv=new Be("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new sv}});let fv=(()=>{class e{constructor(e,t,i,r,n,s){this._overlay=e,this._live=t,this._injector=i,this._breakpointObserver=r,this._parentSnackBar=n,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=lv,this.snackBarContainerComponent=hv,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",i){const r=Object.assign(Object.assign({},this._defaultConfig),i);return r.data={message:e,action:t},r.announcementMessage===e&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){const i=ao.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:sv,useValue:t}]}),r=new $_(this.snackBarContainerComponent,t.viewContainerRef,i),n=e.attach(r);return n.instance.snackBarConfig=t,n.instance}_attach(e,t){const i=Object.assign(Object.assign(Object.assign({},new sv),this._defaultConfig),t),r=this._createOverlay(i),n=this._attachSnackBarContainer(r,i),s=new av(n,r);if(e instanceof il){const t=new K_(e,null,{$implicit:i.data,snackBarRef:s});s.instance=n.attachTemplatePortal(t)}else{const t=this._createInjector(i,s),r=new $_(e,void 0,t),o=n.attachComponentPortal(r);s.instance=o.instance}return this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait)").pipe(__(r.detachments())).subscribe(e=>{const t=r.overlayElement.classList;e.matches?t.add(this.handsetCssClass):t.remove(this.handsetCssClass)}),this._animateSnackBar(s,i),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration)),t.announcementMessage&&this._live.announce(t.announcementMessage,t.politeness)}_createOverlay(e){const t=new cm;t.direction=e.direction;let i=this._overlay.position().global();const r="rtl"===e.direction,n="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!r||"end"===e.horizontalPosition&&r,s=!n&&"center"!==e.horizontalPosition;return n?i.left("0"):s?i.right("0"):i.centerHorizontally(),"top"===e.verticalPosition?i.top("0"):i.bottom("0"),t.positionStrategy=i,this._overlay.create(t)}_createInjector(e,t){return ao.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:av,useValue:t},{provide:nv,useValue:e.data}]})}}return e.\u0275fac=function(t){return new(t||e)(Ze(Em),Ze(zm),Ze(ao),Ze(ev),Ze(e,12),Ze(dv))},e.\u0275prov=ue({factory:function(){return new e(Ze(Em),Ze(zm),Ze(He),Ze(ev),Ze(e,12),Ze(dv))},token:e,providedIn:uv}),e})();class pv extends S{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b;return this._value}next(e){super.next(this._value=e)}}const _v=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function mv(e){return function(t){return 0===e?Mf():t.lift(new gv(e))}}class gv{constructor(e){if(this.total=e,this.total<0)throw new Xf}call(e,t){return t.subscribe(new vv(e,this.total))}}class vv extends p{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,r=this.count++;t.length<i?t.push(e):t[r%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let n=0;n<i;n++){const n=t++%i;e.next(r[n])}}e.complete()}}function yv(e=Cv){return t=>t.lift(new bv(e))}class bv{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new wv(e,this.errorFactory))}}class wv extends p{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Cv(){return new _v}function Sv(e=null){return t=>t.lift(new kv(e))}class kv{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new xv(e,this.defaultValue))}}class xv extends p{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ev(e){return function(t){const i=new Av(e),r=t.lift(i);return i.caught=r}}class Av{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ov(e,this.selector,this.caught))}}class Ov extends I{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let i;try{i=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new E(this,void 0,void 0);this.add(r);const n=D(this,i,void 0,void 0,r);n!==r&&this.add(n)}}}function Tv(e,t){const i=arguments.length>=2;return r=>r.pipe(e?Wf((t,i)=>e(t,i,r)):g,Qf(1),i?Sv(t):yv(()=>new _v))}class Rv{constructor(e,t,i){this.predicate=e,this.thisArg=t,this.source=i}call(e,t){return t.subscribe(new Lv(e,this.predicate,this.thisArg,this.source))}}class Lv extends p{constructor(e,t,i,r){super(e),this.predicate=t,this.thisArg=i,this.source=r,this.index=0,this.thisArg=i||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(i){return void this.destination.error(i)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}class Pv{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new Dv(e,this.accumulator,this.seed,this.hasSeed))}}class Dv extends p{constructor(e,t,i,r){super(e),this.accumulator=t,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}class Iv{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Mv(e,this.callback))}}class Mv extends p{constructor(e,t){super(e),this.add(new u(t))}}class Fv{constructor(e,t){this.id=e,this.url=t}}class Nv extends Fv{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jv extends Fv{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bv extends Fv{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hv extends Fv{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Uv extends Fv{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vv extends Fv{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qv extends Fv{constructor(e,t,i,r,n){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=n}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zv extends Fv{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wv extends Fv{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $v{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kv{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gv{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zv{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yv{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xv{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qv{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Jv{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ey(e){return new Jv(e)}function ty(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function iy(e,t,i){const r=i.path.split("/");if(r.length>e.length)return null;if("full"===i.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const n={};for(let s=0;s<r.length;s++){const t=r[s],i=e[s];if(t.startsWith(":"))n[t.substring(1)]=i;else if(t!==i.path)return null}return{consumed:e.slice(0,r.length),posParams:n}}function ry(e,t){const i=Object.keys(e),r=Object.keys(t);if(!i||!r||i.length!=r.length)return!1;let n;for(let s=0;s<i.length;s++)if(n=i[s],!ny(e[n],t[n]))return!1;return!0}function ny(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(e=>t.indexOf(e)>-1):e===t}function sy(e){return Array.prototype.concat.apply([],e)}function oy(e){return e.length>0?e[e.length-1]:null}function ay(e,t){for(const i in e)e.hasOwnProperty(i)&&t(e[i],i)}function ly(e){return Do(e)?e:Po(e)?B(Promise.resolve(e)):Hf(e)}function cy(e,t,i){return i?function(e,t){return ry(e,t)}(e.queryParams,t.queryParams)&&function e(t,i){if(!fy(t.segments,i.segments))return!1;if(t.numberOfChildren!==i.numberOfChildren)return!1;for(const r in i.children){if(!t.children[r])return!1;if(!e(t.children[r],i.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>ny(e[i],t[i]))}(e.queryParams,t.queryParams)&&function e(t,i){return function t(i,r,n){if(i.segments.length>n.length)return!!fy(i.segments.slice(0,n.length),n)&&!r.hasChildren();if(i.segments.length===n.length){if(!fy(i.segments,n))return!1;for(const t in r.children){if(!i.children[t])return!1;if(!e(i.children[t],r.children[t]))return!1}return!0}{const e=n.slice(0,i.segments.length),s=n.slice(i.segments.length);return!!fy(i.segments,e)&&!!i.children.primary&&t(i.children.primary,r,s)}}(t,i,i.segments)}(e.root,t.root)}class hy{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ey(this.queryParams)),this._queryParamMap}toString(){return gy.serialize(this)}}class uy{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ay(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vy(this)}}class dy{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ey(this.parameters)),this._parameterMap}toString(){return ky(this)}}function fy(e,t){return e.length===t.length&&e.every((e,i)=>e.path===t[i].path)}function py(e,t){let i=[];return ay(e.children,(e,r)=>{"primary"===r&&(i=i.concat(t(e,r)))}),ay(e.children,(e,r)=>{"primary"!==r&&(i=i.concat(t(e,r)))}),i}class _y{}class my{parse(e){const t=new Ty(e);return new hy(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,i){if(!t.hasChildren())return vy(t);if(i){const i=t.children.primary?e(t.children.primary,!1):"",r=[];return ay(t.children,(t,i)=>{"primary"!==i&&r.push(`${i}:${e(t,!1)}`)}),r.length>0?`${i}(${r.join("//")})`:i}{const i=py(t,(i,r)=>"primary"===r?[e(t.children.primary,!1)]:[`${r}:${e(i,!1)}`]);return`${vy(t)}/(${i.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(e=>`${by(t)}=${by(e)}`).join("&"):`${by(t)}=${by(i)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const gy=new my;function vy(e){return e.segments.map(e=>ky(e)).join("/")}function yy(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function by(e){return yy(e).replace(/%3B/gi,";")}function wy(e){return yy(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cy(e){return decodeURIComponent(e)}function Sy(e){return Cy(e.replace(/\+/g,"%20"))}function ky(e){return`${wy(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${wy(e)}=${wy(t[e])}`).join("")}`;var t}const xy=/^[^\/()?;=#]+/;function Ey(e){const t=e.match(xy);return t?t[0]:""}const Ay=/^[^=?&#]+/,Oy=/^[^?&#]+/;class Ty{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new uy([],{}):new uy([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i.primary=new uy(e,t)),i}parseSegment(){const e=Ey(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new dy(Cy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ey(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=Ey(this.remaining);e&&(i=e,this.capture(i))}e[Cy(t)]=Cy(i)}parseQueryParam(e){const t=function(e){const t=e.match(Ay);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Oy);return t?t[0]:""}(this.remaining);e&&(i=e,this.capture(i))}const r=Sy(t),n=Sy(i);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(n)}else e[r]=n}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ey(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let n=void 0;i.indexOf(":")>-1?(n=i.substr(0,i.indexOf(":")),this.capture(n),this.capture(":")):e&&(n="primary");const s=this.parseChildren();t[n]=1===Object.keys(s).length?s.primary:new uy([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ry{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ly(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Ly(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Py(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Py(e,this._root).map(e=>e.value)}}function Ly(e,t){if(e===t.value)return t;for(const i of t.children){const t=Ly(e,i);if(t)return t}return null}function Py(e,t){if(e===t.value)return[t];for(const i of t.children){const r=Py(e,i);if(r.length)return r.unshift(t),r}return[]}class Dy{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Iy(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class My extends Ry{constructor(e,t){super(e),this.snapshot=t,Uy(this,e)}toString(){return this.snapshot.toString()}}function Fy(e,t){const i=function(e,t){const i=new By([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Hy("",new Dy(i,[]))}(e,t),r=new pv([new dy("",{})]),n=new pv({}),s=new pv({}),o=new pv({}),a=new pv(""),l=new Ny(r,n,o,a,s,"primary",t,i.root);return l.snapshot=i.root,new My(new Dy(l,[]),i)}class Ny{constructor(e,t,i,r,n,s,o,a){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=n,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(M(e=>ey(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(M(e=>ey(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jy(e,t="emptyOnly"){const i=e.pathFromRoot;let r=0;if("always"!==t)for(r=i.length-1;r>=1;){const e=i[r],t=i[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(r))}class By{constructor(e,t,i,r,n,s,o,a,l,c,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=n,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ey(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ey(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hy extends Ry{constructor(e,t){super(t),this.url=e,Uy(this,t)}toString(){return Vy(this._root)}}function Uy(e,t){t.value._routerState=e,t.children.forEach(t=>Uy(e,t))}function Vy(e){const t=e.children.length>0?` { ${e.children.map(Vy).join(", ")} } `:"";return`${e.value}${t}`}function qy(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,ry(t.queryParams,i.queryParams)||e.queryParams.next(i.queryParams),t.fragment!==i.fragment&&e.fragment.next(i.fragment),ry(t.params,i.params)||e.params.next(i.params),function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!ry(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.url.next(i.url),ry(t.data,i.data)||e.data.next(i.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function zy(e,t){var i,r;return ry(e.params,t.params)&&fy(i=e.url,r=t.url)&&i.every((e,t)=>ry(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||zy(e.parent,t.parent))}function Wy(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function $y(e,t,i,r,n){let s={};return r&&ay(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new hy(i.root===e?t:function e(t,i,r){const n={};return ay(t.children,(t,s)=>{n[s]=t===i?r:e(t,i,r)}),new uy(t.segments,n)}(i.root,e,t),s,n)}class Ky{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Wy(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==oy(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gy{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Zy(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Yy(e,t,i){if(e||(e=new uy([],{})),0===e.segments.length&&e.hasChildren())return Xy(e,t,i);const r=function(e,t,i){let r=0,n=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;n<e.segments.length;){if(r>=i.length)return s;const t=e.segments[n],o=Zy(i[r]),a=r<i.length-1?i[r+1]:null;if(n>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!tb(o,a,t))return s;r+=2}else{if(!tb(o,{},t))return s;r++}n++}return{match:!0,pathIndex:n,commandIndex:r}}(e,t,i),n=i.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new uy(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new uy(e.segments.slice(r.pathIndex),e.children),Xy(t,0,n)}return r.match&&0===n.length?new uy(e.segments,{}):r.match&&!e.hasChildren()?Qy(e,t,i):r.match?Xy(e,0,n):Qy(e,t,i)}function Xy(e,t,i){if(0===i.length)return new uy(e.segments,{});{const r=function(e){return"object"==typeof e[0]&&null!==e[0]&&e[0].outlets?e[0].outlets:{primary:e}}(i),n={};return ay(r,(i,r)=>{null!==i&&(n[r]=Yy(e.children[r],t,i))}),ay(e.children,(e,t)=>{void 0===r[t]&&(n[t]=e)}),new uy(e.segments,n)}}function Qy(e,t,i){const r=e.segments.slice(0,t);let n=0;for(;n<i.length;){if("object"==typeof i[n]&&null!==i[n]&&void 0!==i[n].outlets){const e=Jy(i[n].outlets);return new uy(r,e)}if(0===n&&Wy(i[0])){r.push(new dy(e.segments[t].path,i[0])),n++;continue}const s=Zy(i[n]),o=n<i.length-1?i[n+1]:null;s&&o&&Wy(o)?(r.push(new dy(s,eb(o))),n+=2):(r.push(new dy(s,{})),n++)}return new uy(r,{})}function Jy(e){const t={};return ay(e,(e,i)=>{null!==e&&(t[i]=Qy(new uy([],{}),0,e))}),t}function eb(e){const t={};return ay(e,(e,i)=>t[i]=""+e),t}function tb(e,t,i){return e==i.path&&ry(t,i.parameters)}class ib{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),qy(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Iy(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],i),delete r[t]}),ay(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,i)})}deactivateRoutes(e,t,i){const r=e.value,n=t?t.value:null;if(r===n)if(r.component){const n=i.getContext(r.outlet);n&&this.deactivateChildRoutes(e,t,n.children)}else this.deactivateChildRoutes(e,t,i);else n&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const t=i.outlet.detach(),r=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet);if(i){const r=Iy(e),n=e.value.component?i.children:t;ay(r,(e,t)=>this.deactivateRouteAndItsChildren(e,n)),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}activateChildRoutes(e,t,i){const r=Iy(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],i),this.forwardEvent(new Xv(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Zv(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,n=t?t.value:null;if(qy(r),r===n)if(r.component){const n=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,n.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const t=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),rb(e.route)}else{const i=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),n=i?i.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=n,t.outlet&&t.outlet.activateWith(r,n),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,i)}}function rb(e){qy(e.value),e.children.forEach(rb)}class nb{constructor(e,t){this.routes=e,this.module=t}}function sb(e){return"function"==typeof e}function ob(e){return e instanceof hy}class ab{constructor(e){this.segmentGroup=e||null}}class lb{constructor(e){this.urlTree=e}}function cb(e){return new v(t=>t.error(new ab(e)))}function hb(e){return new v(t=>t.error(new lb(e)))}function ub(e){return new v(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class db{constructor(e,t,i,r,n){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=n,this.allowRedirects=!0,this.ngModule=e.get(et)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(M(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ev(e=>{if(e instanceof lb)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof ab)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(M(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Ev(e=>{if(e instanceof ab)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new uy([],{primary:e}):e;return new hy(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(M(e=>new uy([],e))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){return function(e,t){if(0===Object.keys(e).length)return Hf({});const i=[],r=[],n={};return ay(e,(e,s)=>{const o=t(s,e).pipe(M(e=>n[s]=e));"primary"===s?i.push(o):r.push(o)}),Hf.apply(null,i.concat(r)).pipe(Uf(),function(e,t){const i=arguments.length>=2;return r=>r.pipe(e?Wf((t,i)=>e(t,i,r)):g,mv(1),i?Sv(t):yv(()=>new _v))}(),M(()=>n))}(i.children,(i,r)=>this.expandSegmentGroup(e,t,r,i))}expandSegment(e,t,i,r,n,s){return Hf(...i).pipe(M(o=>this.expandSegmentAgainstRoute(e,t,i,o,r,n,s).pipe(Ev(e=>{if(e instanceof ab)return Hf(null);throw e}))),Uf(),Tv(e=>!!e),Ev((e,i)=>{if(e instanceof _v||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,n))return Hf(new uy([],{}));throw new ab(t)}throw e}))}noLeftoversInUrl(e,t,i){return 0===t.length&&!e.children[i]}expandSegmentAgainstRoute(e,t,i,r,n,s,o){return mb(r)!==s?cb(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,n):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,n,s):cb(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,n,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,n,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const n=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?hb(n):this.lineralizeSegments(i,n).pipe(H(i=>{const n=new uy(i,{});return this.expandSegment(e,n,t,i,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,n,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=fb(t,r,n);if(!o)return cb(t);const h=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?hb(h):this.lineralizeSegments(r,h).pipe(H(r=>this.expandSegment(e,t,i,r.concat(n.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,i,r){if("**"===i.path)return i.loadChildren?this.configLoader.load(e.injector,i).pipe(M(e=>(i._loadedConfig=e,new uy(r,{})))):Hf(new uy(r,{}));const{matched:n,consumedSegments:s,lastChild:o}=fb(t,i,r);if(!n)return cb(t);const a=r.slice(o);return this.getChildConfig(e,i,r).pipe(H(e=>{const i=e.module,r=e.routes,{segmentGroup:n,slicedSegments:o}=function(e,t,i,r){return i.length>0&&function(e,t,i){return i.some(i=>_b(e,t,i)&&"primary"!==mb(i))}(e,i,r)?{segmentGroup:pb(new uy(t,function(e,t){const i={};i.primary=t;for(const r of e)""===r.path&&"primary"!==mb(r)&&(i[mb(r)]=new uy([],{}));return i}(r,new uy(i,e.children)))),slicedSegments:[]}:0===i.length&&function(e,t,i){return i.some(i=>_b(e,t,i))}(e,i,r)?{segmentGroup:pb(new uy(e.segments,function(e,t,i,r){const n={};for(const s of i)_b(e,t,s)&&!r[mb(s)]&&(n[mb(s)]=new uy([],{}));return Object.assign(Object.assign({},r),n)}(e,i,r,e.children))),slicedSegments:i}:{segmentGroup:e,slicedSegments:i}}(t,s,a,r);return 0===o.length&&n.hasChildren()?this.expandChildren(i,r,n).pipe(M(e=>new uy(s,e))):0===r.length&&0===o.length?Hf(new uy(s,{})):this.expandSegment(i,n,r,o,"primary",!0).pipe(M(e=>new uy(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,i){return t.children?Hf(new nb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Hf(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(H(i=>i?this.configLoader.load(e.injector,t).pipe(M(e=>(t._loadedConfig=e,e))):function(e){return new v(t=>t.error(ty(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Hf(new nb([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?B(r).pipe(M(r=>{const n=e.get(r);let s;if(function(e){return e&&sb(e.canLoad)}(n))s=n.canLoad(t,i);else{if(!sb(n))throw new Error("Invalid CanLoad guard");s=n(t,i)}return ly(s)})).pipe(Uf(),tp(e=>{if(!ob(e))return;const t=ty(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(n=e=>!0===e,e=>e.lift(new Rv(n,void 0,e)))):Hf(!0);var n}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Hf(i);if(r.numberOfChildren>1||!r.children.primary)return ub(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const n=this.createSegmentGroup(e,t.root,i,r);return new hy(n,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ay(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const n=e.substring(1);i[r]=t[n]}else i[r]=e}),i}createSegmentGroup(e,t,i,r){const n=this.createSegments(e,t.segments,i,r);let s={};return ay(t.children,(t,n)=>{s[n]=this.createSegmentGroup(e,t,i,r)}),new uy(n,s)}createSegments(e,t,i,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function fb(e,t,i){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||iy)(i,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function pb(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new uy(e.segments.concat(t.segments),t.children)}return e}function _b(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0!==i.redirectTo}function mb(e){return e.outlet||"primary"}class gb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vb{constructor(e,t){this.component=e,this.route=t}}function yb(e,t,i){const r=e._root;return function e(t,i,r,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Iy(i);return t.children.forEach(t=>{!function(t,i,r,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=i?i.value:null,l=r?r.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!fy(e.url,t.url);case"pathParamsOrQueryParamsChange":return!fy(e.url,t.url)||!ry(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zy(e,t)||!ry(e.queryParams,t.queryParams);case"paramsChange":default:return!zy(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new gb(n)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,i,o.component?l?l.children:null:r,n,s),c&&s.canDeactivateChecks.push(new vb(l&&l.outlet&&l.outlet.component||null,a))}else a&&wb(i,l,s),s.canActivateChecks.push(new gb(n)),e(t,null,o.component?l?l.children:null:r,n,s)}(t,o[t.value.outlet],r,n.concat([t.value]),s),delete o[t.value.outlet]}),ay(o,(e,t)=>wb(e,r.getContext(t),s)),s}(r,t?t._root:null,i,[r.value])}function bb(e,t,i){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:i).get(e)}function wb(e,t,i){const r=Iy(e),n=e.value;ay(r,(e,r)=>{wb(e,n.component?t?t.children.getContext(r):null:t,i)}),i.canDeactivateChecks.push(new vb(n.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,n))}const Cb=Symbol("INITIAL_VALUE");function Sb(){return Gf(e=>Wg(...e.map(e=>e.pipe(Qf(1),v_(Cb)))).pipe(function(e,t){let i=!1;return arguments.length>=2&&(i=!0),function(r){return r.lift(new Pv(e,t,i))}}((e,t)=>{let i=!1;return t.reduce((e,r,n)=>{if(e!==Cb)return e;if(r===Cb&&(i=!0),!i){if(!1===r)return r;if(n===t.length-1||ob(r))return r}return e},e)},Cb),Wf(e=>e!==Cb),M(e=>ob(e)?e:!0===e),Qf(1)))}function kb(e,t){return null!==e&&t&&t(new Yv(e)),Hf(!0)}function xb(e,t){return null!==e&&t&&t(new Gv(e)),Hf(!0)}function Eb(e,t,i){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Hf(r.map(r=>Ff(()=>{const n=bb(r,t,i);let s;if(function(e){return e&&sb(e.canActivate)}(n))s=ly(n.canActivate(t,e));else{if(!sb(n))throw new Error("Invalid CanActivate guard");s=ly(n(t,e))}return s.pipe(Tv())}))).pipe(Sb()):Hf(!0)}function Ab(e,t,i){const r=t[t.length-1],n=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Ff(()=>Hf(t.guards.map(n=>{const s=bb(n,t.node,i);let o;if(function(e){return e&&sb(e.canActivateChild)}(s))o=ly(s.canActivateChild(r,e));else{if(!sb(s))throw new Error("Invalid CanActivateChild guard");o=ly(s(r,e))}return o.pipe(Tv())})).pipe(Sb())));return Hf(n).pipe(Sb())}class Ob{}class Tb{constructor(e,t,i,r,n,s){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=n,this.relativeLinkResolution=s}recognize(){try{const e=Pb(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),i=new By([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Dy(i,t),n=new Hy(this.url,r);return this.inheritParamsAndData(n._root),Hf(n)}catch(e){return new v(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,i=jy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=py(t,(t,i)=>this.processSegmentGroup(e,t,i));return function(e){const t={};e.forEach(e=>{const i=t[e.value.outlet];if(i){const t=i.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(i),i.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,i,r){for(const s of e)try{return this.processSegmentAgainstRoute(s,t,i,r)}catch(n){if(!(n instanceof Ob))throw n}if(this.noLeftoversInUrl(t,i,r))return[];throw new Ob}noLeftoversInUrl(e,t,i){return 0===t.length&&!e.children[i]}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo)throw new Ob;if((e.outlet||"primary")!==r)throw new Ob;let n,s=[],o=[];if("**"===e.path){const s=i.length>0?oy(i).parameters:{};n=new By(i,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mb(e),r,e.component,e,Rb(t),Lb(t)+i.length,Fb(e))}else{const a=function(e,t,i){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||i.length>0))throw new Ob;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||iy)(i,e,t);if(!r)throw new Ob;const n={};ay(r.posParams,(e,t)=>{n[t]=e.path});const s=r.consumed.length>0?Object.assign(Object.assign({},n),r.consumed[r.consumed.length-1].parameters):n;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(t,e,i);s=a.consumedSegments,o=i.slice(a.lastChild),n=new By(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mb(e),r,e.component,e,Rb(t),Lb(t)+s.length,Fb(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Pb(t,s,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new Dy(n,e)]}if(0===a.length&&0===c.length)return[new Dy(n,[])];const h=this.processSegment(a,l,c,"primary");return[new Dy(n,h)]}}function Rb(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Lb(e){let t=e,i=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,i+=t._segmentIndexShift?t._segmentIndexShift:0;return i-1}function Pb(e,t,i,r,n){if(i.length>0&&function(e,t,i){return i.some(i=>Db(e,t,i)&&"primary"!==Ib(i))}(e,i,r)){const n=new uy(t,function(e,t,i,r){const n={};n.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of i)if(""===s.path&&"primary"!==Ib(s)){const i=new uy([],{});i._sourceSegment=e,i._segmentIndexShift=t.length,n[Ib(s)]=i}return n}(e,t,r,new uy(i,e.children)));return n._sourceSegment=e,n._segmentIndexShift=t.length,{segmentGroup:n,slicedSegments:[]}}if(0===i.length&&function(e,t,i){return i.some(i=>Db(e,t,i))}(e,i,r)){const s=new uy(e.segments,function(e,t,i,r,n,s){const o={};for(const a of r)if(Db(e,i,a)&&!n[Ib(a)]){const i=new uy([],{});i._sourceSegment=e,i._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Ib(a)]=i}return Object.assign(Object.assign({},n),o)}(e,t,i,r,e.children,n));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:i}}const s=new uy(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:i}}function Db(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0===i.redirectTo}function Ib(e){return e.outlet||"primary"}function Mb(e){return e.data||{}}function Fb(e){return e.resolve||{}}function Nb(e){return function(t){return t.pipe(Gf(t=>{const i=e(t);return i?B(i).pipe(M(()=>t)):B([t])}))}}class jb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Bb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Oo(0,"router-outlet")},directives:function(){return[rw]},encapsulation:2}),e})();function Hb(e,t=""){for(let i=0;i<e.length;i++){const r=e[i];Ub(r,Vb(t,r))}}function Ub(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Hb(e.children,t)}function Vb(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function qb(e){const t=e.children&&e.children.map(qb),i=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!i.component&&(t||i.loadChildren)&&i.outlet&&"primary"!==i.outlet&&(i.component=Bb),i}const zb=new Be("ROUTES");class Wb{constructor(e,t,i,r){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(M(i=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=i.create(e);return new nb(sy(r.injector.get(zb)).map(qb),r)}))}loadModuleFactory(e){return"string"==typeof e?B(this.loader.load(e)):ly(e()).pipe(H(e=>e instanceof tt?Hf(e):B(this.compiler.compileModuleAsync(e))))}}class $b{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Kb,this.attachRef=null}}class Kb{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new $b,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Gb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Zb(e){throw e}function Yb(e,t,i){return t.parse("/")}function Xb(e,t){return Hf(null)}let Qb=(()=>{class e{constructor(e,t,i,r,n,s,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=i,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=Zb,this.malformedUriErrorHandler=Yb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xb,afterPreactivation:Xb},this.urlHandlingStrategy=new Gb,this.routeReuseStrategy=new jb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=n.get(et),this.console=n.get(rc);const l=n.get(mc);this.isNgZoneEnabled=l instanceof mc,this.resetConfig(a),this.currentUrlTree=new hy(new uy([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wb(s,o,e=>this.triggerEvent(new $v(e)),e=>this.triggerEvent(new Kv(e))),this.routerState=Fy(this.currentUrlTree,this.rootComponentType),this.transitions=new pv({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Wf(e=>0!==e.id),M(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Gf(e=>{let i=!1,r=!1;return Hf(e).pipe(tp(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Gf(e=>{const i=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Hf(e).pipe(Gf(e=>{const i=this.transitions.getValue();return t.next(new Nv(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==this.transitions.getValue()?If:[e]}),Gf(e=>Promise.resolve(e)),(r=this.ngModule.injector,n=this.configLoader,s=this.urlSerializer,o=this.config,function(e){return e.pipe(Gf(e=>function(e,t,i,r,n){return new db(e,t,i,r,n).apply()}(r,n,s,e.extractedUrl,o).pipe(M(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),tp(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,i,r,n){return function(s){return s.pipe(H(s=>function(e,t,i,r,n="emptyOnly",s="legacy"){return new Tb(e,t,i,r,n,s).recognize()}(e,t,s.urlAfterRedirects,i(s.urlAfterRedirects),r,n).pipe(M(e=>Object.assign(Object.assign({},s),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),tp(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),tp(e=>{const i=new Uv(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(i)}));var r,n,s,o;if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:i,extractedUrl:r,source:n,restoredState:s,extras:o}=e,a=new Nv(i,this.serializeUrl(r),n,s);t.next(a);const l=Fy(r,this.rootComponentType).snapshot;return Hf(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),If}),Nb(e=>{const{targetSnapshot:t,id:i,extractedUrl:r,rawUrl:n,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:i,appliedUrlTree:r,rawUrlTree:n,skipLocationChange:!!s,replaceUrl:!!o})}),tp(e=>{const t=new Vv(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),M(e=>Object.assign(Object.assign({},e),{guards:yb(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(i){return i.pipe(H(i=>{const{targetSnapshot:r,currentSnapshot:n,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return 0===o.length&&0===s.length?Hf(Object.assign(Object.assign({},i),{guardsResult:!0})):function(e,t,i,r){return B(e).pipe(H(e=>function(e,t,i,r,n){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Hf(s.map(s=>{const o=bb(s,t,n);let a;if(function(e){return e&&sb(e.canDeactivate)}(o))a=ly(o.canDeactivate(e,t,i,r));else{if(!sb(o))throw new Error("Invalid CanDeactivate guard");a=ly(o(e,t,i,r))}return a.pipe(Tv())})).pipe(Sb()):Hf(!0)}(e.component,e.route,i,t,r)),Tv(e=>!0!==e,!0))}(o,r,n,e).pipe(H(i=>i&&"boolean"==typeof i?function(e,t,i,r){return B(t).pipe(kp(t=>B([xb(t.route.parent,r),kb(t.route,r),Ab(e,t.path,i),Eb(e,t.route,i)]).pipe(Uf(),Tv(e=>!0!==e,!0))),Tv(e=>!0!==e,!0))}(r,s,e,t):Hf(i)),M(e=>Object.assign(Object.assign({},i),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),tp(e=>{if(ob(e.guardsResult)){const t=ty(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),tp(e=>{const t=new qv(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Wf(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const i=new Bv(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(i),e.resolve(!1),!1}return!0}),Nb(e=>{if(e.guards.canActivateChecks.length)return Hf(e).pipe(tp(e=>{const t=new zv(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Gf(e=>{let i=!1;return Hf(e).pipe((r=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(e){return e.pipe(H(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return Hf(e);let s=0;return B(i).pipe(kp(e=>function(e,t,i,r){return function(e,t,i,r){const n=Object.keys(e);if(0===n.length)return Hf({});const s={};return B(n).pipe(H(n=>function(e,t,i,r){const n=bb(e,t,r);return ly(n.resolve?n.resolve(t,i):n(t,i))}(e[n],t,i,r).pipe(tp(e=>{s[n]=e}))),mv(1),H(()=>Object.keys(s).length===n.length?Hf(s):If))}(e._resolve,e,t,r).pipe(M(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),jy(e,i).resolve),null)))}(e.route,t,r,n)),tp(()=>s++),mv(1),H(t=>s===i.length?Hf(e):If))}))}),tp({next:()=>i=!0,complete:()=>{if(!i){const i=new Bv(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(i),e.resolve(!1)}}}));var r,n}),tp(e=>{const t=new Wv(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Nb(e=>{const{targetSnapshot:t,id:i,extractedUrl:r,rawUrl:n,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:i,appliedUrlTree:r,rawUrlTree:n,skipLocationChange:!!s,replaceUrl:!!o})}),M(e=>{const t=function(e,t,i){const r=function e(t,i,r){if(r&&t.shouldReuseRoute(i.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=i.value;const s=function(t,i,r){return i.children.map(i=>{for(const n of r.children)if(t.shouldReuseRoute(n.value.snapshot,i.value))return e(t,i,n);return e(t,i)})}(t,i,r);return new Dy(n,s)}{const r=t.retrieve(i.value);if(r){const e=r.route;return function e(t,i){if(t.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],i.children[r])}(i,e),e}{const r=new Ny(new pv((n=i.value).url),new pv(n.params),new pv(n.queryParams),new pv(n.fragment),new pv(n.data),n.outlet,n.component,n),s=i.children.map(i=>e(t,i));return new Dy(r,s)}}var n}(e,t._root,i?i._root:void 0);return new My(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),tp(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),M(e=>(new ib(o,e.targetRouterState,e.currentRouterState,a).activate(s),e))),tp({next(){i=!0},complete(){i=!0}}),(n=()=>{if(!i&&!r){this.resetUrlToCurrentUrlTree();const i=new Bv(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(i),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new Iv(n))),Ev(i=>{if(r=!0,(n=i)&&n.ngNavigationCancelingError){const r=ob(i.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const n=new Bv(e.id,this.serializeUrl(e.extractedUrl),i.message);t.next(n),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(i.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new Hv(e.id,this.serializeUrl(e.extractedUrl),i);t.next(r);try{e.resolve(this.errorHandler(i))}catch(s){e.reject(s)}}var n;return If}));var n,s,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const i="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,i,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Hb(e),this.config=e.map(qb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:i,queryParams:r,fragment:n,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=t;kr()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=i||this.routerState.root,c=a?this.currentUrlTree.fragment:n;let h=null;if(o)switch(o){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,i,r,n){if(0===i.length)return $y(t.root,t.root,t,r,n);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ky(!0,0,e);let t=0,i=!1;const r=e.reduce((e,r,n)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return ay(r.outlets,(e,i)=>{t[i]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===n?(r.split("/").forEach((r,n)=>{0==n&&"."===r||(0==n&&""===r?i=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Ky(i,t,r)}(i);if(s.toRoot())return $y(t.root,new uy([],{}),t,r,n);const o=function(e,t,i){if(e.isAbsolute)return new Gy(t.root,!0,0);if(-1===i.snapshot._lastPathIndex){const e=i.snapshot._urlSegment;return new Gy(e,e===t.root,0)}const r=Wy(e.commands[0])?0:1;return function(e,t,i){let r=e,n=t,s=i;for(;s>n;){if(s-=n,r=r.parent,!r)throw new Error("Invalid number of '../'");n=r.segments.length}return new Gy(r,!1,n-s)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Xy(o.segmentGroup,o.index,s.commands):Yy(o.segmentGroup,o.index,s.commands);return $y(o.segmentGroup,a,t,r,n)}(l,this.currentUrlTree,e,h,c)}navigateByUrl(e,t={skipLocationChange:!1}){kr()&&this.isNgZoneEnabled&&!mc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const i=ob(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const i=e[t];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(i){t=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return t}isActive(e,t){if(ob(e))return cy(this.currentUrlTree,e,t);const i=this.parseUrl(e);return cy(this.currentUrlTree,i,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,i)=>{const r=e[i];return null!=r&&(t[i]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new jv(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,i,r,n){const s=this.getTransition();if(s&&"imperative"!==t&&"imperative"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"hashchange"==t&&"popstate"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"popstate"==t&&"hashchange"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o,a,l;n?(o=n.resolve,a=n.reject,l=n.promise):l=new Promise((e,t)=>{o=e,a=t});const c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,i,r){const n=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(n)||t?this.location.replaceState(n,"",Object.assign(Object.assign({},r),{navigationId:i})):this.location.go(n,"",Object.assign(Object.assign({},r),{navigationId:i}))}resetStateAndUrl(e,t,i){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(Ze($s),Ze(_y),Ze(Kb),Ze(lh),Ze(ao),Ze(Nc),Ze(fc),Ze(void 0))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Jb=(()=>{class e{constructor(e,t,i,r,n){this.router=e,this.route=t,this.commands=[],this.onChanges=new S,null==i&&r.setAttribute(n.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){kr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:tw(this.skipLocationChange),replaceUrl:tw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:tw(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:tw(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Co(Qb),Co(Ny),So("tabindex"),Co(Fa),Co(Pa))},e.\u0275dir=bt({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Io("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Dt]}),e})(),ew=(()=>{class e{constructor(e,t,i){this.router=e,this.route=t,this.locationStrategy=i,this.commands=[],this.onChanges=new S,this.subscription=e.events.subscribe(e=>{e instanceof jv&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){kr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,i,r){if(0!==e||t||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const n={skipLocationChange:tw(this.skipLocationChange),replaceUrl:tw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:tw(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:tw(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Co(Qb),Co(Ny),Co(rh))},e.\u0275dir=bt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Io("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(fa("href",t.href,Zr),vo("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Dt]}),e})();function tw(e){return""===e||!!e}let iw=(()=>{class e{constructor(e,t,i,r,n,s){this.router=e,this.element=t,this.renderer=i,this.cdr=r,this.link=n,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof jv&&this.update()})}ngAfterContentInit(){B([this.links.changes,this.linksWithHrefs.changes,Hf(null)]).pipe(q()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=B(t).pipe(q()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(Co(Qb),Co(Pa),Co(Fa),Co(zs),Co(Jb,8),Co(ew,8))},e.\u0275dir=bt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,i){var r;1&e&&(Ul(i,Jb,!0),Ul(i,ew,!0)),2&e&&(Nl(r=zl())&&(t.links=r),Nl(r=zl())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Dt]}),e})(),rw=(()=>{class e{constructor(e,t,i,r,n){this.parentContexts=e,this.location=t,this.resolver=i,this.changeDetector=n,this.activated=null,this._activatedRoute=null,this.activateEvents=new El,this.deactivateEvents=new El,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const i=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,n=new nw(e,r,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,n),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Co(Kb),Co(nl),Co(La),So("name"),Co(zs))},e.\u0275dir=bt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class nw{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ny?this.route:e===Kb?this.childContexts:this.parent.get(e,t)}}class sw{}class ow{preload(e,t){return Hf(null)}}let aw=(()=>{class e{constructor(e,t,i,r,n){this.router=e,this.injector=r,this.preloadingStrategy=n,this.loader=new Wb(t,i,t=>e.triggerEvent(new $v(t)),t=>e.triggerEvent(new Kv(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Wf(e=>e instanceof jv),kp(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(et);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const i=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;i.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?i.push(this.preloadConfig(e,r)):r.children&&i.push(this.processRoutes(e,r.children));return B(i).pipe(q(),M(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(H(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(Ze(Qb),Ze(Nc),Ze(fc),Ze(ao),Ze(sw))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),lw=(()=>{class e{constructor(e,t,i={}){this.router=e,this.viewportScroller=t,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Nv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof jv&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Qv&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Qv(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Ze(Qb),Ze(Dh),Ze(void 0))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const cw=new Be("ROUTER_CONFIGURATION"),hw=new Be("ROUTER_FORROOT_GUARD"),uw=[lh,{provide:_y,useClass:my},{provide:Qb,useFactory:function(e,t,i,r,n,s,o,a={},l,c){const h=new Qb(null,e,t,i,r,n,s,sy(o));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=$c();h.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h},deps:[_y,Kb,lh,ao,Nc,fc,zb,cw,[class{},new se],[class{},new se]]},Kb,{provide:Ny,useFactory:function(e){return e.routerState.root},deps:[Qb]},{provide:Nc,useClass:Hc},aw,ow,class{preload(e,t){return t().pipe(Ev(()=>Hf(null)))}},{provide:cw,useValue:{enableTracing:!1}}];function dw(){return new Rc("Router",Qb)}let fw=(()=>{class e{constructor(e,t){}static forRoot(t,i){return{ngModule:e,providers:[uw,gw(t),{provide:hw,useFactory:mw,deps:[[Qb,new se,new ae]]},{provide:cw,useValue:i||{}},{provide:rh,useFactory:_w,deps:[Gc,[new ne(sh),new se],cw]},{provide:lw,useFactory:pw,deps:[Qb,Dh,cw]},{provide:sw,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:ow},{provide:Rc,multi:!0,useFactory:dw},[vw,{provide:Zl,multi:!0,useFactory:yw,deps:[vw]},{provide:ww,useFactory:bw,deps:[vw]},{provide:ic,multi:!0,useExisting:ww}]]}}static forChild(t){return{ngModule:e,providers:[gw(t)]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)(Ze(hw,8),Ze(Qb,8))}}),e})();function pw(e,t,i){return i.scrollOffset&&t.setOffset(i.scrollOffset),new lw(e,t,i)}function _w(e,t,i={}){return i.useHash?new ah(e,t):new oh(e,t)}function mw(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function gw(e){return[{provide:lo,multi:!0,useValue:e},{provide:zb,multi:!0,useValue:e}]}let vw=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(Yc,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),i=this.injector.get(Qb),r=this.injector.get(cw);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);i.hooks.afterPreactivation=()=>this.initNavigation?Hf(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),i.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(cw),i=this.injector.get(aw),r=this.injector.get(lw),n=this.injector.get(Qb),s=this.injector.get(Mc);e===s.components[0]&&(this.isLegacyEnabled(t)?n.initialNavigation():this.isLegacyDisabled(t)&&n.setUpLocationChangeListener(),i.setUpPreloading(),r.init(),n.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}return e.\u0275fac=function(t){return new(t||e)(Ze(ao))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function yw(e){return e.appInitializer.bind(e)}function bw(e){return e.bootstrapListener.bind(e)}const ww=new Be("Router Initializer");function Cw(e,t,i,r){return new(i||(i=Promise))((function(n,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function Sw(){return location.origin}function kw(e){let t="";if(e)for(const i in e)e.hasOwnProperty(i)&&null!=e[i]&&(t+=`${t?"&":""}${i}=${encodeURIComponent(e[i])}`);return t}const xw={subject:"Latest Commit",author:"system",commit:"HEAD",date:(new Date).toISOString()};let Ew=(()=>{class e{constructor(e){this._http=e,this._sidebar=new pv(!0),this._repo_list=new pv([]),this._active_repo=new pv(null),this._active_driver=new pv(null),this._active_commit=new pv(null),this._test_statuses=new pv({}),this.sidebar=this._sidebar.asObservable(),this.repositories=this._repo_list.asObservable(),this.active_repo=this._active_repo.asObservable(),this.test_statuses=this._test_statuses.asObservable(),this.active_commit=this._active_commit.asObservable(),this.driver_list=this._active_repo.pipe(Dm(300),Gf(e=>this.loadDrivers({repository:"Public"===e?void 0:e})),E_()),this.driver_versions=this._active_driver.pipe(Gf(e=>this.loadDriverVersions(e)),E_()),this.active_driver=this._active_driver.asObservable(),this.driver_commits=Wg([this._active_repo,this._active_driver]).pipe(Gf(e=>{const[t,i]=e;return this.loadDriverCommits(i,{repository:t})}),te()),this.loadRepositories(),this._test_statuses.next(JSON.parse(localStorage.getItem("HARNESS.statuses")||"{}")),this._test_statuses.subscribe(e=>localStorage.setItem("HARNESS.statuses",JSON.stringify(e)))}getRepository(){return this._active_repo.getValue()}getDriver(){return this._active_driver.getValue()}toggleSidebar(){this._sidebar.next(!this._sidebar.getValue())}getCommit(){return this._active_commit.getValue()}setTestStatus(e){const t=Object.assign({},this._test_statuses.getValue());t[`${this._active_repo.getValue()}|${this._active_driver.getValue()}`]=e,this._test_statuses.next(t)}setCommit(e){this._active_commit.next(e)}setRepository(e){e!==this._active_repo.getValue()&&this._active_repo.next(e)}setDriver(e){this._active_driver.next(e)}loadRepositories(){return Cw(this,void 0,void 0,(function*(){const e=Sw()+"/build/repositories",t=["Public",...(yield this._http.get(e).toPromise()).filter(e=>"."!==e[0])];this._repo_list.next(t),this._active_repo.getValue()||this._active_repo.next(t[0])}))}loadRepositoryCommits(e={}){return Cw(this,void 0,void 0,(function*(){const e=Sw()+"/build/repositories_commits",t=yield this._http.get(e).toPromise();return[xw,...t]}))}loadDrivers(e={}){return Cw(this,void 0,void 0,(function*(){const t=kw(e),i=`${Sw()}/build${t?"?"+t:""}`;return this._http.get(i).toPromise()}))}loadDriverCommits(e,t={}){return Cw(this,void 0,void 0,(function*(){const t=`${Sw()}/build/${encodeURIComponent(e)}/commits`,i=yield this._http.get(t).toPromise();return this._active_commit.next(xw),[xw,...i]}))}loadDriverVersions(e){return Cw(this,void 0,void 0,(function*(){const t=`${Sw()}/build/${encodeURIComponent(e)}`;return this._http.get(t).toPromise()}))}cleanDriverVersions(e,t){return Cw(this,void 0,void 0,(function*(){const i=kw(t),r=`${Sw()}/build/${encodeURIComponent(e)}${i?"?"+i:""}`;return this._http.delete(r).toPromise()}))}compileDriver(e){return Cw(this,void 0,void 0,(function*(){const t=kw(e),i=Sw()+"/build";return this._http.post(i,t).toPromise()}))}}return e.\u0275fac=function(t){return new(t||e)(Ze(Up))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Aw=i("6i1C");let Ow=(()=>{class e{constructor(e,t){this._http=e,this._build=t,this._active_spec=new pv(null),this._active_commit=new pv(null),this._settings=new pv({}),this.active_spec=this._active_spec.asObservable(),this.active_commit=this._active_commit.asObservable(),this.settings=this._settings.asObservable(),this.spec_list=this._build.active_repo.pipe(Gf(e=>this.loadSpecFiles({repository:"Public"===e?void 0:e})),E_()),this.commit_list=this._active_spec.pipe(Wf(e=>!!e),Gf(e=>this.loadSpecCommits(e,{repository:"Public"===e?void 0:e})),E_()),Wg([this._build.active_driver,this.spec_list]).subscribe(e=>Cw(this,void 0,void 0,(function*(){const[t,i]=e,r=i.map(e=>({spec:e,similarity:Object(Aw.stringSimilarity)(e,t)}));r.sort((e,t)=>t.similarity-e.similarity),this._active_spec.next(r[0].spec)})))}setSpec(e){this._active_spec.next(e)}setCommit(e){this._active_commit.next(e)}setSettings(e){this._settings.next(Object.assign(Object.assign({},this._settings.getValue()),e))}loadSpecFiles(e={}){return Cw(this,void 0,void 0,(function*(){const t=kw(e),i=`${Sw()}/test${t?"?"+t:""}`;return this._http.get(i).toPromise()}))}loadSpecCommits(e,t){return Cw(this,void 0,void 0,(function*(){const t=`${Sw()}/test/${encodeURIComponent(e)}/commits`,i=yield this._http.get(t).toPromise();return this._active_commit.next(xw),[xw,...i]}))}runSpec(e){var t,i;return Cw(this,void 0,void 0,(function*(){const r=this._build.getRepository()||e.repository,n=kw(e={repository:"Public"===r?void 0:r,driver:this._build.getDriver()||e.driver,spec:this._active_spec.getValue()||e.spec,commit:(null===(t=this._build.getCommit())||void 0===t?void 0:t.commit)||e.commit,spec_commit:(null===(i=this._active_commit.getValue())||void 0===i?void 0:i.commit)||e.spec_commit,force:this._settings.getValue().force||e.force,debug:this._settings.getValue().debug_symbols||e.debug}),s=`${Sw()}/test${n?"?"+n:""}`;return this._http.post(s,e,{responseType:"text"}).toPromise()}))}}return e.\u0275fac=function(t){return new(t||e)(Ze(Up),Ze(Ew))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Tw=["underline"],Rw=["connectionContainer"],Lw=["inputContainer"],Pw=["label"];function Dw(e,t){1&e&&(To(0),Eo(1,"div",14),Oo(2,"div",15),Oo(3,"div",16),Oo(4,"div",17),Ao(),Eo(5,"div",18),Oo(6,"div",15),Oo(7,"div",16),Oo(8,"div",17),Ao(),Ro())}function Iw(e,t){1&e&&(Eo(0,"div",19),Vo(1,1),Ao())}function Mw(e,t){if(1&e&&(To(0),Vo(1,2),Eo(2,"span"),ha(3),Ao(),Ro()),2&e){const e=Bo(2);gn(3),ua(e._control.placeholder)}}function Fw(e,t){1&e&&Vo(0,3,["*ngSwitchCase","true"])}function Nw(e,t){1&e&&(Eo(0,"span",23),ha(1," *"),Ao())}function jw(e,t){if(1&e){const e=Lo();Eo(0,"label",20,21),Io("cdkObserveContent",(function(){return ni(e),Bo().updateOutlineGap()})),bo(2,Mw,4,1,"ng-container",12),bo(3,Fw,1,0,"ng-content",12),bo(4,Nw,2,0,"span",22),Ao()}if(2&e){const e=Bo();Xo("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),ko("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),vo("for",e._control.id)("aria-owns",e._control.id),gn(2),ko("ngSwitchCase",!1),gn(1),ko("ngSwitchCase",!0),gn(1),ko("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Bw(e,t){1&e&&(Eo(0,"div",24),Vo(1,4),Ao())}function Hw(e,t){if(1&e&&(Eo(0,"div",25,26),Oo(2,"span",27),Ao()),2&e){const e=Bo();gn(2),Xo("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Uw(e,t){1&e&&(Eo(0,"div"),Vo(1,5),Ao()),2&e&&ko("@transitionMessages",Bo()._subscriptAnimationState)}function Vw(e,t){if(1&e&&(Eo(0,"div",31),ha(1),Ao()),2&e){const e=Bo(2);ko("id",e._hintLabelId),gn(1),ua(e.hintLabel)}}function qw(e,t){if(1&e&&(Eo(0,"div",28),bo(1,Vw,2,2,"div",29),Vo(2,6),Oo(3,"div",30),Vo(4,7),Ao()),2&e){const e=Bo();ko("@transitionMessages",e._subscriptAnimationState),gn(1),ko("ngIf",e.hintLabel)}}const zw=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ww=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],$w=new Be("MatError"),Kw={transitionMessages:uu("transitionMessages",[_u("enter",pu({opacity:1,transform:"translateY(0%)"})),mu("void => enter",[pu({opacity:0,transform:"translateY(-100%)"}),du("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Gw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e}),e})();const Zw=new Be("MatHint");let Yw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["mat-label"]]}),e})(),Xw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["mat-placeholder"]]}),e})();const Qw=new Be("MatPrefix");let Jw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","matPrefix",""]],features:[Oa([{provide:Qw,useExisting:e}])]}),e})();const eC=new Be("MatSuffix");let tC=0;class iC{constructor(e){this._elementRef=e}}const rC=sg(iC,"primary"),nC=new Be("MAT_FORM_FIELD_DEFAULT_OPTIONS"),sC=new Be("MatFormField");let oC=(()=>{class e extends rC{constructor(e,t,i,r,n,s,o,a){super(e),this._elementRef=e,this._changeDetectorRef=t,this._dir=r,this._defaults=n,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new S,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+tC++,this._labelId="mat-form-field-label-"+tC++,this._labelOptions=i||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=n&&n.appearance?n.appearance:"legacy",this._hideRequiredMarker=!(!n||null==n.hideRequiredMarker)&&n.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=r_(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(v_(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(__(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(__(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),W(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(v_(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(v_(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(__(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Bf(this._label.nativeElement,"transitionend").pipe(Qf(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,i=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,i=0;const r=this._connectionContainerRef.nativeElement,n=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const n=r.getBoundingClientRect();if(0===n.width&&0===n.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(n),o=e.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let e=0;e<o.length;e++)l+=o[e].offsetWidth;t=Math.abs(a-s)-5,i=l>0?.75*l+10:0}for(let o=0;o<n.length;o++)n[o].style.width=t+"px";for(let o=0;o<s.length;o++)s[o].style.width=i+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(Co(Pa),Co(zs),Co(Ig,8),Co(j_,8),Co(nC,8),Co(T_),Co(mc),Co(Lf,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,i){var r;1&e&&(Ul(i,Gw,!0),Vl(i,Gw,!0),Ul(i,Yw,!0),Vl(i,Yw,!0),Ul(i,Xw,!0),Ul(i,$w,!0),Ul(i,Zw,!0),Ul(i,Qw,!0),Ul(i,eC,!0)),2&e&&(Nl(r=zl())&&(t._controlNonStatic=r.first),Nl(r=zl())&&(t._controlStatic=r.first),Nl(r=zl())&&(t._labelChildNonStatic=r.first),Nl(r=zl())&&(t._labelChildStatic=r.first),Nl(r=zl())&&(t._placeholderChild=r.first),Nl(r=zl())&&(t._errorChildren=r),Nl(r=zl())&&(t._hintChildren=r),Nl(r=zl())&&(t._prefixChildren=r),Nl(r=zl())&&(t._suffixChildren=r))},viewQuery:function(e,t){var i;1&e&&(Bl(Tw,!0),jl(Rw,!0),Bl(Lw,!0),Bl(Pw,!0)),2&e&&(Nl(i=zl())&&(t.underlineRef=i.first),Nl(i=zl())&&(t._connectionContainerRef=i.first),Nl(i=zl())&&(t._inputContainerRef=i.first),Nl(i=zl())&&(t._label=i.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(e,t){2&e&&Xo("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Oa([{provide:sC,useExisting:e}]),ma],ngContentSelectors:Ww,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(Uo(zw),Eo(0,"div",0),Eo(1,"div",1,2),Io("click",(function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)})),bo(3,Dw,9,0,"ng-container",3),bo(4,Iw,2,0,"div",4),Eo(5,"div",5,6),Vo(7),Eo(8,"span",7),bo(9,jw,5,16,"label",8),Ao(),Ao(),bo(10,Bw,2,0,"div",9),Ao(),bo(11,Hw,3,4,"div",10),Eo(12,"div",11),bo(13,Uw,2,1,"div",12),bo(14,qw,5,2,"div",13),Ao(),Ao()),2&e&&(gn(3),ko("ngIf","outline"==t.appearance),gn(1),ko("ngIf",t._prefixChildren.length),gn(5),ko("ngIf",t._hasFloatingLabel()),gn(1),ko("ngIf",t._suffixChildren.length),gn(1),ko("ngIf","outline"!=t.appearance),gn(1),ko("ngSwitch",t._getDisplayedMessages()),gn(1),ko("ngSwitchCase","error"),gn(1),ko("ngSwitchCase","hint"))},directives:[yh,Sh,kh,Bm],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Kw.transitionMessages]},changeDetection:0}),e})(),aC=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[Lh,rg,Hm],rg]}),e})();function lC(e,t){return new v(i=>{const r=e.length;if(0===r)return void i.complete();const n=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=B(e[a]);let c=!1;i.add(l.subscribe({next:e=>{c||(c=!0,o++),n[a]=e},error:e=>i.error(e),complete:()=>{s++,s!==r&&c||(o===r&&i.next(t?t.reduce((e,t,i)=>(e[t]=n[i],e),{}):n),i.complete())}}))}})}const cC=new Be("NgValueAccessor"),hC={provide:cC,useExisting:ke(()=>uC),multi:!0};let uC=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Co(Fa),Co(Pa))},e.\u0275dir=bt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Io("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[Oa([hC])]}),e})();const dC={provide:cC,useExisting:ke(()=>pC),multi:!0},fC=new Be("CompositionEventMode");let pC=(()=>{class e{constructor(e,t,i){this._renderer=e,this._elementRef=t,this._compositionMode=i,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=$c()?$c().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(Co(Fa),Co(Pa),Co(fC,8))},e.\u0275dir=bt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Io("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[Oa([dC])]}),e})(),_C=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e}),e})(),mC=(()=>{class e extends _C{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return gC(t||e)},e.\u0275dir=bt({type:e,features:[ma]}),e})();const gC=pr(mC);function vC(){throw new Error("unimplemented")}class yC extends _C{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return vC()}get asyncValidator(){return vC()}}let bC=(()=>{class e extends class{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Co(yC,2))},e.\u0275dir=bt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Xo("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[ma]}),e})();function wC(e){return null==e||0===e.length}function CC(e){return null!=e&&"number"==typeof e.length}const SC=new Be("NgValidators"),kC=new Be("NgAsyncValidators"),xC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class EC{static min(e){return t=>{if(wC(t.value)||wC(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(wC(t.value)||wC(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}static required(e){return wC(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return wC(e.value)||xC.test(e.value)?null:{email:!0}}static minLength(e){return t=>wC(t.value)||!CC(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>CC(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return EC.nullValidator;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(wC(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(AC);return 0==t.length?null:function(e){return TC(RC(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(AC);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(l(t))return lC(t,null);if(c(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return lC(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return lC(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(M(e=>t(...e)))}return lC(e,null)}(RC(e,t).map(OC)).pipe(M(TC))}}}function AC(e){return null!=e}function OC(e){const t=Po(e)?B(e):e;if(!Do(t))throw new Error("Expected validator to return Promise or Observable.");return t}function TC(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function RC(e,t){return t.map(t=>t(e))}function LC(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}const PC={provide:cC,useExisting:ke(()=>DC),multi:!0};let DC=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Co(Fa),Co(Pa))},e.\u0275dir=bt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Io("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[Oa([PC])]}),e})();const IC={provide:cC,useExisting:ke(()=>FC),multi:!0};let MC=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),FC=(()=>{class e{constructor(e,t,i,r){this._renderer=e,this._elementRef=t,this._registry=i,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(yC),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return e.\u0275fac=function(t){return new(t||e)(Co(Fa),Co(Pa),Co(MC),Co(ao))},e.\u0275dir=bt({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Io("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Oa([IC])]}),e})();const NC={provide:cC,useExisting:ke(()=>jC),multi:!0};let jC=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Co(Fa),Co(Pa))},e.\u0275dir=bt({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Io("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[Oa([NC])]}),e})();const BC='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',HC='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',UC='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',VC={provide:cC,useExisting:ke(()=>qC),multi:!0};let qC=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const i=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",i)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(Co(Fa),Co(Pa))},e.\u0275dir=bt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Io("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Oa([VC])]}),e})();const zC={provide:cC,useExisting:ke(()=>WC),multi:!0};let WC=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const i=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(i.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const i=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),n=this._getOptionValue(r.value);i.push(n)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);i.push(e)}}}this.value=i,e(i)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(Co(Fa),Co(Pa))},e.\u0275dir=bt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Io("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Oa([zC])]}),e})();function $C(e,t){return[...t.path,e]}function KC(e,t){e||XC(t,"Cannot find control with"),t.valueAccessor||XC(t,"No value accessor for form control with"),e.validator=EC.compose([e.validator,t.validator]),e.asyncValidator=EC.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&GC(e,t)})}(e,t),function(e,t){e.registerOnChange((e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&GC(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function GC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ZC(e,t){null==e&&XC(t,"Cannot find control with"),e.validator=EC.compose([e.validator,t.validator]),e.asyncValidator=EC.composeAsync([e.asyncValidator,t.asyncValidator])}function YC(e){return XC(e,"There is no FormControl instance attached to form control element with")}function XC(e,t){let i;throw i=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${i}`)}function QC(e){return null!=e?EC.compose(LC(e)):null}function JC(e){return null!=e?EC.composeAsync(LC(e)):null}const eS=[uC,jC,DC,qC,WC,FC];function tS(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function iS(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function rS(e){const t=sS(e)?e.validators:e;return Array.isArray(t)?QC(t):t||null}function nS(e,t){const i=sS(t)?t.asyncValidators:e;return Array.isArray(i)?JC(i):i||null}function sS(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class oS{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=rS(e)}setAsyncValidators(e){this.asyncValidator=nS(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=OC(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,i){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof lS?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof cS&&r.at(e)||null}),r}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new El,this.statusChanges=new El}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class aS extends oS{constructor(e=null,t,i){super(rS(t),nS(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class lS extends oS{constructor(e,t,i){super(rS(t),nS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof aS?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((e,r)=>{i=t(i,e,r)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class cS extends oS{constructor(e,t,i){super(rS(t),nS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,i)=>{this.at(i)&&this.at(i).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof aS?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const hS={provide:mC,useExisting:ke(()=>dS)},uS=(()=>Promise.resolve(null))();let dS=(()=>{class e extends mC{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new El,this.form=new lS({},QC(e),JC(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){uS.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),KC(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){uS.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),iS(this._directives,e)})}addFormGroup(e){uS.then(()=>{const t=this._findContainer(e.path),i=new lS({});ZC(i,e),t.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){uS.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){uS.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,tS(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(Co(SC,10),Co(kC,10))},e.\u0275dir=bt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&Io("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oa([hS]),ma]}),e})(),fS=(()=>{class e extends mC{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $C(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return QC(this._validators)}get asyncValidator(){return JC(this._asyncValidators)}_checkParentType(){}}return e.\u0275fac=function(t){return pS(t||e)},e.\u0275dir=bt({type:e,features:[ma]}),e})();const pS=pr(fS);class _S{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${BC}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${HC}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${UC}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${HC}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${UC}`)}}const mS={provide:mC,useExisting:ke(()=>gS)};let gS=(()=>{class e extends fS{constructor(e,t,i){super(),this._parent=e,this._validators=t,this._asyncValidators=i}_checkParentType(){this._parent instanceof e||this._parent instanceof dS||_S.modelGroupParentException()}}return e.\u0275fac=function(t){return new(t||e)(Co(mC,5),Co(SC,10),Co(kC,10))},e.\u0275dir=bt({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Oa([mS]),ma]}),e})();const vS={provide:yC,useExisting:ke(()=>bS)},yS=(()=>Promise.resolve(null))();let bS=(()=>{class e extends yC{constructor(e,t,i,r){super(),this.control=new aS,this._registered=!1,this.update=new El,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=i||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||XC(e,"Value accessor was not provided as an array for form control with");let i=void 0,r=void 0,n=void 0;return t.forEach(t=>{var s;t.constructor===pC?i=t:(s=t,eS.some(e=>s.constructor===e)?(r&&XC(e,"More than one built-in value accessor matches form control with"),r=t):(n&&XC(e,"More than one custom value accessor matches form control with"),n=t))}),n||r||i||(XC(e,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?$C(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return QC(this._rawValidators)}get asyncValidator(){return JC(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){KC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof gS)&&this._parent instanceof fS?_S.formGroupNameException():this._parent instanceof gS||this._parent instanceof dS||_S.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||_S.missingNameException()}_updateValue(e){yS.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,i=""===t||t&&"false"!==t;yS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(Co(mC,9),Co(SC,10),Co(kC,10),Co(cC,10))},e.\u0275dir=bt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Oa([vS]),ma,Dt]}),e})();const wS=new Be("NgModelWithFormControlWarning"),CS={provide:mC,useExisting:ke(()=>SS)};let SS=(()=>{class e extends mC{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new El}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return KC(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){iS(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);ZC(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);ZC(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,tS(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>YC(t)),t.valueAccessor.registerOnTouched(()=>YC(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&KC(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=QC(this._validators);this.form.validator=EC.compose([this.form.validator,e]);const t=JC(this._asyncValidators);this.form.asyncValidator=EC.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||class{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+BC)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${HC}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${UC}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+BC)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+HC)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}.\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}.missingFormException()}}return e.\u0275fac=function(t){return new(t||e)(Co(SC,10),Co(kC,10))},e.\u0275dir=bt({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&Io("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oa([CS]),ma,Dt]}),e})(),kS=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})(),xS=(()=>{class e{group(e,t=null){const i=this._reduceControls(e);let r=null,n=null,s=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,n=null!=t.asyncValidators?t.asyncValidators:null,s=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,n=null!=t.asyncValidator?t.asyncValidator:null)),new lS(i,{asyncValidators:n,updateOn:s,validators:r})}control(e,t,i){return new aS(e,t,i)}array(e,t,i){const r=e.map(e=>this._createControl(e));return new cS(r,t,i)}_reduceControls(e){const t={};return Object.keys(e).forEach(i=>{t[i]=this._createControl(e[i])}),t}_createControl(e){return e instanceof aS||e instanceof lS||e instanceof cS?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),ES=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[MC],imports:[kS]}),e})(),AS=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:wS,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[xS,MC],imports:[kS]}),e})();const OS=["trigger"],TS=["panel"];function RS(e,t){if(1&e&&(Eo(0,"span",8),ha(1),Ao()),2&e){const e=Bo();gn(1),ua(e.placeholder||"\xa0")}}function LS(e,t){if(1&e&&(Eo(0,"span"),ha(1),Ao()),2&e){const e=Bo(2);gn(1),ua(e.triggerValue||"\xa0")}}function PS(e,t){1&e&&Vo(0,0,["*ngSwitchCase","true"])}function DS(e,t){1&e&&(Eo(0,"span",9),bo(1,LS,2,1,"span",10),bo(2,PS,1,0,"ng-content",11),Ao()),2&e&&(ko("ngSwitch",!!Bo().customTrigger),gn(2),ko("ngSwitchCase",!0))}function IS(e,t){if(1&e){const e=Lo();Eo(0,"div",12),Eo(1,"div",13,14),Io("@transformPanel.done",(function(t){return ni(e),Bo()._panelDoneAnimatingStream.next(t.toState)}))("keydown",(function(t){return ni(e),Bo()._handleKeydown(t)})),Vo(3,1),Ao(),Ao()}if(2&e){const e=Bo();ko("@transformPanelWrap",void 0),gn(1),"mat-select-panel ",i=e._getPanelTheme(),"",ta(ot,Jo,yo(ii(),"mat-select-panel ",i,""),!0),Yo("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),ko("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),vo("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}var i}const MS=[[["mat-select-trigger"]],"*"],FS=["mat-select-trigger","*"],NS={transformPanelWrap:uu("transformPanelWrap",[mu("* => void",vu("@transformPanel",[gu()],{optional:!0}))]),transformPanel:uu("transformPanel",[_u("void",pu({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),_u("showing",pu({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),_u("showing-multiple",pu({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),mu("void => *",du("120ms cubic-bezier(0, 0, 0.2, 1)")),mu("* => void",du("100ms 25ms linear",pu({opacity:0})))])};let jS=0;const BS=new Be("mat-select-scroll-strategy"),HS=new Be("MAT_SELECT_CONFIG"),US={provide:BS,deps:[Em],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class VS{constructor(e,t){this.source=e,this.value=t}}class qS{constructor(e,t,i,r,n){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=i,this._parentFormGroup=r,this.ngControl=n}}const zS=og(ag(ng(lg(qS)))),WS=new Be("MatSelectTrigger");let $S=(()=>{class e extends zS{constructor(e,t,i,r,n,s,o,a,l,c,h,u,d,f){super(n,r,o,a,c),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=i,this._dir=s,this._parentFormField=l,this.ngControl=c,this._liveAnnouncer=d,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(e,t)=>e===t,this._uid="mat-select-"+jS++,this._triggerAriaLabelledBy=null,this._destroy=new S,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+jS++,this._transformOrigin="top",this._panelDoneAnimatingStream=new S,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Ff(()=>{const e=this.options;return e?e.changes.pipe(v_(e),Gf(()=>W(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.pipe(Qf(1),Gf(()=>this.optionSelectionChanges))}),this.openedChange=new El,this._openedStream=this.openedChange.pipe(Wf(e=>e),M(()=>{})),this._closedStream=this.openedChange.pipe(Wf(e=>!e),M(()=>{})),this.selectionChange=new El,this.valueChange=new El,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=u,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id,f&&(null!=f.disableOptionCentering&&(this.disableOptionCentering=f.disableOptionCentering),null!=f.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=f.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=r_(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=r_(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=r_(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){e!==this._value&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=n_(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new H_(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(e=>e.lift(new l_(void 0,void 0)),__(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(__(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(__(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(v_(null),__(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const t=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?t.setAttribute("aria-labelledby",e):t.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.pipe(Qf(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,i=40===t||38===t||37===t||39===t,r=13===t||32===t,n=this._keyManager;if(!n.isTyping()&&r&&!tm(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){const t=this.selected;n.onKeydown(e);const i=this.selected;i&&t!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,i=e.keyCode,r=40===i||38===i,n=t.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(n||13!==i&&32!==i||!t.activeItem||tm(e))if(!n&&this._multiple&&65===i&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const i=t.activeItemIndex;t.onKeydown(e),this._multiple&&r&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==i&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Qf(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.multiple&&e)Array.isArray(e),this._selectionModel.clear(),e.forEach(e=>this._selectValue(e)),this._sortValues();else{this._selectionModel.clear();const t=this._selectValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{try{return null!=t.value&&this._compareWith(t.value,e)}catch(i){return!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new Um(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(__(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(__(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=W(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(__(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),W(...this.options.map(e=>e._stateChanges)).pipe(__(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,t){const i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,i)=>this.sortComparator?this.sortComparator(t,i,e):e.indexOf(t)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(new VS(this,t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const e=this._keyManager.activeItemIndex||0,t=Pg(e,this.options,this.optionGroups),i=this._getItemHeight();var r,n,s;this.panel.nativeElement.scrollTop=(n=i,256,(r=(e+t)*i)<(s=this.panel.nativeElement.scrollTop)?r:r+n>s+256?Math.max(0,r-256+n):s)}focus(e){this._elementRef.nativeElement.focus(e)}_getOptionIndex(e){return this.options.reduce((t,i,r)=>void 0!==t?t:e===i?r:void 0,void 0)}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),i=Math.min(t*e,256),r=t*e-i;let n=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);n+=Pg(n,this.options,this.optionGroups);const s=i/2;this._scrollTop=this._calculateOverlayScroll(n,s,r),this._offsetY=this._calculateOverlayOffsetY(n,s,r),this._checkOverlayWithinViewport(r)}_calculateOverlayScroll(e,t,i){const r=this._getItemHeight();return Math.min(Math.max(0,r*e-t+r/2),i)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._getLabelId();return this.ariaLabelledby?e+" "+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var e;return(null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId())||""}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),i=this._isRtl(),r=this.multiple?56:32;let n;if(this.multiple)n=40;else{let e=this._selectionModel.selected[0]||this.options.first;n=e&&e.group?32:16}i||(n*=-1);const s=0-(e.left+n-(i?r:0)),o=e.right+n-t.width+(i?0:r);s>0?n+=s+8:o>0&&(n-=o+8),this.overlayDir.offsetX=Math.round(n),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,i){const r=this._getItemHeight(),n=(r-this._triggerRect.height)/2,s=Math.floor(256/r);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?e*r:this._scrollTop===i?(e-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-256)%r):t-r/2,Math.round(-1*o-n))}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,n=i.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*t,256)-s-this._triggerRect.height;o>n?this._adjustPanelUp(o,n):s>r?this._adjustPanelDown(s,r,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const i=Math.round(e-t);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,i){const r=Math.round(e-t);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return e.\u0275fac=function(t){return new(t||e)(Co(V_),Co(zs),Co(mc),Co(cg),Co(Pa),Co(j_,8),Co(dS,8),Co(SS,8),Co(sC,8),Co(yC,10),So("tabindex"),Co(BS),Co(zm),Co(HS,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-select"]],contentQueries:function(e,t,i){var r;1&e&&(Ul(i,WS,!0),Ul(i,Lg,!0),Ul(i,Eg,!0)),2&e&&(Nl(r=zl())&&(t.customTrigger=r.first),Nl(r=zl())&&(t.options=r),Nl(r=zl())&&(t.optionGroups=r))},viewQuery:function(e,t){var i;1&e&&(Bl(OS,!0),Bl(TS,!0),Bl(Rm,!0)),2&e&&(Nl(i=zl())&&(t.trigger=i.first),Nl(i=zl())&&(t.panel=i.first),Nl(i=zl())&&(t.overlayDir=i.first))},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&Io("keydown",(function(e){return t._handleKeydown(e)}))("focus",(function(){return t._onFocus()}))("blur",(function(){return t._onBlur()})),2&e&&(vo("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),Xo("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Oa([{provide:Gw,useExisting:e},{provide:Tg,useExisting:e}]),ma,Dt],ngContentSelectors:FS,decls:9,vars:10,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(Uo(MS),Eo(0,"div",0,1),Io("click",(function(){return t.toggle()})),Eo(3,"div",2),bo(4,RS,2,1,"span",3),bo(5,DS,3,2,"span",4),Ao(),Eo(6,"div",5),Oo(7,"div",6),Ao(),Ao(),bo(8,IS,4,14,"ng-template",7),Io("backdropClick",(function(){return t.close()}))("attach",(function(){return t._onAttached()}))("detach",(function(){return t.close()}))),2&e){const e=wo(1);gn(3),ko("ngSwitch",t.empty),vo("id",t._valueId),gn(1),ko("ngSwitchCase",!0),gn(1),ko("ngSwitchCase",!1),gn(3),ko("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[Tm,Sh,kh,Rm,xh,_h],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[NS.transformPanelWrap,NS.transformPanel]},changeDetection:0}),e})(),KS=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[US],imports:[[Lh,Pm,Dg,rg],q_,aC,Dg,rg]}),e})();const GS=["input"],ZS=function(){return{enterDuration:150}},YS=["*"],XS=new Be("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),QS=new Be("mat-checkbox-click-action");let JS=0;const ek={provide:cC,useExisting:ke(()=>nk),multi:!0};class tk{}class ik{constructor(e){this._elementRef=e}}const rk=ag(sg(og(ng(ik))));let nk=(()=>{class e extends rk{constructor(e,t,i,r,n,s,o,a){super(e),this._changeDetectorRef=t,this._focusMonitor=i,this._ngZone=r,this._clickAction=s,this._animationMode=o,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++JS,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new El,this.indeterminateChange=new El,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this.defaultColor=this._options.color),this.tabIndex=parseInt(n)||0,this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(e){this._required=r_(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const t=r_(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const t=e!=this._indeterminate;this._indeterminate=r_(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let t=this._currentCheckState,i=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const e=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(e)},1e3)})}}_emitChangeEvent(){const e=new tk;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e)}toggle(){this.checked=!this.checked}_onInputClick(e){e.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e="keyboard",t){this._focusMonitor.focusVia(this._inputElement,e,t)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,t){if("NoopAnimations"===this._animationMode)return"";let i="";switch(e){case 0:if(1===t)i="unchecked-checked";else{if(3!=t)return"";i="unchecked-indeterminate"}break;case 2:i=1===t?"unchecked-checked":"unchecked-indeterminate";break;case 1:i=2===t?"checked-unchecked":"checked-indeterminate";break;case 3:i=1===t?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+i}_syncIndeterminate(e){const t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}}return e.\u0275fac=function(t){return new(t||e)(Co(Pa),Co(zs),Co(Gm),Co(mc),So("tabindex"),Co(QS,8),Co(Lf,8),Co(XS,8))},e.\u0275cmp=pt({type:e,selectors:[["mat-checkbox"]],viewQuery:function(e,t){var i;1&e&&(Bl(GS,!0),Bl(gg,!0)),2&e&&(Nl(i=zl())&&(t._inputElement=i.first),Nl(i=zl())&&(t.ripple=i.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(fa("id",t.id),vo("tabindex",null),Xo("mat-checkbox-indeterminate",t.indeterminate)("mat-checkbox-checked",t.checked)("mat-checkbox-disabled",t.disabled)("mat-checkbox-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Oa([ek]),ma],ngContentSelectors:YS,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,t){if(1&e&&(Uo(),Eo(0,"label",0,1),Eo(2,"div",2),Eo(3,"input",3,4),Io("change",(function(e){return t._onInteractionEvent(e)}))("click",(function(e){return t._onInputClick(e)})),Ao(),Eo(5,"div",5),Oo(6,"div",6),Ao(),Oo(7,"div",7),Eo(8,"div",8),Ti(),Eo(9,"svg",9),Oo(10,"path",10),Ao(),ei.lFrame.currentNamespace=null,Oo(11,"div",11),Ao(),Ao(),Eo(12,"span",12,13),Io("cdkObserveContent",(function(){return t._onLabelTextChange()})),Eo(14,"span",14),ha(15,"\xa0"),Ao(),Vo(16),Ao(),Ao()),2&e){const e=wo(1),i=wo(13);vo("for",t.inputId),gn(2),Xo("mat-checkbox-inner-container-no-side-margin",!i.textContent||!i.textContent.trim()),gn(1),ko("id",t.inputId)("required",t.required)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex),vo("value",t.value)("name",t.name)("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-checked",t._getAriaChecked())("aria-describedby",t.ariaDescribedby),gn(2),ko("matRippleTrigger",e)("matRippleDisabled",t._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Cl(19,ZS))}},directives:[gg,Bm],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),e})(),sk=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})(),ok=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[vg,rg,Hm,sk],rg,sk]}),e})();function ak(e,t){if(1&e&&(Eo(0,"mat-option",8),ha(1),Ao()),2&e){const e=t.$implicit;ko("value",e),gn(1),da(" ",e.subject," ")}}function lk(e,t){if(1&e&&(Eo(0,"mat-option",8),ha(1),Ao()),2&e){const e=t.$implicit;ko("value",e),gn(1),da(" ",e," ")}}function ck(e,t){if(1&e&&(Eo(0,"mat-option",8),ha(1),Ao()),2&e){const e=t.$implicit;ko("value",e),gn(1),da(" ",e.subject," ")}}let hk=(()=>{class e{constructor(e,t){this._build=e,this._tests=t,this.repo=this._build.active_repo,this.driver=this._build.active_driver,this.driver_commit=this._build.active_commit,this.driver_commits=this._build.driver_commits,this.spec_commit=this._tests.active_commit,this.spec_commits=this._tests.commit_list,this.spec_file=this._tests.active_spec,this.specs=this._tests.spec_list,this.settings=this._tests.settings,this.setCommit=e=>this._build.setCommit(e),this.setSpecFile=e=>this._tests.setSpec(e),this.setSpecCommit=e=>this._tests.setCommit(e),this.setSettings=e=>this._tests.setSettings(e)}}return e.\u0275fac=function(t){return new(t||e)(Co(Ew),Co(Ow))},e.\u0275cmp=pt({type:e,selectors:[["workbench-form"]],decls:46,vars:30,consts:[[1,"py-2","flex","flex-col"],[1,"py-4"],[1,"flex","space-x-2","flex-wrap"],[1,"py-2","flex","flex-col","flex-1"],["appearance","outline"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"py-2","flex","items-center"],[3,"value"]],template:function(e,t){1&e&&(Eo(0,"div",0),Eo(1,"label"),ha(2,"Repository"),Ao(),Eo(3,"div",1),ha(4),kl(5,"async"),Ao(),Ao(),Eo(6,"div",2),Eo(7,"div",3),Eo(8,"label"),ha(9,"Driver"),Ao(),Eo(10,"div",1),ha(11),kl(12,"async"),Ao(),Ao(),Eo(13,"div",3),Eo(14,"label"),ha(15,"Commit"),Ao(),Eo(16,"mat-form-field",4),Eo(17,"mat-select",5),Io("ngModelChange",(function(e){return t.setCommit(e)})),kl(18,"async"),bo(19,ak,2,2,"mat-option",6),kl(20,"async"),Ao(),Ao(),Ao(),Ao(),Eo(21,"div",2),Eo(22,"div",3),Eo(23,"label"),ha(24,"Spec File"),Ao(),Eo(25,"mat-form-field",4),Eo(26,"mat-select",5),Io("ngModelChange",(function(e){return t.setSpecFile(e)})),kl(27,"async"),bo(28,lk,2,2,"mat-option",6),kl(29,"async"),Ao(),Ao(),Ao(),Eo(30,"div",3),Eo(31,"label"),ha(32,"Spec File Commit"),Ao(),Eo(33,"mat-form-field",4),Eo(34,"mat-select",5),Io("ngModelChange",(function(e){return t.setSpecCommit(e)})),kl(35,"async"),bo(36,ck,2,2,"mat-option",6),kl(37,"async"),Ao(),Ao(),Ao(),Ao(),Eo(38,"div",7),Eo(39,"mat-checkbox",5),Io("ngModelChange",(function(e){return t.setSettings({force:e})})),kl(40,"async"),ha(41,"Force Recompilation"),Ao(),Ao(),Eo(42,"div",7),Eo(43,"mat-checkbox",5),Io("ngModelChange",(function(e){return t.setSettings({debug_symbols:e})})),kl(44,"async"),ha(45,"Compile with Debug Symbols"),Ao(),Ao()),2&e&&(gn(4),ua(xl(5,10,t.repo)),gn(7),ua(xl(12,12,t.driver)),gn(6),ko("ngModel",xl(18,14,t.driver_commit)),gn(2),ko("ngForOf",xl(20,16,t.driver_commits)),gn(7),ko("ngModel",xl(27,18,t.spec_file)),gn(2),ko("ngForOf",xl(29,20,t.specs)),gn(6),ko("ngModel",xl(35,22,t.spec_commit)),gn(2),ko("ngForOf",xl(37,24,t.spec_commits)),gn(3),ko("ngModel",xl(40,26,t.settings).force),gn(4),ko("ngModel",xl(44,28,t.settings).debug_symbols))},directives:[oC,$S,bC,bS,gh,nk,Lg],pipes:[Rh],styles:["[_nghost-%COMP%] {\n                padding: 1rem;\n            }\n\n            label[_ngcontent-%COMP%] {\n                width: 10rem;\n            }\n\n            mat-form-field[_ngcontent-%COMP%] {\n                height: 3.5rem;\n                min-width: 16rem;\n            }"]}),e})(),uk=(()=>{class e{constructor(){this._timers={},this._intervals={},this._subscriptions={},this._initialised=new pv(!1),this.initialised=this._initialised.asObservable()}get is_initialised(){return this._initialised.getValue()}ngOnDestroy(){this.destroy()}destroy(){for(const e in this._timers)this._timers.hasOwnProperty(e)&&this.clearTimeout(e);for(const e in this._intervals)this._intervals.hasOwnProperty(e)&&this.clearInterval(e);for(const e in this._subscriptions)this._subscriptions.hasOwnProperty(e)&&this.unsub(e)}timeout(e,t,i=300){if(!(e&&t&&t instanceof Function))throw new Error(e?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");this.clearTimeout(e),this._timers[e]=setTimeout(()=>{t(),this._timers[e]=null},i)}clearTimeout(e){this._timers[e]&&(clearTimeout(this._timers[e]),this._timers[e]=null)}interval(e,t,i=300){if(!(e&&t&&t instanceof Function))throw new Error(e?"Cannot create named interval without a name":"Cannot create a interval without a callback");this.clearInterval(e),this._intervals[e]=setInterval(()=>t(),i)}clearInterval(e){this._intervals[e]&&(clearInterval(this._intervals[e]),this._intervals[e]=null)}subscription(e,t){this.unsub(e),this._subscriptions[e]=t}unsub(e){this._subscriptions&&this._subscriptions[e]&&(this._subscriptions[e]instanceof u?this._subscriptions[e].unsubscribe():this._subscriptions[e](),this._subscriptions[e]=null)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var dk=i("/POA");const fk=["terminal"],pk=["container"];let _k=(()=>{class e extends uk{ngOnInit(){this.terminal&&this.ngOnDestroy(),this.terminal=new dk.Terminal({theme:{background:"#212121",red:"#e53935",blue:"#1e88e5",yellow:"#fdd835",green:"#43a047"},fontSize:14}),this.terminal.open(this.terminal_element.nativeElement),this.timeout("init",()=>{this.resizeTerminal(),this.updateTerminalContents(this.content||"")})}ngOnChanges(e){e.content&&this.updateTerminalContents(this.content||""),e.resize&&this.timeout("resize",()=>this.resizeTerminal())}ngOnDestroy(){this.terminal.clear(),this.terminal.dispose()}resizeTerminal(){if(!this.terminal||!this.container_el)return;const e=this.terminal.getOption("fontSize"),t=this.terminal.getOption("lineHeight"),i=this.container_el.nativeElement.getBoundingClientRect(),r=Math.floor(i.width/(.6*e)),n=Math.floor(i.height/(t*e*1.2));this.terminal.resize(r-2,n)}updateTerminalContents(e){if(!this.terminal)return;this.terminal.clear();const t=e.split("\n");for(const i of t)this.terminal.writeln(i);this.timeout("scroll",()=>this.terminal.scrollToBottom(),50)}}return e.\u0275fac=function(t){return mk(t||e)},e.\u0275cmp=pt({type:e,selectors:[["a-terminal"]],viewQuery:function(e,t){var i;1&e&&(jl(fk,!0),jl(pk,!0)),2&e&&(Nl(i=zl())&&(t.terminal_element=i.first),Nl(i=zl())&&(t.container_el=i.first))},inputs:{content:"content",resize:"resize"},features:[ma,Dt],decls:4,vars:0,consts:[["name","terminal",1,"w-full","h-full","overflow-hidden",3,"resize"],["container",""],[1,"terminal"],["terminal",""]],template:function(e,t){1&e&&(Eo(0,"div",0,1),Io("resize",(function(){return t.resizeTerminal()}),!1,Zi),Oo(2,"div",2,3),Ao())},styles:['[name="terminal"][_ngcontent-%COMP%] {\n                background-color: #212121;\n            }\n\n            .terminal[_ngcontent-%COMP%] {\n                max-width: 100%;\n                min-height: 100%;\n            }']}),e})();const mk=pr(_k);function gk(e,t){if(1&e&&(Ti(),Oo(0,"circle",3)),2&e){const e=Bo();Yo("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),vo("r",e._getCircleRadius())}}function vk(e,t){if(1&e&&(Ti(),Oo(0,"circle",3)),2&e){const e=Bo();Yo("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),vo("r",e._getCircleRadius())}}function yk(e,t){if(1&e&&(Ti(),Oo(0,"circle",3)),2&e){const e=Bo();Yo("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),vo("r",e._getCircleRadius())}}function bk(e,t){if(1&e&&(Ti(),Oo(0,"circle",3)),2&e){const e=Bo();Yo("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),vo("r",e._getCircleRadius())}}const wk=".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n";class Ck{constructor(e){this._elementRef=e}}const Sk=sg(Ck,"primary"),kk=new Be("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let xk=(()=>{class e extends Sk{constructor(t,i,r,n,s){super(t),this._elementRef=t,this._document=r,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=e._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(r.head)||o.set(r.head,new Set([100])),this._fallbackAnimation=i.EDGE||i.TRIDENT,this._noopAnimations="NoopAnimations"===n&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=n_(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=n_(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,n_(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=F_(e)||this._document.head,this._attachStyleNode(),e.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,i=this._diameter,r=e._diameters;let n=r.get(t);if(!n||!n.has(i)){const e=this._document.createElement("style");e.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),e.textContent=this._getAnimationText(),t.appendChild(e),n||(n=new Set,r.set(t,n)),n.add(i)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,""+this._spinnerAnimationLabel)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return e.\u0275fac=function(t){return new(t||e)(Co(Pa),Co(T_),Co(Kc,8),Co(Lf,8),Co(kk))},e.\u0275cmp=pt({type:e,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(vo("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),Yo("width",t.diameter,"px")("height",t.diameter,"px"),Xo("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[ma],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(Ti(),Eo(0,"svg",0),bo(1,gk,1,9,"circle",1),bo(2,vk,1,7,"circle",2),Ao()),2&e&&(Yo("width",t.diameter,"px")("height",t.diameter,"px"),ko("ngSwitch","indeterminate"===t.mode),vo("viewBox",t._getViewBox()),gn(1),ko("ngSwitchCase",!0),gn(1),ko("ngSwitchCase",!1))},directives:[Sh,kh],styles:[wk],encapsulation:2,changeDetection:0}),e._diameters=new WeakMap,e})(),Ek=(()=>{class e extends xk{constructor(e,t,i,r,n){super(e,t,i,r,n),this.mode="indeterminate"}}return e.\u0275fac=function(t){return new(t||e)(Co(Pa),Co(T_),Co(Kc,8),Co(Lf,8),Co(kk))},e.\u0275cmp=pt({type:e,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(e,t){2&e&&(Yo("width",t.diameter,"px")("height",t.diameter,"px"),Xo("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color"},features:[ma],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(Ti(),Eo(0,"svg",0),bo(1,yk,1,9,"circle",1),bo(2,bk,1,7,"circle",2),Ao()),2&e&&(Yo("width",t.diameter,"px")("height",t.diameter,"px"),ko("ngSwitch","indeterminate"===t.mode),vo("viewBox",t._getViewBox()),gn(1),ko("ngSwitchCase",!0),gn(1),ko("ngSwitchCase",!1))},directives:[Sh,kh],styles:[wk],encapsulation:2,changeDetection:0}),e})(),Ak=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[rg,Lh],rg]}),e})();const Ok=["body"];function Tk(e,t){if(1&e&&Oo(0,"a-terminal",10),2&e){const e=Bo();ko("content",e.results||"No test results to display")("resize",e.fullscreen)}}function Rk(e,t){1&e&&(Eo(0,"div",11),Oo(1,"mat-spinner",12),Ao()),2&e&&(gn(1),ko("diameter",48))}let Lk=(()=>{class e extends uk{constructor(e,t){super(),this._build=e,this._tests=t,this.results="",this.fullscreen=!1,this.running=!1,this.runTests=()=>Cw(this,void 0,void 0,(function*(){this.running=!0,this.results=this.processResults(yield this._tests.runSpec({}).catch(e=>e)),this.running=!1}))}ngOnInit(){this.subscription("driver",this._build.active_driver.subscribe(()=>this.results=""))}processResults(e){e instanceof Object&&(e=e.error);const t=e.indexOf("exited with 0")>=0;return this._build.setTestStatus(t?"passed":"failed"),this.timeout("scroll",()=>this._body_el.nativeElement.scrollTo(0,this._body_el.nativeElement.scrollHeight),10),e}}return e.\u0275fac=function(t){return new(t||e)(Co(Ew),Co(Ow))},e.\u0275cmp=pt({type:e,selectors:[["workbench-output"]],viewQuery:function(e,t){var i;1&e&&Bl(Ok,!0),2&e&&Nl(i=zl())&&(t._body_el=i.first)},features:[ma],decls:12,vars:5,consts:[["name","output"],[1,"flex","items-center","p-2","w-full"],["mat-button","",3,"click"],[1,"flex-1","w-0"],["mat-icon-button","",3,"click"],[1,"material-icons"],[1,"flex-1","w-full","overflow-auto"],["body",""],[3,"content","resize",4,"ngIf"],["class","absolute inset-0 bg-white bg-opacity-25 flex items-center justify-center",4,"ngIf"],[3,"content","resize"],[1,"absolute","inset-0","bg-white","bg-opacity-25","flex","items-center","justify-center"],[3,"diameter"]],template:function(e,t){1&e&&(Eo(0,"div",0),Eo(1,"div",1),Eo(2,"button",2),Io("click",(function(){return t.runTests()})),ha(3,"Run!"),Ao(),Oo(4,"div",3),Eo(5,"button",4),Io("click",(function(){return t.fullscreen=!t.fullscreen})),Eo(6,"i",5),ha(7),Ao(),Ao(),Ao(),Eo(8,"div",6,7),bo(10,Tk,1,2,"a-terminal",8),Ao(),bo(11,Rk,2,1,"div",9),Ao()),2&e&&(Qo("absolute inset-0 flex flex-col border-t border-white bg-gray-800 text-white "+(t.fullscreen?"fullscreen":"")),gn(7),ua(t.fullscreen?"keyboard_arrow_down":"keyboard_arrow_up"),gn(3),ko("ngIf",!t.running),gn(1),ko("ngIf",t.running))},directives:[Ug,yh,_k,Ek],styles:['[_nghost-%COMP%] {\n            position: relative;\n            height: 100%;\n            width: 100%;\n        }\n\n        [name="output"][_ngcontent-%COMP%] {\n            transition: top 200ms;\n            top: 0;\n        }\n\n        .fullscreen[_ngcontent-%COMP%] {\n            top: -24rem;\n        }']}),e})();function Pk(e,t){1&e&&(To(0),Oo(1,"workbench-form",2),Oo(2,"workbench-output",3),Ro())}function Dk(e,t){1&e&&(Eo(0,"div",4),Eo(1,"i",5),ha(2,"arrow_back"),Ao(),Eo(3,"p"),ha(4,"Select a driver from the sidebar to begin"),Ao(),Ao())}let Ik=(()=>{class e{constructor(e,t){this._route=e,this._build=t}ngOnInit(){this._route.paramMap.subscribe(e=>{e.has("repo")&&this._build.setRepository(e.get("repo")),e.has("driver")&&this._build.setDriver(e.get("driver")),this.driver=e.get("driver")||""})}}return e.\u0275fac=function(t){return new(t||e)(Co(Ny),Co(Ew))},e.\u0275cmp=pt({type:e,selectors:[["app-workbench"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["empty_state",""],[1,"w-full"],[1,"w-full","flex-1","h-0"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center"],[1,"material-icons","m-4"]],template:function(e,t){if(1&e&&(bo(0,Pk,3,0,"ng-container",0),bo(1,Dk,5,0,"ng-template",null,1,Gl)),2&e){const e=wo(2);ko("ngIf",t.driver)("ngIfElse",e)}},directives:[yh,hk,Lk],styles:["[_nghost-%COMP%] {\n            position: relative;\n            display: flex;\n            flex-direction: column;\n            height: 100%;\n            width: 100%;\n        }\n\n        i[_ngcontent-%COMP%] {\n            font-size: 1.5rem;\n        }"]}),e})();const Mk=[{path:"",component:Ik},{path:":repo",component:Ik},{path:":repo/:driver",component:Ik},{path:"**",redirectTo:""}];let Fk,Nk,jk,Bk,Hk=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[fw.forRoot(Mk,{useHash:!0})],fw]}),e})();function Uk(e,t,i,r="debug",n=!1,s="Spec Runner"){if(window.debug||n){const n=["color: #E91E63","color: #3F51B5","color: default"];i?console[r](`%c[${s}]%c[${e}] %c${t}`,...n,i):console[r](`%c[${s}]%c[${e}] %c${t}`,...n)}}const Vk=function(){return["/"]};let qk=(()=>{class e{constructor(e){this._build=e,this.show_sidebar=this._build.sidebar,this.toggle=()=>this._build.toggleSidebar()}}return e.\u0275fac=function(t){return new(t||e)(Co(Ew))},e.\u0275cmp=pt({type:e,selectors:[["topbar-header"]],decls:9,vars:5,consts:[["mat-icon-button","",1,"text-white",3,"click"],[1,"material-icons"],[1,"h-full",3,"routerLink"],["src","assets/logo-dark.svg",1,"h-10"],[1,"px-4","text-white"],[1,"flex-1","min-w-0"]],template:function(e,t){1&e&&(Eo(0,"button",0),Io("click",(function(){return t.toggle()})),Eo(1,"i",1),ha(2),kl(3,"async"),Ao(),Ao(),Eo(4,"a",2),Oo(5,"img",3),Ao(),Eo(6,"h2",4),ha(7,"Driver Spec Runner"),Ao(),Oo(8,"div",5)),2&e&&(gn(2),ua(xl(3,2,t.show_sidebar)?"close":"menu"),gn(2),ko("routerLink",Cl(4,Vk)))},directives:[Ug,ew],pipes:[Rh],styles:["[_nghost-%COMP%] {\n            display: flex;\n            align-items: center;\n            padding: .5rem;\n            width: 100%;\n            background-color: #0A0D2E;\n        }\n\n        h2[_ngcontent-%COMP%] {\n            margin: 0;\n        }"]}),e})();const zk=M_({passive:!0});let Wk=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return If;const t=a_(e),i=this._monitoredElements.get(t);if(i)return i.subject;const r=new S,n="cdk-text-field-autofilled",s=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(n)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(n)&&(t.classList.remove(n),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!1}))):(t.classList.add(n),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",s,zk),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:r,unlisten:()=>{t.removeEventListener("animationstart",s,zk)}}),r}stopMonitoring(e){const t=a_(e),i=this._monitoredElements.get(t);i&&(i.unlisten(),i.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(Ze(T_),Ze(mc))},e.\u0275prov=ue({factory:function(){return new e(Ze(T_),Ze(mc))},token:e,providedIn:"root"}),e})(),$k=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[R_]]}),e})();const Kk=new Be("MAT_INPUT_VALUE_ACCESSOR"),Gk=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Zk=0;class Yk{constructor(e,t,i,r){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r}}const Xk=lg(Yk);let Qk=(()=>{class e extends Xk{constructor(e,t,i,r,n,s,o,a,l,c){super(s,r,n,i),this._elementRef=e,this._platform=t,this.ngControl=i,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+Zk++,this.focused=!1,this.stateChanges=new S,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>P_().has(e));const h=this._elementRef.nativeElement,u=h.nodeName.toLowerCase();this._inputValueAccessor=o||h,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&l.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{let t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u,this._isTextarea="textarea"===u,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=r_(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=r_(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&P_().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=r_(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const i=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(i!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=i,i?e.setAttribute("placeholder",i):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Gk.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return e.\u0275fac=function(t){return new(t||e)(Co(Pa),Co(T_),Co(yC,10),Co(dS,8),Co(SS,8),Co(cg),Co(Kk,10),Co(Wk),Co(mc),Co(sC,8))},e.\u0275dir=bt({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,t){1&e&&Io("focus",(function(){return t._focusChanged(!0)}))("blur",(function(){return t._focusChanged(!1)}))("input",(function(){return t._onInput()})),2&e&&(fa("disabled",t.disabled)("required",t.required),vo("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.errorState)("aria-required",t.required.toString()),Xo("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[Oa([{provide:Gw,useExisting:e}]),ma,Dt]}),e})(),Jk=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[cg],imports:[[$k,aC],$k,aC]}),e})(),ex=(()=>{class e{transform(e){if(e.indexOf("/")>=0){const t=e.split("/");return t.splice(0,1),`<div class="formatted-driver-name">${t.map(e=>`<div class="name-part">${e}</div>`).join('<div class="icon"><i class="material-icons">keyboard_arrow_right</i></div>')}</div>`}return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=wt({name:"driverFormat",type:e,pure:!0}),e})();function tx(e,t){if(1&e&&(Eo(0,"mat-option",9),ha(1),Ao()),2&e){const e=t.$implicit;ko("value",e),gn(1),da(" ",e," ")}}const ix=function(e,t){return[e,t]};function rx(e,t){if(1&e){const e=Lo();Eo(0,"a",11),Io("click",(function(){ni(e);const i=t.$implicit;return Bo(2).setDriver(i)})),Eo(1,"div",12),Oo(2,"div",13),kl(3,"async"),kl(4,"async"),Oo(5,"div",14),kl(6,"driverFormat"),Ao(),Ao()}if(2&e){const e=t.$implicit,a=Bo(2);ko("routerLink",(i=10,r=ix,n="/"+a.repo,s=e,function(e,t,i,r,n,s,o){const a=t+i;return function(e,t,i,r){const n=go(e,t,i);return go(e,t+1,r)||n}(e,a,n,s)?mo(e,a+2,o?r.call(o,n,s):r(n,s)):Sl(e,a+2)}(ii(),ui(),i,r,n,s,o))),gn(2),Qo("mr-4 h-2 w-2 rounded-full border border-white "+(xl(3,4,a.statues)[a.repo+"|"+e]?xl(4,6,a.statues)[a.repo+"|"+e]:"")),gn(3),ko("innerHTML",xl(6,8,e),Gr)}var i,r,n,s,o}function nx(e,t){if(1&e&&(To(0),bo(1,rx,7,13,"a",10),kl(2,"async"),Ro()),2&e){const e=Bo();gn(1),ko("ngForOf",xl(2,1,e.drivers))}}function sx(e,t){1&e&&(Eo(0,"p",15),ha(1,"No Drivers"),Ao())}let ox=(()=>{class e{constructor(e){this._build=e,this._search_filter=new pv(""),this.repos=this._build.repositories,this.drivers=Wg([this._build.driver_list,this._search_filter]).pipe(M(e=>{const[t,i]=e;return t.filter(e=>e.toLowerCase().includes(i.toLowerCase()))})),this.statues=this._build.test_statuses,this.setRepo=e=>this._build.setRepository(e),this.setDriver=e=>this._build.setDriver(e),this.setFilter=e=>this._search_filter.next(e),this.search_str=""}get repo(){return this._build.getRepository()}}return e.\u0275fac=function(t){return new(t||e)(Co(Ew))},e.\u0275cmp=pt({type:e,selectors:[["sidebar"]],decls:13,vars:9,consts:[["appearance","outline",1,"m-2"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"mb-2","mx-2"],["matPrefix","",1,"material-icons"],["matInput","","placeholder","Filter drivers...",3,"ngModel","ngModelChange"],[1,"overflow-y-auto","flex-1","border-t","border-gray-300"],[4,"ngIf","ngIfElse"],["empty_state",""],[3,"value"],["mat-button","","class","w-full border-gray-200","routerLinkActive","active",3,"routerLink","click",4,"ngFor","ngForOf"],["mat-button","","routerLinkActive","active",1,"w-full","border-gray-200",3,"routerLink","click"],[1,"flex","items-center","my-2"],["name","dot"],[3,"innerHTML"],[1,"p-2","w-full","text-center"]],template:function(e,t){if(1&e&&(Eo(0,"mat-form-field",0),Eo(1,"mat-select",1),Io("ngModelChange",(function(e){return t.setRepo(e)})),bo(2,tx,2,2,"mat-option",2),kl(3,"async"),Ao(),Ao(),Eo(4,"mat-form-field",3),Eo(5,"i",4),ha(6,"search"),Ao(),Eo(7,"input",5),Io("ngModelChange",(function(e){return t.search_str=e}))("ngModelChange",(function(e){return t.setFilter(e)})),Ao(),Ao(),Eo(8,"div",6),bo(9,nx,3,3,"ng-container",7),kl(10,"async"),Ao(),bo(11,sx,2,0,"ng-template",null,8,Gl)),2&e){const e=wo(12);var i;gn(1),ko("ngModel",t.repo),gn(1),ko("ngForOf",xl(3,5,t.repos)),gn(5),ko("ngModel",t.search_str),gn(2),ko("ngIf",null==(i=xl(10,7,t.drivers))?null:i.length)("ngIfElse",e)}},directives:[oC,$S,bC,bS,gh,Jw,Qk,pC,yh,Lg,Vg,ew,iw],pipes:[Rh,ex],styles:['[_nghost-%COMP%] {\n                display: flex;\n                flex-direction: column;\n                max-width: 20rem;\n            }\n\n            mat-form-field[_ngcontent-%COMP%] {\n                height: 3.5rem;\n            }\n\n            p[_ngcontent-%COMP%] {\n                margin: 1rem 0;\n            }\n\n            [name="dot"][_ngcontent-%COMP%] {\n                background-color: #ffb300;\n            }\n\n            [name="dot"].failed[_ngcontent-%COMP%] {\n                background-color: #d50000;\n            }\n\n            [name="dot"].passed[_ngcontent-%COMP%] {\n                background-color: #43a047;\n            }\n\n            a[_ngcontent-%COMP%] {\n                border-bottom: 1px solid #edf2f7;\n                border-radius: 0;\n            }\n\n            a.active[_ngcontent-%COMP%] {\n                background-color: #c92366;\n                color: #fff;\n            }']}),e})(),ax=(()=>{class e{constructor(e,t,i){this._snackbar=e,this._cache=t,this._build=i,this.show_sidebar=this._build.sidebar}ngOnInit(){Fk=this._snackbar,function(e,t=(()=>null),i=3e5){e.isEnabled&&(Nk&&Nk.unsubscribe(),jk&&jk.unsubscribe(),Bk&&clearInterval(Bk),Nk=e.available.subscribe(e=>{Uk("CACHE",`Update available: ${"current version is "+e.current.hash} ${"available version is "+e.available.hash}`),function(){this._cache.isEnabled&&(Uk("CACHE","Activating changes to the cache..."),this._cache.activateUpdate().then(()=>{var e,t;e="Newer version of the application is available",t=()=>location.reload(!0),console.info(e),function(e,t,i="OK",r,n={type:"icon",class:"material-icons",content:"info"}){if(!Fk)throw new Error("Snackbar service hasn't been initialised");const s=Fk.open(t,i,{panelClass:[e],duration:5e3});i&&(r=r||(()=>s.dismiss()),s.onAction().subscribe(()=>r()))}("info",e,"Refresh",t)}))}()}),jk=e.activated.subscribe(()=>{Uk("CACHE","Updates activated. Reloading..."),t("Newer version of the application is available",()=>location.reload(!0))}),Bk=setInterval(()=>{Uk("CACHE","Checking for updates..."),this._cache.checkForUpdate()},i))}(this._cache)}}return e.\u0275fac=function(t){return new(t||e)(Co(fv),Co(mp),Co(Ew))},e.\u0275cmp=pt({type:e,selectors:[["app-root"]],decls:7,vars:4,consts:[[1,"absolute","inset-0","overflow-hidden","flex","flex-col"],[1,"z-20"],[1,"flex","flex-1","w-full",2,"height","50%"],[1,"h-full","shadow","z-10","overflow-hidden"],["name","content",1,"h-full","flex-1","w-1/2","bg-gray-200","z-0"]],template:function(e,t){1&e&&(Eo(0,"div",0),Oo(1,"topbar-header",1),Eo(2,"div",2),Eo(3,"sidebar",3),kl(4,"async"),Ao(),Eo(5,"div",4),Oo(6,"router-outlet"),Ao(),Ao(),Ao()),2&e&&(gn(3),Xo("show",xl(4,2,t.show_sidebar)))},directives:[qk,ox,rw],pipes:[Rh],styles:[".formatted-driver-name,.formatted-driver-name .icon{display:flex;align-items:center}.formatted-driver-name .icon{justify-content:center;height:1.2em;width:1.2em;font-size:1.5em}.xterm-helper-textarea{opacity:0}",".mat-form-field .mat-select-value,.mat-form-field input{position:relative;top:-4px}.dark-mode a[button],.dark-mode button.mat-button,a[button],button.mat-button{background-color:#c92366;border:1px solid #c92366;color:#fff;min-height:3em}.dark-mode a[button].inverse,.dark-mode button.mat-button.inverse,a[button].inverse,button.mat-button.inverse{background-color:#fff;color:#c92366}.dark-mode a[button].success,.dark-mode button.mat-button.success,a[button].success,button.mat-button.success{background-color:#43a047;border-color:#43a047}.dark-mode a[button].clear,.dark-mode button.mat-button.clear,a[button].clear,button.mat-button.clear{background:none;border:none;color:rgba(0,0,0,.85)}.dark-mode a[button].error,.dark-mode button.mat-button.error,a[button].error,button.mat-button.error{background:none;color:#e53935;border-color:#e53935}.dark-mode a[button][disabled],.dark-mode button.mat-button[disabled],a[button][disabled],button.mat-button[disabled]{background-color:#ccc;border-color:rgba(0,0,0,.1);pointer-events:none}.mat-spinner circle{stroke:#c92366}.xterm{padding:1rem}sidebar{width:0;transition:width .2s}sidebar.show{width:20rem}","label{font-size:.75rem;font-weight:600}"],encapsulation:2}),e})();const lx={provide:new Be("mat-autocomplete-scroll-strategy"),deps:[Em],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let cx=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[lx],imports:[[Pm,Dg,rg,Lh],q_,Dg,rg]}),e})();const hx=[aC,Jk,cx,qg,KS,ok,Ak],ux=[ES,AS];let dx=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[Lh,fw,...hx,...ux],aC,Jk,cx,qg,KS,ok,Ak,ES,AS]}),e})(),fx=(()=>{class e{}return e.\u0275mod=vt({type:e,bootstrap:[ax]}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[],imports:[[cu,Hk,Df,uv,i_,dx,Sp.register("ngsw-worker.js",{enabled:!0})]]}),e})();(function(){if(Sr)throw new Error("Cannot enable prod mode after platform setup.");Cr=!1})(),au().bootstrapModule(fx).catch(e=>console.error(e))},zn8P:function(e,t){function i(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="zn8P"}},[[0,0]]]);